exports.id=9911,exports.ids=[9911],exports.modules={6607:()=>{},47398:()=>{},89911:(e,t,r)=>{"use strict";let i;r.d(t,{EthereumProvider:()=>sM});var s=r(82361),o=r.n(s),a=r(21034);let l=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,u=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,c=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function h(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function f(e,t={}){if("string"!=typeof e)return e;let r=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let e=r.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!c.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(l.test(e)||u.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,h)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function d(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function p(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return p(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let g="base64:";function y(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function m(e){return(e=y(e))?e+":":""}let b=()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function v(e,t,r){return e.watch?e.watch((e,i)=>t(e,r+i)):()=>{}}async function w(e){"function"==typeof e.dispose&&await d(e.dispose)}function _(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function D(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let i=_(r);return(e,r)=>i.then(i=>r(i.transaction(t,e).objectStore(t)))}function E(){return i||(i=D("keyval-store","keyval")),i}function S(e,t=E()){return t("readonly",t=>_(t.get(e)))}var x=r(19577),I=(e={})=>{let t;let r=e.base&&e.base.length>0?`${e.base}:`:"",i=e=>r+e;return e.dbName&&e.storeName&&(t=D(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await S(i(e),t)>"u"),getItem:async e=>await S(i(e),t)??null,setItem:(e,r)=>(function(e,t,r=E()){return r("readwrite",r=>(r.put(t,e),_(r.transaction)))})(i(e),r,t),removeItem:e=>(function(e,t=E()){return t("readwrite",t=>(t.delete(e),_(t.transaction)))})(i(e),t),getKeys:()=>(function(e=E()){return e("readonly",e=>{var t;if(e.getAllKeys)return _(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},_(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=E()){return e("readwrite",e=>(e.clear(),_(e.transaction)))})(t)}};class O{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||b()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},i=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),s=(e,r)=>{if(t.watching)for(let i of(r=y(r),t.watchListeners))i(e,r)},o=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await v(t.mounts[e],s,e)},a=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},l=(e,t,i)=>{let s=new Map,o=e=>{let t=s.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},s.set(e.base,t)),t};for(let i of e){let e="string"==typeof i,s=y(e?i:i.key),a=e?void 0:i.value,l=e||!i.options?t:{...t,...i.options},u=r(s);o(u).items.push({key:s,value:a,relativeKey:u.relativeKey,options:l})}return Promise.all([...s.values()].map(e=>i(e))).then(e=>e.flat())},u={hasItem(e,t={}){let{relativeKey:i,driver:s}=r(e=y(e));return d(s.hasItem,i,t)},getItem(e,t={}){let{relativeKey:i,driver:s}=r(e=y(e));return d(s.getItem,i,t).then(e=>f(e))},getItems:(e,t={})=>l(e,t,e=>e.driver.getItems?d(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return y(e.join(":"))}(e.base,t.key),value:f(t.value)}))):Promise.all(e.items.map(t=>d(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:f(e)}))))),getItemRaw(e,t={}){let{relativeKey:i,driver:s}=r(e=y(e));return s.getItemRaw?d(s.getItemRaw,i,t):d(s.getItem,i,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(g)?(t=e.slice(g.length),globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,i={}){if(void 0===t)return u.removeItem(e);let{relativeKey:o,driver:a}=r(e=y(e));a.setItem&&(await d(a.setItem,o,p(t),i),a.watch||s("update",e))},async setItems(e,t){await l(e,t,async e=>{if(e.driver.setItems)return d(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:p(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>d(e.driver.setItem,t.relativeKey,p(t.value),t.options)))})},async setItemRaw(e,t,i={}){if(void 0===t)return u.removeItem(e,i);let{relativeKey:o,driver:a}=r(e=y(e));if(a.setItemRaw)await d(a.setItemRaw,o,t,i);else{if(!a.setItem)return;await d(a.setItem,o,"string"==typeof t?t:g+(globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))),i)}a.watch||s("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:i,driver:o}=r(e=y(e));o.removeItem&&(await d(o.removeItem,i,t),(t.removeMeta||t.removeMata)&&await d(o.removeItem,i+"$",t),o.watch||s("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:i,driver:s}=r(e=y(e)),o=Object.create(null);if(s.getMeta&&Object.assign(o,await d(s.getMeta,i,t)),!t.nativeOnly){let e=await d(s.getItem,i+"$",t).then(e=>f(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(o,e))}return o},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=i(e=m(e),!0),s=[],o=[],a=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(a=!1),await d(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+y(r);s.some(e=>t.startsWith(e))||o.push(t)}s=[e.mountpoint,...s.filter(t=>!t.startsWith(e.mountpoint))]}let l=void 0!==t.maxDepth&&!a;return o.filter(r=>{var i;return(!l||function(e,t){if(void 0===t)return!0;let r=0,i=e.indexOf(":");for(;i>-1;)r++,i=e.indexOf(":",i+1);return r<=t}(r,t.maxDepth))&&((i=e)?r.startsWith(i)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=m(e),await Promise.all(i(e,!1).map(async e=>e.driver.clear?d(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>w(e)))},watch:async e=>(await o(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await a()}),async unwatch(){t.watchListeners=[],await a()},mount(e,r){if((e=m(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(v(r,s,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),u},async unmount(e,r=!0){(e=m(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await w(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=y(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>i(e=y(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>u.getKeys(e,t),get:(e,t={})=>u.getItem(e,t),set:(e,t,r={})=>u.setItem(e,t,r),has:(e,t={})=>u.hasItem(e,t),del:(e,t={})=>u.removeItem(e,t),remove:(e,t={})=>u.removeItem(e,t)};return u}({driver:I({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,x.safeJsonStringify)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var C="u">typeof globalThis?globalThis:"u">typeof global?global:"u">typeof self?self:{},P={exports:{}};function A(e){var t;return[e[0],(0,x.safeJsonParse)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof C&&C.localStorage?P.exports=C.localStorage:P.exports=new e}();class R{constructor(){this.localStorage=P.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(A)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,x.safeJsonParse)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,x.safeJsonStringify)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let T=async(e,t,r)=>{let i="wc_storage_version",s=await t.getItem(i);if(s&&s>=1){r(t);return}let o=await e.getKeys();if(!o.length){r(t);return}let a=[];for(;o.length;){let r=o.shift();if(!r)continue;let i=r.toLowerCase();if(i.includes("wc@")||i.includes("walletconnect")||i.includes("wc_")||i.includes("wallet_connect")){let i=await e.getItem(r);await t.setItem(r,i),a.push(r)}}await t.setItem(i,1),r(t),N(e,a)},N=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class k{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new R;this.storage=e;try{let t=new O;T(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var j=r(95466),L=r(86959),$=r.n(L);let B={level:"info"},M="custom_context";class q{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class U{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new q(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}var F=Object.defineProperty,z=Object.defineProperties,W=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,K=(e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,J=(e,t)=>{for(var r in t||(t={}))V.call(t,r)&&K(e,r,t[r]);if(H)for(var r of H(t))G.call(t,r)&&K(e,r,t[r]);return e},Z=(e,t)=>z(e,W(t));function Y(e){return Z(J({},e),{level:e?.level||B.level})}function Q(e,t=M){return typeof e.bindings>"u"?function(e,t=M){return e[t]||""}(e,t):e.bindings().context||""}function X(e,t,r=M){let i=function(e,t,r=M){let i=Q(e,r);return i.trim()?`${i}/${t}`:t}(e,t,r);return function(e,t,r=M){return e[r]=t,e}(e.child({context:i}),i,r)}var ee=r(76016);class et extends ee.q{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}}class er extends ee.q{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}}class ei{constructor(e,t){this.logger=e,this.core=t}}class en extends ee.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class es extends ee.q{constructor(e){super()}}class eo{constructor(e,t,r,i){this.core=e,this.logger=t,this.name=r}}class ea extends ee.q{constructor(e,t){super(),this.relayer=e,this.logger=t}}class el extends ee.q{constructor(e,t){super(),this.core=e,this.logger=t}}class eu{constructor(e,t){this.projectId=e,this.logger=t}}class ec{constructor(e,t){this.projectId=e,this.logger=t}}class eh{constructor(e){this.opts=e,this.protocol="wc",this.version=2}}class ef{constructor(e){this.client=e}}var ed=r(94378);function ep(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function eg(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let ey="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,em=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function eb(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),ep(e),e}class ev{clone(){return this._cloneInto()}}function ew(e=32){if(ey&&"function"==typeof ey.getRandomValues)return ey.getRandomValues(new Uint8Array(e));if(ey&&"function"==typeof ey.randomBytes)return ey.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class e_ extends ev{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=em(this.buffer)}update(e){eg(this);let{view:t,buffer:r,blockLen:i}=this,s=(e=eb(e)).length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let t=em(e);for(;i<=s-o;o+=i)this.process(t,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eg(this),function(e,t){ep(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:s}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let s=BigInt(32),o=BigInt(4294967295),a=Number(r>>s&o),l=Number(r&o),u=i?4:0,c=i?0:4;e.setUint32(t+u,a,i),e.setUint32(t+c,l,i)})(r,i-8,BigInt(8*this.length),s),this.process(r,0);let a=em(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=l/4,c=this.get();if(u>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)a.setUint32(4*e,c[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}}let eD=BigInt(4294967296-1),eE=BigInt(32);function eS(e,t=!1){return t?{h:Number(e&eD),l:Number(e>>eE&eD)}:{h:0|Number(e>>eE&eD),l:0|Number(e&eD)}}let ex={fromBig:eS,split:function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:o,l:a}=eS(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]},toBig:(e,t)=>BigInt(e>>>0)<<eE|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,i){let s=(t>>>0)+(i>>>0);return{h:e+r+(s/4294967296|0)|0,l:0|s}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/4294967296|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,s)=>t+r+i+s+(e/4294967296|0)|0,add5H:(e,t,r,i,s,o)=>t+r+i+s+o+(e/4294967296|0)|0,add5L:(e,t,r,i,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(s>>>0)},[eI,eO]=ex.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),eC=new Uint32Array(80),eP=new Uint32Array(80);class eA extends e_{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:u,El:c,Fh:h,Fl:f,Gh:d,Gl:p,Hh:g,Hl:y}=this;return[e,t,r,i,s,o,a,l,u,c,h,f,d,p,g,y]}set(e,t,r,i,s,o,a,l,u,c,h,f,d,p,g,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|s,this.Cl=0|o,this.Dh=0|a,this.Dl=0|l,this.Eh=0|u,this.El=0|c,this.Fh=0|h,this.Fl=0|f,this.Gh=0|d,this.Gl=0|p,this.Hh=0|g,this.Hl=0|y}process(e,t){for(let r=0;r<16;r++,t+=4)eC[r]=e.getUint32(t),eP[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|eC[e-15],r=0|eP[e-15],i=ex.rotrSH(t,r,1)^ex.rotrSH(t,r,8)^ex.shrSH(t,r,7),s=ex.rotrSL(t,r,1)^ex.rotrSL(t,r,8)^ex.shrSL(t,r,7),o=0|eC[e-2],a=0|eP[e-2],l=ex.rotrSH(o,a,19)^ex.rotrBH(o,a,61)^ex.shrSH(o,a,6),u=ex.rotrSL(o,a,19)^ex.rotrBL(o,a,61)^ex.shrSL(o,a,6),c=ex.add4L(s,u,eP[e-7],eP[e-16]),h=ex.add4H(c,i,l,eC[e-7],eC[e-16]);eC[e]=0|h,eP[e]=0|c}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:u,Dl:c,Eh:h,El:f,Fh:d,Fl:p,Gh:g,Gl:y,Hh:m,Hl:b}=this;for(let e=0;e<80;e++){let t=ex.rotrSH(h,f,14)^ex.rotrSH(h,f,18)^ex.rotrBH(h,f,41),v=ex.rotrSL(h,f,14)^ex.rotrSL(h,f,18)^ex.rotrBL(h,f,41),w=h&d^~h&g,_=f&p^~f&y,D=ex.add5L(b,v,_,eO[e],eP[e]),E=ex.add5H(D,m,t,w,eI[e],eC[e]),S=0|D,x=ex.rotrSH(r,i,28)^ex.rotrBH(r,i,34)^ex.rotrBH(r,i,39),I=ex.rotrSL(r,i,28)^ex.rotrBL(r,i,34)^ex.rotrBL(r,i,39),O=r&s^r&a^s&a,C=i&o^i&l^o&l;m=0|g,b=0|y,g=0|d,y=0|p,d=0|h,p=0|f,({h:h,l:f}=ex.add(0|u,0|c,0|E,0|S)),u=0|a,c=0|l,a=0|s,l=0|o,s=0|r,o=0|i;let P=ex.add3L(S,I,C);r=ex.add3H(P,E,x,O),i=0|P}({h:r,l:i}=ex.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:s,l:o}=ex.add(0|this.Bh,0|this.Bl,0|s,0|o)),({h:a,l:l}=ex.add(0|this.Ch,0|this.Cl,0|a,0|l)),({h:u,l:c}=ex.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:h,l:f}=ex.add(0|this.Eh,0|this.El,0|h,0|f)),({h:d,l:p}=ex.add(0|this.Fh,0|this.Fl,0|d,0|p)),({h:g,l:y}=ex.add(0|this.Gh,0|this.Gl,0|g,0|y)),({h:m,l:b}=ex.add(0|this.Hh,0|this.Hl,0|m,0|b)),this.set(r,i,s,o,a,l,u,c,h,f,d,p,g,y,m,b)}roundClean(){eC.fill(0),eP.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let eR=function(e){let t=t=>e().update(eb(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new eA),eT=BigInt(0),eN=BigInt(1),ek=BigInt(2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ej(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function eL(e){if(!ej(e))throw Error("Uint8Array expected")}function e$(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let eB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eM(e){eL(e);let t="";for(let r=0;r<e.length;r++)t+=eB[e[r]];return t}function eq(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?eT:BigInt("0x"+e)}let eU={_0:48,_9:57,A:65,F:70,a:97,f:102};function eF(e){return e>=eU._0&&e<=eU._9?e-eU._0:e>=eU.A&&e<=eU.F?e-(eU.A-10):e>=eU.a&&e<=eU.f?e-(eU.a-10):void 0}function ez(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let i=new Uint8Array(r);for(let t=0,s=0;t<r;t++,s+=2){let r=eF(e.charCodeAt(s)),o=eF(e.charCodeAt(s+1));if(void 0===r||void 0===o)throw Error('hex string expected, got non-hex character "'+(e[s]+e[s+1])+'" at index '+s);i[t]=16*r+o}return i}function eW(e){return eL(e),eq(eM(Uint8Array.from(e).reverse()))}function eH(e,t){return ez(e.toString(16).padStart(2*t,"0"))}function eV(e,t){return eH(e,t).reverse()}function eG(e,t,r){let i;if("string"==typeof t)try{i=ez(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(ej(t))i=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let s=i.length;if("number"==typeof r&&s!==r)throw Error(e+" of length "+r+" expected, got "+s);return i}function eK(...e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];eL(i),t+=i.length}let r=new Uint8Array(t);for(let t=0,i=0;t<e.length;t++){let s=e[t];r.set(s,i),i+=s.length}return r}let eJ=e=>"bigint"==typeof e&&eT<=e;function eZ(e,t,r,i){if(!(eJ(t)&&eJ(r)&&eJ(i))||!(r<=t)||!(t<i))throw Error("expected valid "+e+": "+r+" <= n < "+i+", got "+t)}let eY=e=>(ek<<BigInt(e-1))-eN,eQ={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||ej(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function eX(e,t,r={}){let i=(t,r,i)=>{let s=eQ[r];if("function"!=typeof s)throw Error("invalid validator function");let o=e[t];if(!(i&&void 0===o)&&!s(o,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}function e0(e){let t=new WeakMap;return(r,...i)=>{let s=t.get(r);if(void 0!==s)return s;let o=e(r,...i);return t.set(r,o),o}}let e1=BigInt(0),e3=BigInt(1),e8=BigInt(2),e2=BigInt(3),e4=BigInt(4),e5=BigInt(5),e7=BigInt(8);function e6(e,t){let r=e%t;return r>=e1?r:t+r}function e9(e,t,r){let i=e;for(;t-- >e1;)i*=i,i%=r;return i}function te(e,t){if(e===e1)throw Error("invert: expected non-zero number");if(t<=e1)throw Error("invert: expected positive modulus, got "+t);let r=e6(e,t),i=t,s=e1,o=e3;for(;r!==e1;){let e=i/r,t=i%r,a=s-o*e;i=r,r=t,s=o,o=a}if(i!==e3)throw Error("invert: does not exist");return e6(s,t)}let tt=(e,t)=>(e6(e,t)&e3)===e3,tr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ti(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function tn(e,t,r=!1,i={}){let s;if(e<=e1)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:a}=ti(e,t);if(a>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:eY(o),ZERO:e1,ONE:e3,create:t=>e6(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return e1<=t&&t<e},is0:e=>e===e1,isOdd:e=>(e&e3)===e3,neg:t=>e6(-t,e),eql:(e,t)=>e===t,sqr:t=>e6(t*t,e),add:(t,r)=>e6(t+r,e),sub:(t,r)=>e6(t-r,e),mul:(t,r)=>e6(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<e1)throw Error("invalid exponent, negatives unsupported");if(r===e1)return e.ONE;if(r===e3)return t;let i=e.ONE,s=t;for(;r>e1;)r&e3&&(i=e.mul(i,s)),s=e.sqr(s),r>>=e3;return i})(l,e,t),div:(t,r)=>e6(t*te(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>te(t,e),sqrt:i.sqrt||(t=>(s||(s=function(e){if(e%e4===e2){let t=(e+e3)/e4;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%e7===e5){let t=(e-e5)/e7;return function(e,r){let i=e.mul(r,e8),s=e.pow(i,t),o=e.mul(r,s),a=e.mul(e.mul(o,e8),s),l=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(l),r))throw Error("Cannot find square root");return l}}return function(e){let t,r,i;let s=(e-e3)/e8;for(t=e-e3,r=0;t%e8===e1;t/=e8,r++);for(i=e8;i<e&&function(e,t,r){if(t<e1)throw Error("invalid exponent, negatives unsupported");if(r<=e1)throw Error("invalid modulus");if(r===e3)return e1;let i=e3;for(;t>e1;)t&e3&&(i=i*e%r),e=e*e%r,t>>=e3;return i}(i,s,e)!==e-e3;i++)if(i>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+e3)/e4;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let o=(t+e3)/e8;return function(e,a){if(e.pow(a,s)===e.neg(e.ONE))throw Error("Cannot find square root");let l=r,u=e.pow(e.mul(e.ONE,i),t),c=e.pow(a,o),h=e.pow(a,t);for(;!e.eql(h,e.ONE);){if(e.eql(h,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(h);t<l&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,e3<<BigInt(l-t-1));u=e.sqr(r),c=e.mul(c,r),h=e.mul(h,u),l=t}return c}}(e)}(e)),s(l,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),i=t.reduce((t,i,s)=>e.is0(i)?t:(r[s]=t,e.mul(t,i)),e.ONE),s=e.inv(i);return t.reduceRight((t,i,s)=>e.is0(i)?t:(r[s]=e.mul(t,r[s]),e.mul(t,i)),s),r})(l,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?eV(e,a):eH(e,a),fromBytes:e=>{if(e.length!==a)throw Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return r?eW(e):eq(eM(e))}});return Object.freeze(l)}let ts=BigInt(0),to=BigInt(1);function ta(e,t){let r=t.negate();return e?r:t}function tl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function tu(e,t){return tl(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let tc=new WeakMap,th=new WeakMap;function tf(e){return th.get(e)||1}let td=BigInt(0),tp=BigInt(1),tg=BigInt(2),ty=BigInt(8),tm={zip215:!0};BigInt(0),BigInt(1);let tb=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),tv=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let tw=BigInt(1),t_=BigInt(2);BigInt(3);let tD=BigInt(5),tE=BigInt(8),tS=tn(tb,void 0,!0),tx=function(e){var t;let r=function(e){let t=(eX(e.Fp,tr.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),eX(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ti(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return eX(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:i,n:s,prehash:o,hash:a,randomBytes:l,nByteLength:u,h:c}=r,h=tg<<BigInt(8*u)-tp,f=i.create,d=tn(r.n,r.nBitLength),p=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:i.sqrt(e*i.inv(t))}}catch{return{isValid:!1,value:td}}}),g=r.adjustScalarBytes||(e=>e),y=r.domain||((e,t,r)=>{if(e$("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function m(e,t){eZ("coordinate "+e,t,td,h)}function b(e){if(!(e instanceof _))throw Error("ExtendedPoint expected")}let v=e0((e,t)=>{let{ex:r,ey:s,ez:o}=e,a=e.is0();null==t&&(t=a?ty:i.inv(o));let l=f(r*t),u=f(s*t),c=f(o*t);if(a)return{x:td,y:tp};if(c!==tp)throw Error("invZ was invalid");return{x:l,y:u}}),w=e0(e=>{let{a:t,d:i}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:s,ey:o,ez:a,et:l}=e,u=f(s*s),c=f(o*o),h=f(a*a),d=f(h*h),p=f(u*t);if(f(h*f(p+c))!==f(d+f(i*f(u*c))))throw Error("bad point: equation left != right (1)");if(f(s*o)!==f(a*l))throw Error("bad point: equation left != right (2)");return!0});class _{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i,m("x",e),m("y",t),m("z",r),m("t",i),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof _)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return m("x",t),m("y",r),new _(t,r,tp,f(t*r))}static normalizeZ(e){let t=i.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(_.fromAffine)}static msm(e,t){return function(e,t,r,i){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(i,t),r.length!==i.length)throw Error("arrays of points and scalars must have equal length");let s=e.ZERO,o=function(e){let t;for(t=0;e>eT;e>>=eN,t+=1);return t}(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,l=(1<<a)-1,u=Array(l+1).fill(s),c=Math.floor((t.BITS-1)/a)*a,h=s;for(let e=c;e>=0;e-=a){u.fill(s);for(let t=0;t<i.length;t++){let s=Number(i[t]>>BigInt(e)&BigInt(l));u[s]=u[s].add(r[t])}let t=s;for(let e=u.length-1,r=s;e>0;e--)r=r.add(u[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<a;e++)h=h.double()}return h}(_,d,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){b(e);let{ex:t,ey:r,ez:i}=this,{ex:s,ey:o,ez:a}=e,l=f(t*a),u=f(s*i),c=f(r*a),h=f(o*i);return l===u&&c===h}is0(){return this.equals(_.ZERO)}negate(){return new _(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){let{a:e}=r,{ex:t,ey:i,ez:s}=this,o=f(t*t),a=f(i*i),l=f(tg*f(s*s)),u=f(e*o),c=t+i,h=f(f(c*c)-o-a),d=u+a,p=d-l,g=u-a,y=f(h*p),m=f(d*g),b=f(h*g);return new _(y,m,f(p*d),b)}add(e){b(e);let{a:t,d:i}=r,{ex:s,ey:o,ez:a,et:l}=this,{ex:u,ey:c,ez:h,et:d}=e;if(t===BigInt(-1)){let e=f((o-s)*(c+u)),t=f((o+s)*(c-u)),r=f(t-e);if(r===td)return this.double();let i=f(a*tg*d),p=f(l*tg*h),g=p+i,y=t+e,m=p-i,b=f(g*r),v=f(y*m),w=f(g*m);return new _(b,v,f(r*y),w)}let p=f(s*u),g=f(o*c),y=f(l*i*d),m=f(a*h),v=f((s+o)*(u+c)-p-g),w=m-y,D=m+y,E=f(g-t*p),S=f(v*w),x=f(D*E),I=f(v*E);return new _(S,x,f(w*D),I)}subtract(e){return this.add(e.negate())}wNAF(e){return S.wNAFCached(this,e,_.normalizeZ)}multiply(e){eZ("scalar",e,tp,s);let{p:t,f:r}=this.wNAF(e);return _.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=_.ZERO){return eZ("scalar",e,td,s),e===td?E:this.is0()||e===tp?this:S.wNAFCachedUnsafe(this,e,_.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,s).is0()}toAffine(e){return v(this,e)}clearCofactor(){let{h:e}=r;return e===tp?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:s,a:o}=r,a=i.BYTES;e=eG("pointHex",e,a),e$("zip215",t);let l=e.slice(),u=e[a-1];l[a-1]=-129&u;let c=eW(l);eZ("pointHex.y",c,td,t?h:i.ORDER);let d=f(c*c),{isValid:g,value:y}=p(f(d-tp),f(s*d-o));if(!g)throw Error("Point.fromHex: invalid y coordinate");let m=(y&tp)===tp,b=(128&u)!=0;if(!t&&y===td&&b)throw Error("Point.fromHex: x=0 and x_0=1");return b!==m&&(y=f(-y)),_.fromAffine({x:y,y:c})}static fromPrivateKey(e){return x(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=eV(t,i.BYTES);return r[r.length-1]|=e&tp?128:0,r}toHex(){return eM(this.toRawBytes())}}_.BASE=new _(r.Gx,r.Gy,tp,f(r.Gx*r.Gy)),_.ZERO=new _(td,tp,tp,td);let{BASE:D,ZERO:E}=_,S=(t=8*u,{constTimeNegate:ta,hasPrecomputes:e=>1!==tf(e),unsafeLadder(e,t,r=_.ZERO){let i=e;for(;t>ts;)t&to&&(r=r.add(i)),i=i.double(),t>>=to;return r},precomputeWindow(e,r){let{windows:i,windowSize:s}=tu(r,t),o=[],a=e,l=a;for(let e=0;e<i;e++){l=a,o.push(l);for(let e=1;e<s;e++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(e,r,i){let{windows:s,windowSize:o}=tu(e,t),a=_.ZERO,l=_.BASE,u=BigInt(2**e-1),c=2**e,h=BigInt(e);for(let e=0;e<s;e++){let t=e*o,s=Number(i&u);i>>=h,s>o&&(s-=c,i+=to);let f=t+Math.abs(s)-1,d=e%2!=0,p=s<0;0===s?l=l.add(ta(d,r[t])):a=a.add(ta(p,r[f]))}return{p:a,f:l}},wNAFUnsafe(e,r,i,s=_.ZERO){let{windows:o,windowSize:a}=tu(e,t),l=BigInt(2**e-1),u=2**e,c=BigInt(e);for(let e=0;e<o;e++){let t=e*a;if(i===ts)break;let o=Number(i&l);if(i>>=c,o>a&&(o-=u,i+=to),0===o)continue;let h=r[t+Math.abs(o)-1];o<0&&(h=h.negate()),s=s.add(h)}return s},getPrecomputes(e,t,r){let i=tc.get(t);return i||(i=this.precomputeWindow(t,e),1!==e&&tc.set(t,r(i))),i},wNAFCached(e,t,r){let i=tf(e);return this.wNAF(i,this.getPrecomputes(i,e,r),t)},wNAFCachedUnsafe(e,t,r,i){let s=tf(e);return 1===s?this.unsafeLadder(e,t,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),t,i)},setWindowSize(e,r){tl(r,t),th.set(e,r),tc.delete(e)}});function x(e){let t=i.BYTES;e=eG("private key",e,t);let r=eG("hashed private key",a(e),2*t),o=g(r.slice(0,t)),l=r.slice(t,2*t),u=e6(eW(o),s),c=D.multiply(u),h=c.toRawBytes();return{head:o,prefix:l,scalar:u,point:c,pointBytes:h}}function I(e=new Uint8Array,...t){return e6(eW(a(y(eK(...t),eG("context",e),!!o))),s)}return D._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return x(e).pointBytes},sign:function(e,t,r={}){e=eG("message",e),o&&(e=o(e));let{prefix:a,scalar:l,pointBytes:u}=x(t),c=I(r.context,a,e),h=D.multiply(c).toRawBytes(),f=e6(c+I(r.context,h,u,e)*l,s);return eZ("signature.s",f,td,s),eG("result",eK(h,eV(f,i.BYTES)),2*i.BYTES)},verify:function(e,t,r,s=tm){let a,l,u;let{context:c,zip215:h}=s,f=i.BYTES;e=eG("signature",e,2*f),t=eG("message",t),r=eG("publicKey",r,f),void 0!==h&&e$("zip215",h),o&&(t=o(t));let d=eW(e.slice(f,2*f));try{a=_.fromHex(r,h),l=_.fromHex(e.slice(0,f),h),u=D.multiplyUnsafe(d)}catch{return!1}if(!h&&a.isSmallOrder())return!1;let p=I(c,l.toRawBytes(),a.toRawBytes(),t);return l.add(a.multiplyUnsafe(p)).subtract(u).clearCofactor().equals(_.ZERO)},ExtendedPoint:_,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>l(i.BYTES),precompute:(e=8,t=_.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:tS,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:tE,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:eR,randomBytes:ew,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=e6(t*t*t,tb),i=function(e){let t=BigInt(10),r=BigInt(20),i=BigInt(40),s=BigInt(80),o=e*e%tb*e%tb,a=e9(o,t_,tb)*o%tb,l=e9(a,tw,tb)*e%tb,u=e9(l,tD,tb)*l%tb,c=e9(u,t,tb)*u%tb,h=e9(c,r,tb)*c%tb,f=e9(h,i,tb)*h%tb,d=e9(f,s,tb)*f%tb,p=e9(d,s,tb)*f%tb,g=e9(p,t,tb)*u%tb;return{pow_p_5_8:e9(g,t_,tb)*e%tb,b2:o}}(e*e6(r*r*t,tb)).pow_p_5_8,s=e6(e*r*i,tb),o=e6(t*s*s,tb),a=s,l=e6(s*tv,tb),u=o===e,c=o===e6(-e,tb),h=o===e6(-e*tv,tb);return u&&(s=a),(c||h)&&(s=l),tt(s,tb)&&(s=e6(-s,tb)),{isValid:u||c,value:s}}}),tI="base64url",tO="base58btc";function tC(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function tP(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?tC(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function tA(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=tP(t),i=0;for(let t of e)r.set(t,i),i+=t.length;return tC(r)}var tR=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=s}var l=e.length,u=e.charAt(0),c=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,s=0;e[t]===u;)i++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var f=0,d=o-1;(0!==h||f<s)&&-1!==d;d--,f++)h+=l*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=f,t++}if(" "!==e[t]){for(var p=o-s;p!==o&&0===a[p];)p++;for(var g=new Uint8Array(i+(o-p)),y=i;p!==o;)g[y++]=a[p++];return g}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var a=(o-s)*h+1>>>0,c=new Uint8Array(a);s!==o;){for(var f=t[s],d=0,p=a-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*c[p]>>>0,c[p]=f%l>>>0,f=f/l>>>0;if(0!==f)throw Error("Non-zero carry");i=d,s++}for(var g=a-i;g!==a&&0===c[g];)g++;for(var y=u.repeat(r);g<a;++g)y+=e.charAt(c[g]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};let tT=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},tN=e=>new TextEncoder().encode(e),tk=e=>new TextDecoder().decode(e);class tj{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class tL{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tB(this,e)}}class t${constructor(e){this.decoders=e}or(e){return tB(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let tB=(e,t)=>new t$({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tM{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new tj(e,t,r),this.decoder=new tL(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let tq=({name:e,prefix:t,encode:r,decode:i})=>new tM(e,t,r,i),tU=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:s}=tR(r,t);return tq({prefix:e,name:t,encode:i,decode:e=>tT(s(e))})},tF=(e,t,r,i)=>{let s={};for(let e=0;e<t.length;++e)s[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),l=0,u=0,c=0;for(let t=0;t<o;++t){let o=s[e[t]];if(void 0===o)throw SyntaxError(`Non-${i} character`);u=u<<r|o,(l+=r)>=8&&(l-=8,a[c++]=255&u>>l)}if(l>=r||255&u<<8-l)throw SyntaxError("Unexpected end of data");return a},tz=(e,t,r)=>{let i="="===t[t.length-1],s=(1<<r)-1,o="",a=0,l=0;for(let i=0;i<e.length;++i)for(l=l<<8|e[i],a+=8;a>r;)a-=r,o+=t[s&l>>a];if(a&&(o+=t[s&l<<r-a]),i)for(;o.length*r&7;)o+="=";return o},tW=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>tq({prefix:t,name:e,encode:e=>tz(e,i,r),decode:t=>tF(t,i,r,e)});var tH=Object.freeze({__proto__:null,identity:tq({prefix:"\x00",name:"identity",encode:e=>tk(e),decode:e=>tN(e)})}),tV=Object.freeze({__proto__:null,base2:tW({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),tG=Object.freeze({__proto__:null,base8:tW({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),tK=Object.freeze({__proto__:null,base10:tU({prefix:"9",name:"base10",alphabet:"0123456789"})}),tJ=Object.freeze({__proto__:null,base16:tW({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:tW({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let tZ=tW({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tY=tW({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tQ=tW({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tX=tW({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),t0=tW({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),t1=tW({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var t3=Object.freeze({__proto__:null,base32:tZ,base32upper:tY,base32pad:tQ,base32padupper:tX,base32hex:t0,base32hexupper:t1,base32hexpad:tW({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:tW({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:tW({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),t8=Object.freeze({__proto__:null,base36:tU({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:tU({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),t2=Object.freeze({__proto__:null,base58btc:tU({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:tU({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let t4=tW({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var t5=Object.freeze({__proto__:null,base64:t4,base64pad:tW({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:tW({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:tW({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let t7=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),t6=t7.reduce((e,t,r)=>(e[r]=t,e),[]),t9=t7.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var re=Object.freeze({__proto__:null,base256emoji:tq({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=t6[t],"")},decode:function(e){let t=[];for(let r of e){let e=t9[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})}),rt={encode:function e(t,r,i){r=r||[],i=i||0;for(var s=i;t>=2147483648;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-s+1,r},decode:function e(t,r){var i,s=0,r=r||0,o=0,a=r,l=t.length;do{if(a>=l)throw e.bytes=0,RangeError("Could not decode varint");i=t[a++],s+=o<28?(127&i)<<o:(127&i)*Math.pow(2,o),o+=7}while(i>=128);return e.bytes=a-r,s},encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10}};let rr=(e,t,r=0)=>(rt.encode(e,t,r),t),ri=e=>rt.encodingLength(e),rn=(e,t)=>{let r=t.byteLength,i=ri(e),s=i+ri(r),o=new Uint8Array(s+r);return rr(e,o,0),rr(r,o,i),o.set(t,s),new rs(e,r,t,o)};class rs{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let ro=({name:e,code:t,encode:r})=>new ra(e,t,r);class ra{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?rn(this.code,t):t.then(e=>rn(this.code,e))}throw Error("Unknown type, must be binary type")}}let rl=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var ru=Object.freeze({__proto__:null,sha256:ro({name:"sha2-256",code:18,encode:rl("SHA-256")}),sha512:ro({name:"sha2-512",code:19,encode:rl("SHA-512")})}),rc=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:tT,digest:e=>rn(0,tT(e))}});new TextEncoder,new TextDecoder;let rh={...tH,...tV,...tG,...tK,...tJ,...t3,...t8,...t2,...t5,...re};function rf(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...ru,...rc});let rd=rf("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rp=rf("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=tP((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rg={utf8:rd,"utf-8":rd,hex:rh.base16,latin1:rp,ascii:rp,binary:rp,...rh};function ry(e,t="utf8"){let r=rg[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function rm(e,t="utf8"){let r=rg[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?tC(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function rb(e){return ry(rm((0,x.safeJsonStringify)(e),"utf8"),tI)}function rv(e){return["did","key","z"+ry(tA([rm("K36",tO),e]),tO)].join(":")}function rw(e=ew(32)){let t=tx.getPublicKey(e);return{secretKey:tA([e,t]),publicKey:t}}async function r_(e,t,r,i,s=(0,ed.fromMiliseconds)(Date.now())){var o,a;let l={alg:"EdDSA",typ:"JWT"},u={iss:rv(i.publicKey),sub:e,aud:t,iat:s,exp:s+r},c=rm([rb((o={header:l,payload:u}).header),rb(o.payload)].join("."),"utf8");return[rb((a={header:l,payload:u,signature:tx.sign(c,i.secretKey.slice(0,32))}).header),rb(a.payload),ry(a.signature,tI)].join(".")}var rD=r(37004),rE=r(53148);class rS extends rE.IJsonRpcProvider{constructor(e){super(e),this.events=new s.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,rE.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,rE.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{(0,rE.isJsonRpcError)(e)?i(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){i(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,rE.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let rx=()=>"u">typeof WebSocket||"u">typeof global&&"u">typeof global.WebSocket||"u">typeof self&&"u">typeof self.WebSocket,rI=e=>e.split("?")[0],rO="u">typeof WebSocket?WebSocket:"u">typeof global&&"u">typeof global.WebSocket?global.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(37538);class rC{constructor(e){if(this.url=e,this.events=new s.EventEmitter,this.registering=!1,!(0,rE.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(Error("Connection already closed"));return}this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,x.safeJsonStringify)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!(0,rE.isWsUrl)(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{let i=new URLSearchParams(e).get("origin"),s=(0,rE.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:!(0,rE.isLocalhostUrl)(e)},o=new rO(e,[],s);rx()?o.onerror=e=>{r(this.emitError(e.error))}:o.on("error",e=>{r(this.emitError(e))}),o.onopen=()=>{this.onOpen(o),t(o)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,x.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),i=r.message||r.toString(),s=(0,rE.formatJsonRpcError)(e,i);this.events.emit("payload",s)}parseError(e,t=this.url){return(0,rE.parseConnectionError)(e,rI(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${rI(this.url)}`));return this.events.emit("register_error",t),t}}var rP=r(67369),rA=r.n(rP),rR=r(24853),rT=r.n(rR),rN=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),a=o.charCodeAt(0);if(255!==r[a])throw TypeError(o+" is ambiguous");r[a]=s}var l=e.length,u=e.charAt(0),c=Math.log(l)/Math.log(256),h=Math.log(256)/Math.log(l);function f(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var i=0,s=0;e[t]===u;)i++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var f=0,d=o-1;(0!==h||f<s)&&-1!==d;d--,f++)h+=l*a[d]>>>0,a[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=f,t++}if(" "!==e[t]){for(var p=o-s;p!==o&&0===a[p];)p++;for(var g=new Uint8Array(i+(o-p)),y=i;p!==o;)g[y++]=a[p++];return g}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var a=(o-s)*h+1>>>0,c=new Uint8Array(a);s!==o;){for(var f=t[s],d=0,p=a-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*c[p]>>>0,c[p]=f%l>>>0,f=f/l>>>0;if(0!==f)throw Error("Non-zero carry");i=d,s++}for(var g=a-i;g!==a&&0===c[g];)g++;for(var y=u.repeat(r);g<a;++g)y+=e.charAt(c[g]);return y},decodeUnsafe:f,decode:function(e){var r=f(e);if(r)return r;throw Error(`Non-${t} character`)}}};let rk=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},rj=e=>new TextEncoder().encode(e),rL=e=>new TextDecoder().decode(e);class r${constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class rB{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return rq(this,e)}}class rM{constructor(e){this.decoders=e}or(e){return rq(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let rq=(e,t)=>new rM({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class rU{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new r$(e,t,r),this.decoder=new rB(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let rF=({name:e,prefix:t,encode:r,decode:i})=>new rU(e,t,r,i),rz=({prefix:e,name:t,alphabet:r})=>{let{encode:i,decode:s}=rN(r,t);return rF({prefix:e,name:t,encode:i,decode:e=>rk(s(e))})},rW=(e,t,r,i)=>{let s={};for(let e=0;e<t.length;++e)s[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;let a=new Uint8Array(o*r/8|0),l=0,u=0,c=0;for(let t=0;t<o;++t){let o=s[e[t]];if(void 0===o)throw SyntaxError(`Non-${i} character`);u=u<<r|o,(l+=r)>=8&&(l-=8,a[c++]=255&u>>l)}if(l>=r||255&u<<8-l)throw SyntaxError("Unexpected end of data");return a},rH=(e,t,r)=>{let i="="===t[t.length-1],s=(1<<r)-1,o="",a=0,l=0;for(let i=0;i<e.length;++i)for(l=l<<8|e[i],a+=8;a>r;)a-=r,o+=t[s&l>>a];if(a&&(o+=t[s&l<<r-a]),i)for(;o.length*r&7;)o+="=";return o},rV=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>rF({prefix:t,name:e,encode:e=>rH(e,i,r),decode:t=>rW(t,i,r,e)});var rG=Object.freeze({__proto__:null,identity:rF({prefix:"\x00",name:"identity",encode:e=>rL(e),decode:e=>rj(e)})}),rK=Object.freeze({__proto__:null,base2:rV({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),rJ=Object.freeze({__proto__:null,base8:rV({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),rZ=Object.freeze({__proto__:null,base10:rz({prefix:"9",name:"base10",alphabet:"0123456789"})}),rY=Object.freeze({__proto__:null,base16:rV({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:rV({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let rQ=rV({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rX=rV({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),r0=rV({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),r1=rV({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),r3=rV({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),r8=rV({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});var r2=Object.freeze({__proto__:null,base32:rQ,base32upper:rX,base32pad:r0,base32padupper:r1,base32hex:r3,base32hexupper:r8,base32hexpad:rV({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:rV({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:rV({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),r4=Object.freeze({__proto__:null,base36:rz({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:rz({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),r5=Object.freeze({__proto__:null,base58btc:rz({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:rz({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let r7=rV({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});var r6=Object.freeze({__proto__:null,base64:r7,base64pad:rV({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:rV({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:rV({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let r9=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),ie=r9.reduce((e,t,r)=>(e[r]=t,e),[]),it=r9.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var ir=Object.freeze({__proto__:null,base256emoji:rF({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=ie[t],"")},decode:function(e){let t=[];for(let r of e){let e=it[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})}),ii={encode:function e(t,r,i){r=r||[],i=i||0;for(var s=i;t>=2147483648;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-s+1,r},decode:function e(t,r){var i,s=0,r=r||0,o=0,a=r,l=t.length;do{if(a>=l)throw e.bytes=0,RangeError("Could not decode varint");i=t[a++],s+=o<28?(127&i)<<o:(127&i)*Math.pow(2,o),o+=7}while(i>=128);return e.bytes=a-r,s},encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10}};let is=(e,t,r=0)=>(ii.encode(e,t,r),t),io=e=>ii.encodingLength(e),ia=(e,t)=>{let r=t.byteLength,i=io(e),s=i+io(r),o=new Uint8Array(s+r);return is(e,o,0),is(r,o,i),o.set(t,s),new il(e,r,t,o)};class il{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}let iu=({name:e,code:t,encode:r})=>new ic(e,t,r);class ic{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?ia(this.code,t):t.then(e=>ia(this.code,e))}throw Error("Unknown type, must be binary type")}}let ih=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var id=Object.freeze({__proto__:null,sha256:iu({name:"sha2-256",code:18,encode:ih("SHA-256")}),sha512:iu({name:"sha2-512",code:19,encode:ih("SHA-512")})}),ip=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:rk,digest:e=>ia(0,rk(e))}});new TextEncoder,new TextDecoder;let ig={...rG,...rK,...rJ,...rZ,...rY,...r2,...r4,...r5,...r6,...ir};function iy(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function im(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}({...id,...ip});let ib=im("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),iv=im("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?iy(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),iw={utf8:ib,"utf-8":ib,hex:ig.base16,latin1:iv,ascii:iv,binary:iv,...ig},i_="core",iD=`wc@2:${i_}:`,iE={logger:"error"},iS={database:":memory:"},ix="client_ed25519_seed",iI=ed.ONE_DAY,iO=ed.SIX_HOURS,iC="wss://relay.walletconnect.com",iP="wss://relay.walletconnect.org",iA={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},iR={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},iT=ed.ONE_SECOND,iN={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},ik=1e3*ed.FIVE_SECONDS,ij={wc_pairingDelete:{req:{ttl:ed.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ed.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ed.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ed.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ed.ONE_DAY,prompt:!1,tag:0},res:{ttl:ed.ONE_DAY,prompt:!1,tag:0}}},iL={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},i$={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},iB={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},iM="verify-api",iq="https://verify.walletconnect.com",iU="https://verify.walletconnect.org",iF=[iq,iU];class iz{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=iD,this.init=async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}},this.has=e=>(this.isInitialized(),this.keychain.has(e)),this.set=async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()},this.get=e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t},this.del=async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()},this.core=e,this.logger=X(t,this.name)}get context(){return Q(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,(0,a.KC)(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?(0,a.IP)(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}}class iW{constructor(e,t,r){this.core=e,this.logger=t,this.name="crypto",this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=e=>(this.isInitialized(),this.keychain.has(e)),this.getClientId=async()=>(this.isInitialized(),rv(rw(await this.getClientSeed()).publicKey)),this.generateKeyPair=()=>{this.isInitialized();let e=(0,a.Au)();return this.setPrivateKey(e.publicKey,e.privateKey)},this.signJWT=async e=>{this.isInitialized();let t=rw(await this.getClientSeed()),r=(0,a.jd)();return await r_(r,e,iI,t)},this.generateSharedKey=(e,t,r)=>{this.isInitialized();let i=this.getPrivateKey(e),s=(0,a.m$)(i,t);return this.setSymKey(s,r)},this.setSymKey=async(e,t)=>{this.isInitialized();let r=t||(0,a.Ym)(e);return await this.keychain.set(r,e),r},this.deleteKeyPair=async e=>{this.isInitialized(),await this.keychain.del(e)},this.deleteSymKey=async e=>{this.isInitialized(),await this.keychain.del(e)},this.encode=async(e,t,r)=>{this.isInitialized();let i=(0,a.EN)(r),s=(0,x.safeJsonStringify)(t);if((0,a.Q8)(i)){let t=i.senderPublicKey,r=i.receiverPublicKey;e=await this.generateSharedKey(t,r)}let o=this.getSymKey(e),{type:l,senderPublicKey:u}=i;return(0,a.HI)({type:l,symKey:o,message:s,senderPublicKey:u})},this.decode=async(e,t,r)=>{this.isInitialized();let i=(0,a.Ll)(t,r);if((0,a.Q8)(i)){let t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let r=this.getSymKey(e),i=(0,a.pe)({symKey:r,encoded:t});return(0,x.safeJsonParse)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}},this.getPayloadType=e=>{let t=(0,a.vB)(e);return(0,a.WG)(t.type)},this.getPayloadSenderPublicKey=e=>{let t=(0,a.vB)(e);return t.senderPublicKey?(0,rD.BB)(t.senderPublicKey,a.AW):void 0},this.core=e,this.logger=X(t,this.name),this.keychain=r||new iz(this.core,this.logger)}get context(){return Q(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ix)}catch{e=(0,a.jd)(),await this.keychain.set(ix,e)}return function(e,t="utf8"){let r=iw[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?iy(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}}class iH extends ei{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=iD,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}},this.set=async(e,t)=>{this.isInitialized();let r=(0,a.rj)(t),i=this.messages.get(e);return typeof i>"u"&&(i={}),"u">typeof i[r]||(i[r]=t,this.messages.set(e,i),await this.persist()),r},this.get=e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t},this.has=(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[(0,a.rj)(t)]),this.del=async e=>{this.isInitialized(),this.messages.delete(e),await this.persist()},this.logger=X(e,this.name),this.core=t}get context(){return Q(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,(0,a.KC)(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?(0,a.IP)(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}}class iV extends en{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new s.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,ed.toMiliseconds)(ed.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(e,t,r)=>{var i;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});try{let s=r?.ttl||iO,o=(0,a._H)(r),l=r?.prompt||!1,u=r?.tag||0,c=r?.id||(0,rE.getBigIntRpcId)().toString(),h={topic:e,message:t,opts:{ttl:s,relay:o,prompt:l,tag:u,id:c}},f=setTimeout(()=>this.queue.set(c,h),this.publishTimeout);try{await await (0,a.hF)(this.rpcPublish(e,t,s,o,l,u,c),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(c),this.relayer.events.emit(iA.publish,h)}catch(e){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,null!=(i=r?.internal)&&i.throwOnFailedPublish)throw this.removeRequestFromQueue(c),e;return}finally{clearTimeout(f)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(e),e}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.relayer=e,this.logger=X(t,this.name),this.registerEventListeners()}get context(){return Q(this.logger)}rpcPublish(e,t,r,i,s,o,l){var u,c,h,f;let d={method:(0,a.cO)(i.protocol).publish,params:{topic:e,message:t,ttl:r,prompt:s,tag:o},id:l};return(0,a.o8)(null==(u=d.params)?void 0:u.prompt)&&(null==(c=d.params)||delete c.prompt),(0,a.o8)(null==(h=d.params)?void 0:h.tag)&&(null==(f=d.params)||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:t,message:r,opts:i}=e;await this.publish(t,r,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(j.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(iA.connection_stalled);return}this.checkQueue()}),this.relayer.on(iA.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class iG{constructor(){this.map=new Map,this.set=(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let i=r.filter(e=>e!==t);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var iK=Object.defineProperty,iJ=Object.defineProperties,iZ=Object.getOwnPropertyDescriptors,iY=Object.getOwnPropertySymbols,iQ=Object.prototype.hasOwnProperty,iX=Object.prototype.propertyIsEnumerable,i0=(e,t,r)=>t in e?iK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i1=(e,t)=>{for(var r in t||(t={}))iQ.call(t,r)&&i0(e,r,t[r]);if(iY)for(var r of iY(t))iX.call(t,r)&&i0(e,r,t[r]);return e},i3=(e,t)=>iJ(e,iZ(t));class i8 extends ea{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new iG,this.events=new s.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=iD,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let r=(0,a._H)(t),i={topic:e,relay:r};this.pending.set(e,i);let s=await this.rpcSubscribe(e,r);return this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}}),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}},this.unsubscribe=async(e,t)=>{await this.restartToComplete(),this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)},this.isSubscribed=async e=>!!this.topics.includes(e)||await new Promise((t,r)=>{let i=new ed.Watch;i.start(this.pendingSubscriptionWatchLabel);let s=setInterval(()=>{!this.pending.has(e)&&this.topics.includes(e)&&(clearInterval(s),i.stop(this.pendingSubscriptionWatchLabel),t(!0)),i.elapsed(this.pendingSubscriptionWatchLabel)>=ik&&(clearInterval(s),i.stop(this.pendingSubscriptionWatchLabel),r(Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=X(t,this.name),this.clientId=""}get context(){return Q(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let i=(0,a._H)(r);await this.rpcUnsubscribe(e,t,i);let s=(0,a.D6)("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t){let r={method:(0,a.cO)(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await (0,a.hF)(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(iA.connection_stalled)}return(0,a.rj)(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let t=e[0].relay,r={method:(0,a.cO)(t.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await (0,a.hF)(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(iA.connection_stalled)}}rpcUnsubscribe(e,t,r){let i={method:(0,a.cO)(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,t){this.setSubscription(e,i3(i1({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,i1({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,i1({},t)),this.topicMap.set(t.topic,e),this.events.emit(iN.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(iN.deleted,i3(i1({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(iN.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){let e=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(e)}}this.events.emit(iN.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:e}=(0,a.Z7)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let t=await this.rpcBatchSubscribe(e);(0,a.qt)(t)&&this.onBatchSubscribe(t.map((t,r)=>i3(i1({},e[r]),{id:t})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(j.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(iA.connect,async()=>{await this.onConnect()}),this.relayer.on(iA.disconnect,()=>{this.onDisconnect()}),this.events.on(iN.created,async e=>{let t=iN.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(iN.deleted,async e=>{let t=iN.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var i2=Object.defineProperty,i4=Object.getOwnPropertySymbols,i5=Object.prototype.hasOwnProperty,i7=Object.prototype.propertyIsEnumerable,i6=(e,t,r)=>t in e?i2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i9=(e,t)=>{for(var r in t||(t={}))i5.call(t,r)&&i6(e,r,t[r]);if(i4)for(var r of i4(t))i7.call(t,r)&&i6(e,r,t[r]);return e};class ne extends es{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new s.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async e=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(e)}catch(e){throw this.logger.debug("Failed to Publish Request"),this.logger.error(e),e}},this.onPayloadHandler=e=>{this.onProviderPayload(e)},this.onConnectHandler=()=>{this.events.emit(iA.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=e=>{this.logger.error(e),this.events.emit(iA.error,e),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(iR.payload,this.onPayloadHandler),this.provider.on(iR.connect,this.onConnectHandler),this.provider.on(iR.disconnect,this.onDisconnectHandler),this.provider.on(iR.error,this.onProviderErrorHandler)},this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?X(e.logger,this.name):$()(Y({level:e.logger||"error"})),this.messages=new iH(this.logger,e.core),this.subscriber=new i8(this,this.logger),this.publisher=new iV(this,this.logger),this.relayUrl=e?.relayUrl||iC,this.projectId=e.projectId,this.bundleId=(0,a.X_)(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${iP}...`),await this.restartTransport(iP)}this.initialized=!0,setTimeout(async()=>{0===this.subscriber.topics.length&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},1e4)}get context(){return Q(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var r;let i;this.isInitialized();let s=(null==(r=this.subscriber.topicMap.get(e))?void 0:r[0])||"";if(s)return s;let o=t=>{t.topic===e&&(this.subscriber.off(iN.created,o),i())};return await Promise.all([new Promise(e=>{i=e,this.subscriber.on(iN.created,o)}),new Promise(async r=>{s=await this.subscriber.subscribe(e,t),r()})]),s}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await (0,a.hF)(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(e=>{if(!this.initialized)return e();this.subscriber.once(iN.resubscribed,()=>{e()})}),new Promise(async(e,t)=>{try{await (0,a.hF)(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(e){t(e);return}e()})])}catch(e){if(this.logger.error(e),!this.isConnectionStalled(e.message))throw e;this.provider.events.emit(iR.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await (0,a.Gg)())throw Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new rS(new rC((0,a.$0)({sdkVersion:"2.11.0",protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:t,message:r}=e;await this.messages.set(t,r)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;let i=this.messages.has(t,r);return i&&this.logger.debug(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,rE.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:i,publishedAt:s}=t.data,o={topic:r,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(i9({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,rE.isJsonRpcResponse)(e)&&this.events.emit(iA.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(iA.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let t=(0,rE.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(iR.payload,this.onPayloadHandler),this.provider.off(iR.connect,this.onConnectHandler),this.provider.off(iR.disconnect,this.onDisconnectHandler),this.provider.off(iR.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(iA.connection_stalled,()=>{this.restartTransport().catch(e=>this.logger.error(e))});let e=await (0,a.Gg)();(0,a.uw)(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(e=>this.logger.error(e)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(e=>this.logger.error(e))))})}onProviderDisconnect(){this.events.emit(iA.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,ed.toMiliseconds)(iT)))}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{let t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var nt=Object.defineProperty,nr=Object.getOwnPropertySymbols,ni=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,ns=(e,t,r)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,no=(e,t)=>{for(var r in t||(t={}))ni.call(t,r)&&ns(e,r,t[r]);if(nr)for(var r of nr(t))nn.call(t,r)&&ns(e,r,t[r]);return e};class na extends eo{constructor(e,t,r,i=iD,s){super(e,t,r,i),this.core=e,this.logger=t,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=iD,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!(0,a.o8)(e)?this.map.set(this.getKey(e),e):(0,a.xW)(e)?this.map.set(e.id,e):(0,a.h1)(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)},this.set=async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())},this.get=e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e)),this.getAll=e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>rA()(t[r],e[r]))):this.values),this.update=async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=no(no({},this.getData(e)),t);this.map.set(e,r),await this.persist()},this.delete=async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),await this.persist())},this.logger=X(t,this.name),this.storagePrefix=i,this.getKey=s}get context(){return Q(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=(0,a.Z7)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}}class nl{constructor(e,t){this.core=e,this.logger=t,this.name="pairing",this.version="0.3",this.events=new(o()),this.initialized=!1,this.storagePrefix=iD,this.ignoredPayloadTypes=[a.rV],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]},this.create=async()=>{this.isInitialized();let e=(0,a.jd)(),t=await this.core.crypto.setSymKey(e),r=(0,a.gn)(ed.FIVE_MINUTES),i={protocol:"irn"},s=(0,a.Bv)({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:e,relay:i});return await this.pairings.set(t,{topic:t,expiry:r,relay:i,active:!1}),await this.core.relayer.subscribe(t),this.core.expirer.set(t,r),{topic:t,uri:s}},this.pair=async e=>{this.isInitialized(),this.isValidPair(e);let{topic:t,symKey:r,relay:i}=(0,a.he)(e.uri);if(this.pairings.keys.includes(t)&&this.pairings.get(t).active)throw Error(`Pairing already exists: ${t}. Please try again with a new connection URI.`);let s=(0,a.gn)(ed.FIVE_MINUTES),o={topic:t,relay:i,expiry:s,active:!1};return await this.pairings.set(t,o),this.core.expirer.set(t,s),e.activatePairing&&await this.activate({topic:t}),this.events.emit(iL.create,o),this.core.crypto.keychain.has(t)||(await this.core.crypto.setSymKey(r,t),await this.core.relayer.subscribe(t,{relay:i})),o},this.activate=async({topic:e})=>{this.isInitialized();let t=(0,a.gn)(ed.THIRTY_DAYS);await this.pairings.update(e,{active:!0,expiry:t}),this.core.expirer.set(e,t)},this.ping=async e=>{this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:i,reject:s}=(0,a.H1)();this.events.once((0,a.E0)("pairing_ping",e),({error:e})=>{e?s(e):i()}),await r()}},this.updateExpiry=async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})},this.updateMetadata=async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",(0,a.D6)("USER_DISCONNECTED")),await this.deletePairing(t))},this.sendRequest=async(e,t,r)=>{let i=(0,rE.formatJsonRpcRequest)(t,r),s=await this.core.crypto.encode(e,i),o=ij[t].req;return this.core.history.set(e,i),this.core.relayer.publish(e,s,o),i.id},this.sendResult=async(e,t,r)=>{let i=(0,rE.formatJsonRpcResult)(e,r),s=await this.core.crypto.encode(t,i),o=ij[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,s,o),await this.core.history.resolve(i)},this.sendError=async(e,t,r)=>{let i=(0,rE.formatJsonRpcError)(e,r),s=await this.core.crypto.encode(t,i),o=await this.core.history.get(t,e),a=ij[o.request.method]?ij[o.request.method].res:ij.unregistered_method.res;await this.core.relayer.publish(t,s,a),await this.core.history.resolve(i)},this.deletePairing=async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,(0,a.D6)("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])},this.cleanup=async()=>{let e=this.pairings.getAll().filter(e=>(0,a.Bw)(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))},this.onRelayEventRequest=e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(t,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(t,r);default:return this.onUnknownRpcMethodRequest(t,r)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,i=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===i?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(i)},this.onPairingPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(iL.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onPairingPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,rE.isJsonRpcResult)(t)?this.events.emit((0,a.E0)("pairing_ping",r),{}):(0,rE.isJsonRpcError)(t)&&this.events.emit((0,a.E0)("pairing_ping",r),{error:t.error})},500)},this.onPairingDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(iL.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodRequest=async(e,t)=>{let{id:r,method:i}=t;try{if(this.registeredMethods.includes(i))return;let t=(0,a.D6)("WC_METHOD_UNSUPPORTED",i);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}},this.onUnknownRpcMethodResponse=e=>{this.registeredMethods.includes(e)||this.logger.error((0,a.D6)("WC_METHOD_UNSUPPORTED",e))},this.isValidPair=e=>{var t;if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`pair() params: ${e}`);throw Error(t)}if(!(0,a.jv)(e.uri)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw Error(t)}let r=(0,a.he)(e.uri);if(!(null!=(t=r?.relay)&&t.protocol)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID","pair() uri#relay-protocol");throw Error(e)}if(!(null!=r&&r.symKey)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID","pair() uri#symKey");throw Error(e)}},this.isValidPing=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidDisconnect=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)},this.isValidPairingTopic=async e=>{if(!(0,a.M_)(e,!1)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if((0,a.Bw)(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=(0,a.Z7)("EXPIRED",`pairing topic: ${e}`);throw Error(t)}},this.core=e,this.logger=X(t,this.name),this.pairings=new na(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Q(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(iA.message,async e=>{let{topic:t,message:r}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let i=await this.core.crypto.decode(t,r);try{(0,rE.isJsonRpcRequest)(i)?(this.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):(0,rE.isJsonRpcResponse)(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.core.history.delete(t,i.id))}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(iB.expired,async e=>{let{topic:t}=(0,a.iP)(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(iL.expire,{topic:t}))})}}class nu extends er{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new s.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=iD,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let i={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:(0,a.gn)(ed.THIRTY_DAYS)};this.records.set(i.id,i),this.events.emit(i$.created,i)},this.resolve=async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,rE.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.events.emit(i$.updated,t))},this.get=async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t)),this.delete=(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic!==e||"u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(i$.deleted,r))})},this.exists=async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e),this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=X(t,this.name)}get context(){return Q(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,rE.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(i$.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=(0,a.Z7)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(i$.created,e=>{let t=i$.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(i$.updated,e=>{let t=i$.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(i$.deleted,e=>{let t=i$.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(j.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,ed.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}}class nc extends el{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new s.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=iD,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}},this.set=(e,t)=>{this.isInitialized();let r=this.formatTarget(e),i={target:r,expiry:t};this.expirations.set(r,i),this.checkExpiry(r,i),this.events.emit(iB.created,{target:r,expiration:i})},this.get=e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)},this.del=e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(iB.deleted,{target:t,expiration:r})}},this.on=(e,t)=>{this.events.on(e,t)},this.once=(e,t)=>{this.events.once(e,t)},this.off=(e,t)=>{this.events.off(e,t)},this.removeListener=(e,t)=>{this.events.removeListener(e,t)},this.logger=X(t,this.name)}get context(){return Q(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return(0,a.Z4)(e);if("number"==typeof e)return(0,a.Gq)(e);let{message:t}=(0,a.Z7)("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(iB.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=(0,a.Z7)("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,ed.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(iB.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(j.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(iB.created,e=>{let t=iB.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(iB.expired,e=>{let t=iB.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(iB.deleted,e=>{let t=iB.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}}}class nh extends eu{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=iM,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async e=>{if(this.verifyDisabled||(0,a.b$)()||!(0,a.jU)())return;let t=this.getVerifyUrl(e?.verifyUrl);this.verifyUrl!==t&&this.removeIframe(),this.verifyUrl=t;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e)}if(!this.initialized){this.removeIframe(),this.verifyUrl=iU;try{await this.createIframe()}catch(e){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(e),this.verifyDisabled=!0}}},this.register=async e=>{this.initialized?this.sendPost(e.attestationId):(this.addToQueue(e.attestationId),await this.init())},this.resolve=async e=>{let t;if(this.isDevEnv)return"";let r=this.getVerifyUrl(e?.verifyUrl);try{t=await this.fetchAttestation(e.attestationId,r)}catch(i){this.logger.info(`failed to resolve attestation: ${e.attestationId} from url: ${r}`),this.logger.info(i),t=await this.fetchAttestation(e.attestationId,iU)}return t},this.fetchAttestation=async(e,t)=>{this.logger.info(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(2*ed.ONE_SECOND),i=await fetch(`${t}/attestation/${e}`,{signal:this.abortController.signal});return clearTimeout(r),200===i.status?await i.json():void 0},this.addToQueue=e=>{this.queue.push(e)},this.processQueue=()=>{0!==this.queue.length&&(this.queue.forEach(e=>this.sendPost(e)),this.queue=[])},this.sendPost=e=>{var t;try{if(!this.iframe)return;null==(t=this.iframe.contentWindow)||t.postMessage(e,"*"),this.logger.info(`postMessage sent: ${e} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let e;let t=r=>{"verify_ready"===r.data&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",t),e())};await Promise.race([new Promise(r=>{if(document.getElementById(iM))return r();window.addEventListener("message",t);let i=document.createElement("iframe");i.id=iM,i.src=`${this.verifyUrl}/${this.projectId}`,i.style.display="none",document.body.append(i),this.iframe=i,e=r}),new Promise((e,r)=>setTimeout(()=>{window.removeEventListener("message",t),r("verify iframe load timeout")},(0,ed.toMiliseconds)(ed.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=e=>{let t=e||iq;return iF.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${iq}`),t=iq),t},this.logger=X(t,this.name),this.verifyUrl=iq,this.abortController=new AbortController,this.isDevEnv=(0,a.UG)()&&process.env.IS_VITEST}get context(){return Q(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,ed.toMiliseconds)(e))}}class nf extends ec{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context="echo",this.registerDeviceToken=async e=>{let{clientId:t,token:r,notificationType:i,enableEncrypted:s=!1}=e,o=`https://echo.walletconnect.com/${this.projectId}/clients`;await rT()(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:i,token:r,always_raw:s})})},this.logger=X(t,this.context)}}var nd=Object.defineProperty,np=Object.getOwnPropertySymbols,ng=Object.prototype.hasOwnProperty,ny=Object.prototype.propertyIsEnumerable,nm=(e,t,r)=>t in e?nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nb=(e,t)=>{for(var r in t||(t={}))ng.call(t,r)&&nm(e,r,t[r]);if(np)for(var r of np(t))ny.call(t,r)&&nm(e,r,t[r]);return e};class nv extends et{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=i_,this.events=new s.EventEmitter,this.initialized=!1,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||iC,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:$()(Y({level:e?.logger||iE.logger}));this.logger=X(t,this.name),this.heartbeat=new j.HeartBeat,this.crypto=new iW(this,this.logger,e?.keychain),this.history=new nu(this,this.logger),this.expirer=new nc(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new k(nb(nb({},iS),e?.storageOptions)),this.relayer=new ne({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new nl(this,this.logger),this.verify=new nh(this.projectId||"",this.logger),this.echoClient=new nf(this.projectId||"",this.logger)}static async init(e){let t=new nv(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return Q(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}let nw="client",n_=`wc@2:${nw}:`,nD={name:nw,logger:"error"},nE="WALLETCONNECT_DEEPLINK_CHOICE",nS="Proposal expired",nx=ed.SEVEN_DAYS,nI={wc_sessionPropose:{req:{ttl:ed.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ed.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:ed.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ed.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ed.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ed.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ed.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ed.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ed.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ed.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ed.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ed.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ed.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ed.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ed.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:ed.THIRTY_SECONDS,prompt:!1,tag:1115}}},nO={min:ed.FIVE_MINUTES,max:ed.SEVEN_DAYS},nC={idle:"IDLE",active:"ACTIVE"},nP=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var nA=Object.defineProperty,nR=Object.defineProperties,nT=Object.getOwnPropertyDescriptors,nN=Object.getOwnPropertySymbols,nk=Object.prototype.hasOwnProperty,nj=Object.prototype.propertyIsEnumerable,nL=(e,t,r)=>t in e?nA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n$=(e,t)=>{for(var r in t||(t={}))nk.call(t,r)&&nL(e,r,t[r]);if(nN)for(var r of nN(t))nj.call(t,r)&&nL(e,r,t[r]);return e},nB=(e,t)=>nR(e,nT(t));class nM extends ef{constructor(e){super(e),this.name="engine",this.events=new(o()),this.initialized=!1,this.ignoredPayloadTypes=[a.rV],this.requestQueue={state:nC.idle,queue:[]},this.sessionRequestQueue={state:nC.idle,queue:[]},this.requestQueueDelay=ed.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(nI)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,ed.toMiliseconds)(this.requestQueueDelay)))},this.connect=async e=>{await this.isInitialized();let t=nB(n$({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t);let{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:l}=t,u=r,c,h=!1;if(u&&(h=this.client.core.pairing.pairings.get(u).active),!u||!h){let{topic:e,uri:t}=await this.client.core.pairing.create();u=e,c=t}let f=await this.client.core.crypto.generateKeyPair(),d=n$({requiredNamespaces:i,optionalNamespaces:s,relays:l??[{protocol:"irn"}],proposer:{publicKey:f,metadata:this.client.metadata}},o&&{sessionProperties:o}),{reject:p,resolve:g,done:y}=(0,a.H1)(ed.FIVE_MINUTES,nS);if(this.events.once((0,a.E0)("session_connect"),async({error:e,session:t})=>{if(e)p(e);else if(t){t.self.publicKey=f;let e=nB(n$({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces});await this.client.session.set(t.topic,e),await this.setExpiry(t.topic,t.expiry),u&&await this.client.core.pairing.updateMetadata({topic:u,metadata:t.peer.metadata}),g(e)}}),!u){let{message:e}=(0,a.Z7)("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw Error(e)}let m=await this.sendRequest({topic:u,method:"wc_sessionPropose",params:d}),b=(0,a.gn)(ed.FIVE_MINUTES);return await this.setProposal(m,n$({id:m,expiry:b},d)),{uri:c,approval:y}},this.pair=async e=>(await this.isInitialized(),await this.client.core.pairing.pair(e)),this.approve=async e=>{await this.isInitialized(),await this.isValidApprove(e);let{id:t,relayProtocol:r,namespaces:i,sessionProperties:s}=e,{pairingTopic:o,proposer:l,requiredNamespaces:u,optionalNamespaces:c}=this.client.proposal.get(t);o=o||"",(0,a.L5)(u)||(u=(0,a.fc)(i,"approve()"));let h=await this.client.core.crypto.generateKeyPair(),f=l.publicKey,d=await this.client.core.crypto.generateSharedKey(h,f);o&&t&&(await this.client.core.pairing.updateMetadata({topic:o,metadata:l.metadata}),await this.sendResult({id:t,topic:o,result:{relay:{protocol:r??"irn"},responderPublicKey:h}}),await this.client.proposal.delete(t,(0,a.D6)("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:o}));let p=n$({relay:{protocol:r??"irn"},namespaces:i,requiredNamespaces:u,optionalNamespaces:c,pairingTopic:o,controller:{publicKey:h,metadata:this.client.metadata},expiry:(0,a.gn)(nx)},s&&{sessionProperties:s});await this.client.core.relayer.subscribe(d),await this.sendRequest({topic:d,method:"wc_sessionSettle",params:p,throwOnFailedPublish:!0});let g=nB(n$({},p),{topic:d,pairingTopic:o,acknowledged:!1,self:p.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:h});return await this.client.session.set(d,g),await this.setExpiry(d,(0,a.gn)(nx)),{topic:d,acknowledged:()=>new Promise(e=>setTimeout(()=>e(this.client.session.get(d)),500))}},this.reject=async e=>{await this.isInitialized(),await this.isValidReject(e);let{id:t,reason:r}=e,{pairingTopic:i}=this.client.proposal.get(t);i&&(await this.sendError(t,i,r),await this.client.proposal.delete(t,(0,a.D6)("USER_DISCONNECTED")))},this.update=async e=>{await this.isInitialized(),await this.isValidUpdate(e);let{topic:t,namespaces:r}=e,i=await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r}}),{done:s,resolve:o,reject:l}=(0,a.H1)();return this.events.once((0,a.E0)("session_update",i),({error:e})=>{e?l(e):o()}),await this.client.session.update(t,{namespaces:r}),{acknowledged:s}},this.extend=async e=>{await this.isInitialized(),await this.isValidExtend(e);let{topic:t}=e,r=await this.sendRequest({topic:t,method:"wc_sessionExtend",params:{}}),{done:i,resolve:s,reject:o}=(0,a.H1)();return this.events.once((0,a.E0)("session_extend",r),({error:e})=>{e?o(e):s()}),await this.setExpiry(t,(0,a.gn)(nx)),{acknowledged:i}},this.request=async e=>{await this.isInitialized(),await this.isValidRequest(e);let{chainId:t,request:r,topic:i,expiry:s}=e,o=(0,rE.payloadId)(),{done:l,resolve:u,reject:c}=(0,a.H1)(s,"Request expired. Please try again.");return this.events.once((0,a.E0)("session_request",o),({error:e,result:t})=>{e?c(e):u(t)}),await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,topic:i,method:"wc_sessionRequest",params:{request:r,chainId:t},expiry:s,throwOnFailedPublish:!0}).catch(e=>c(e)),this.client.events.emit("session_request_sent",{topic:i,request:r,chainId:t,id:o}),e()}),new Promise(async e=>{let t=await (0,a.bW)(this.client.core.storage,nE);(0,a.Hh)({id:o,topic:i,wcDeepLink:t}),e()}),l()]).then(e=>e[2])},this.respond=async e=>{await this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:i}=r;(0,rE.isJsonRpcResult)(r)?await this.sendResult({id:i,topic:t,result:r.result,throwOnFailedPublish:!0}):(0,rE.isJsonRpcError)(r)&&await this.sendError(i,t,r.error),this.cleanupAfterResponse(e)},this.ping=async e=>{await this.isInitialized(),await this.isValidPing(e);let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=await this.sendRequest({topic:t,method:"wc_sessionPing",params:{}}),{done:r,resolve:i,reject:s}=(0,a.H1)();this.events.once((0,a.E0)("session_ping",e),({error:e})=>{e?s(e):i()}),await r()}else this.client.core.pairing.pairings.keys.includes(t)&&await this.client.core.pairing.ping({topic:t})},this.emit=async e=>{await this.isInitialized(),await this.isValidEmit(e);let{topic:t,event:r,chainId:i}=e;await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:i}})},this.disconnect=async e=>{await this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.client.session.keys.includes(t)?(await this.sendRequest({topic:t,method:"wc_sessionDelete",params:(0,a.D6)("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(t)):await this.client.core.pairing.disconnect({topic:t})},this.find=e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(0,a.Ih)(t,e))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var i,s;return(null==(i=r.peerMetadata)?void 0:i.url)&&(null==(s=r.peerMetadata)?void 0:s.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}},this.deleteSession=async(e,t)=>{let{self:r}=this.client.session.get(e);await this.client.core.relayer.unsubscribe(e),this.client.session.delete(e,(0,a.D6)("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(r.publicKey)&&await this.client.core.crypto.deleteKeyPair(r.publicKey),this.client.core.crypto.keychain.has(e)&&await this.client.core.crypto.deleteSymKey(e),t||this.client.core.expirer.del(e),this.client.core.storage.removeItem(nE).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(t=>{t.topic===e&&this.deletePendingSessionRequest(t.id,(0,a.D6)("USER_DISCONNECTED"))})},this.deleteProposal=async(e,t)=>{await Promise.all([this.client.proposal.delete(e,(0,a.D6)("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)])},this.deletePendingSessionRequest=async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=nC.idle)},this.setExpiry=async(e,t)=>{this.client.session.keys.includes(e)&&await this.client.session.update(e,{expiry:t}),this.client.core.expirer.set(e,t)},this.setProposal=async(e,t)=>{await this.client.proposal.set(e,t),this.client.core.expirer.set(e,t.expiry)},this.setPendingSessionRequest=async e=>{let t=nI.wc_sessionRequest.req.ttl,{id:r,topic:i,params:s,verifyContext:o}=e;await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o}),t&&this.client.core.expirer.set(r,(0,a.gn)(t))},this.sendRequest=async e=>{let{topic:t,method:r,params:i,expiry:s,relayRpcId:o,clientRpcId:l,throwOnFailedPublish:u}=e,c=(0,rE.formatJsonRpcRequest)(r,i,l);if((0,a.jU)()&&nP.includes(r)){let e=(0,a.rj)(JSON.stringify(c));this.client.core.verify.register({attestationId:e})}let h=await this.client.core.crypto.encode(t,c),f=nI[r].req;return s&&(f.ttl=s),o&&(f.id=o),this.client.core.history.set(t,c),u?(f.internal=nB(n$({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,h,f)):this.client.core.relayer.publish(t,h,f).catch(e=>this.client.logger.error(e)),c.id},this.sendResult=async e=>{let{id:t,topic:r,result:i,throwOnFailedPublish:s}=e,o=(0,rE.formatJsonRpcResult)(t,i),a=await this.client.core.crypto.encode(r,o),l=nI[(await this.client.core.history.get(r,t)).request.method].res;s?(l.internal=nB(n$({},l.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,a,l)):this.client.core.relayer.publish(r,a,l).catch(e=>this.client.logger.error(e)),await this.client.core.history.resolve(o)},this.sendError=async(e,t,r)=>{let i=(0,rE.formatJsonRpcError)(e,r),s=await this.client.core.crypto.encode(t,i),o=nI[(await this.client.core.history.get(t,e)).request.method].res;this.client.core.relayer.publish(t,s,o),await this.client.core.history.resolve(i)},this.cleanup=async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{(0,a.Bw)(t.expiry)&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{(0,a.Bw)(e.expiry)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession(e)),...t.map(e=>this.deleteProposal(e))])},this.onRelayEventRequest=async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===nC.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=nC.active;let e=this.requestQueue.queue.shift();if(e)try{this.processRequest(e),await new Promise(e=>setTimeout(e,300))}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=nC.idle},this.processRequest=e=>{let{topic:t,payload:r}=e,i=r.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(t,r);case"wc_sessionSettle":return this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return this.onSessionExtendRequest(t,r);case"wc_sessionPing":return this.onSessionPingRequest(t,r);case"wc_sessionDelete":return this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return this.onSessionRequest(t,r);case"wc_sessionEvent":return this.onSessionEventRequest(t,r);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async e=>{let{topic:t,payload:r}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=e=>{let{topic:t}=e,{message:r}=(0,a.Z7)("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)},this.onSessionProposeRequest=async(e,t)=>{let{params:r,id:i}=t;try{this.isValidConnect(n$({},t.params));let s=(0,a.gn)(ed.FIVE_MINUTES),o=n$({id:i,pairingTopic:e,expiry:s},r);await this.setProposal(i,o);let l=(0,a.rj)(JSON.stringify(t)),u=await this.getVerifyContext(l,o.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:o,verifyContext:u})}catch(t){await this.sendError(i,e,t),this.client.logger.error(t)}},this.onSessionProposeResponse=async(e,t)=>{let{id:r}=t;if((0,rE.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let l=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});let u=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:e})}else(0,rE.isJsonRpcError)(t)&&(await this.client.proposal.delete(r,(0,a.D6)("USER_DISCONNECTED")),this.events.emit((0,a.E0)("session_connect"),{error:t.error}))},this.onSessionSettleRequest=async(e,t)=>{let{id:r,params:i}=t;try{this.isValidSessionSettleRequest(i);let{relay:r,controller:s,expiry:o,namespaces:l,requiredNamespaces:u,optionalNamespaces:c,sessionProperties:h,pairingTopic:f}=t.params,d=n$({topic:e,relay:r,expiry:o,namespaces:l,acknowledged:!0,pairingTopic:f,requiredNamespaces:u,optionalNamespaces:c,controller:s.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:s.publicKey,metadata:s.metadata}},h&&{sessionProperties:h});await this.sendResult({id:t.id,topic:e,result:!0}),this.events.emit((0,a.E0)("session_connect"),{session:d}),this.cleanupDuplicatePairings(d)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionSettleResponse=async(e,t)=>{let{id:r}=t;(0,rE.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit((0,a.E0)("session_approve",r),{})):(0,rE.isJsonRpcError)(t)&&(await this.client.session.delete(e,(0,a.D6)("USER_DISCONNECTED")),this.events.emit((0,a.E0)("session_approve",r),{error:t.error}))},this.onSessionUpdateRequest=async(e,t)=>{let{params:r,id:i}=t;try{let t=`${e}_session_update`,s=a.O6.get(t);if(s&&this.isRequestOutOfSync(s,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidUpdate(n$({topic:e},r)),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:i,topic:e,result:!0}),this.client.events.emit("session_update",{id:i,topic:e,params:r}),a.O6.set(t,i)}catch(t){await this.sendError(i,e,t),this.client.logger.error(t)}},this.isRequestOutOfSync=(e,t)=>parseInt(t.toString().slice(0,-3))<=parseInt(e.toString().slice(0,-3)),this.onSessionUpdateResponse=(e,t)=>{let{id:r}=t;(0,rE.isJsonRpcResult)(t)?this.events.emit((0,a.E0)("session_update",r),{}):(0,rE.isJsonRpcError)(t)&&this.events.emit((0,a.E0)("session_update",r),{error:t.error})},this.onSessionExtendRequest=async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,(0,a.gn)(nx)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionExtendResponse=(e,t)=>{let{id:r}=t;(0,rE.isJsonRpcResult)(t)?this.events.emit((0,a.E0)("session_extend",r),{}):(0,rE.isJsonRpcError)(t)&&this.events.emit((0,a.E0)("session_extend",r),{error:t.error})},this.onSessionPingRequest=async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionPingResponse=(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,rE.isJsonRpcResult)(t)?this.events.emit((0,a.E0)("session_ping",r),{}):(0,rE.isJsonRpcError)(t)&&this.events.emit((0,a.E0)("session_ping",r),{error:t.error})},500)},this.onSessionDeleteRequest=async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(iA.publish,async()=>{t(await this.deleteSession(e))})}),this.sendResult({id:r,topic:e,result:!0})]),this.client.events.emit("session_delete",{id:r,topic:e})}catch(e){this.client.logger.error(e)}},this.onSessionRequest=async(e,t)=>{let{id:r,params:i}=t;try{this.isValidRequest(n$({topic:e},i));let t=(0,a.rj)(JSON.stringify((0,rE.formatJsonRpcRequest)("wc_sessionRequest",i,r))),s=this.client.session.get(e),o=await this.getVerifyContext(t,s.peer.metadata),l={id:r,topic:e,params:i,verifyContext:o};await this.setPendingSessionRequest(l),this.addSessionRequestToSessionRequestQueue(l),this.processSessionRequestQueue()}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.onSessionRequestResponse=(e,t)=>{let{id:r}=t;(0,rE.isJsonRpcResult)(t)?this.events.emit((0,a.E0)("session_request",r),{result:t.result}):(0,rE.isJsonRpcError)(t)&&this.events.emit((0,a.E0)("session_request",r),{error:t.error})},this.onSessionEventRequest=async(e,t)=>{let{id:r,params:i}=t;try{let t=`${e}_session_event_${i.event.name}`,s=a.O6.get(t);if(s&&this.isRequestOutOfSync(s,r)){this.client.logger.info(`Discarding out of sync request - ${r}`);return}this.isValidEmit(n$({topic:e},i)),this.client.events.emit("session_event",{id:r,topic:e,params:i}),a.O6.set(t,r)}catch(t){await this.sendError(r,e,t),this.client.logger.error(t)}},this.addSessionRequestToSessionRequestQueue=e=>{this.sessionRequestQueue.queue.push(e)},this.cleanupAfterResponse=e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=nC.idle,this.processSessionRequestQueue()},(0,ed.toMiliseconds)(this.requestQueueDelay))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===nC.active){this.client.logger.info("session request queue is already active.");return}let e=this.sessionRequestQueue.queue[0];if(!e){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=nC.active,this.client.events.emit("session_request",e)}catch(e){this.client.logger.error(e)}},this.onPairingCreated=e=>{if(e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest(e.topic,(0,rE.formatJsonRpcRequest)("wc_sessionPropose",{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties},t.id))},this.isValidConnect=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,relays:o}=e;if((0,a.o8)(t)||await this.isValidPairingTopic(t),!(0,a.PM)(o,!0)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}(0,a.o8)(r)||0===(0,a.L5)(r)||this.validateNamespaces(r,"requiredNamespaces"),(0,a.o8)(i)||0===(0,a.L5)(i)||this.validateNamespaces(i,"optionalNamespaces"),(0,a.o8)(s)||this.validateSessionProps(s,"sessionProperties")},this.validateNamespaces=(e,t)=>{let r=(0,a.n)(e,"connect()",t);if(r)throw Error(r.message)},this.isValidApprove=async e=>{if(!(0,a.EJ)(e))throw Error((0,a.Z7)("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:i,sessionProperties:s}=e;await this.isValidProposalId(t);let o=this.client.proposal.get(t),l=(0,a.in)(r,"approve()");if(l)throw Error(l.message);let u=(0,a.rF)(o.requiredNamespaces,r,"approve()");if(u)throw Error(u.message);if(!(0,a.M_)(i,!0)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw Error(e)}(0,a.o8)(s)||this.validateSessionProps(s,"sessionProperties")},this.isValidReject=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(await this.isValidProposalId(t),!(0,a.$t)(r)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidSessionSettleRequest=e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:i,expiry:s}=e;if(!(0,a.Z2)(t)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let o=(0,a.Dd)(r,"onSessionSettleRequest()");if(o)throw Error(o.message);let l=(0,a.in)(i,"onSessionSettleRequest()");if(l)throw Error(l.message);if((0,a.Bw)(s)){let{message:e}=(0,a.Z7)("EXPIRED","onSessionSettleRequest()");throw Error(e)}},this.isValidUpdate=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;await this.isValidSessionTopic(t);let i=this.client.session.get(t),s=(0,a.in)(r,"update()");if(s)throw Error(s.message);let o=(0,a.rF)(i.requiredNamespaces,r,"update()");if(o)throw Error(o.message)},this.isValidExtend=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionTopic(t)},this.isValidRequest=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:i,expiry:s}=e;await this.isValidSessionTopic(t);let{namespaces:o}=this.client.session.get(t);if(!(0,a.p8)(o,i)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`request() chainId: ${i}`);throw Error(e)}if(!(0,a.hH)(r)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!(0,a.al)(o,i,r.method)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(s&&!(0,a.ON)(s,nO)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${nO.min} and ${nO.max}`);throw Error(e)}},this.isValidRespond=async e=>{var t;if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:i}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!(0,a.JT)(i)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw Error(e)}},this.isValidPing=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.isValidEmit=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:i}=e;await this.isValidSessionTopic(t);let{namespaces:s}=this.client.session.get(t);if(!(0,a.p8)(s,i)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw Error(e)}if(!(0,a.nf)(r)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}if(!(0,a.sI)(s,i,r.name)){let{message:e}=(0,a.Z7)("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}},this.isValidDisconnect=async e=>{if(!(0,a.EJ)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)},this.getVerifyContext=async(e,t)=>{let r={verified:{verifyUrl:t.verifyUrl||iq,validation:"UNKNOWN",origin:t.url||""}};try{let i=await this.client.core.verify.resolve({attestationId:e,verifyUrl:t.verifyUrl});i&&(r.verified.origin=i.origin,r.verified.isScam=i.isScam,r.verified.validation=i.origin===new URL(t.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.info(e)}return this.client.logger.info(`Verify context: ${JSON.stringify(r)}`),r},this.validateSessionProps=(e,t)=>{Object.values(e).forEach(e=>{if(!(0,a.M_)(e,!1)){let{message:r}=(0,a.Z7)("MISSING_OR_INVALID",`${t} must be in Record<string, string> format. Received: ${JSON.stringify(e)}`);throw Error(r)}})}}async isInitialized(){if(!this.initialized){let{message:e}=(0,a.Z7)("NOT_INITIALIZED",this.name);throw Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(iA.message,async e=>{let{topic:t,message:r}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(r)))return;let i=await this.client.core.crypto.decode(t,r);try{(0,rE.isJsonRpcRequest)(i)?(this.client.core.history.set(t,i),this.onRelayEventRequest({topic:t,payload:i})):(0,rE.isJsonRpcResponse)(i)?(await this.client.core.history.resolve(i),await this.onRelayEventResponse({topic:t,payload:i}),this.client.core.history.delete(t,i.id)):this.onRelayEventUnknownPayload({topic:t,payload:i})}catch(e){this.client.logger.error(e)}})}registerExpirerEvents(){this.client.core.expirer.on(iB.expired,async e=>{let{topic:t,id:r}=(0,a.iP)(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,(0,a.Z7)("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(iL.create,e=>this.onPairingCreated(e))}isValidPairingTopic(e){if(!(0,a.M_)(e,!1)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if((0,a.Bw)(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=(0,a.Z7)("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!(0,a.M_)(e,!1)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(!this.client.session.keys.includes(e)){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if((0,a.Bw)(this.client.session.get(e).expiry)){await this.deleteSession(e);let{message:t}=(0,a.Z7)("EXPIRED",`session topic: ${e}`);throw Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if((0,a.M_)(e,!1)){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if(!(0,a.Q0)(e)){let{message:t}=(0,a.Z7)("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=(0,a.Z7)("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if((0,a.Bw)(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);let{message:t}=(0,a.Z7)("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class nq extends na{constructor(e,t){super(e,t,"proposal",n_),this.core=e,this.logger=t}}class nU extends na{constructor(e,t){super(e,t,"session",n_),this.core=e,this.logger=t}}class nF extends na{constructor(e,t){super(e,t,"request",n_,e=>e.id),this.core=e,this.logger=t}}class nz extends eh{constructor(e){super(e),this.protocol="wc",this.version=2,this.name=nD.name,this.events=new s.EventEmitter,this.on=(e,t)=>this.events.on(e,t),this.once=(e,t)=>this.events.once(e,t),this.off=(e,t)=>this.events.off(e,t),this.removeListener=(e,t)=>this.events.removeListener(e,t),this.removeAllListeners=e=>this.events.removeAllListeners(e),this.connect=async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}},this.pair=async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}},this.approve=async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}},this.reject=async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}},this.update=async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}},this.extend=async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}},this.request=async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}},this.respond=async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}},this.ping=async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}},this.emit=async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}},this.disconnect=async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}},this.find=e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}},this.name=e?.name||nD.name,this.metadata=e?.metadata||(0,a.D)();let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:$()(Y({level:e?.logger||nD.logger}));this.core=e?.core||new nv(e),this.logger=X(t,this.name),this.session=new nU(this.core,this.logger),this.proposal=new nq(this.core,this.logger),this.pendingRequest=new nF(this.core,this.logger),this.engine=new nM(this)}static async init(e){let t=new nz(e);return await t.initialize(),t}get context(){return Q(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var nW=r(16313);class nH extends rE.IJsonRpcProvider{constructor(e){super(e),this.events=new s.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict((0,rE.formatJsonRpcRequest)(e.method,e.params||[],e.id||(0,rE.getBigIntRpcId)().toString()),t)}async requestStrict(e,t){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{(0,rE.isJsonRpcError)(e)?i(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){i(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,rE.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let nV="error",nG="wc@2:universal_provider:",nK={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var nJ="u">typeof globalThis?globalThis:"u">typeof global?global:"u">typeof self?self:{},nZ={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(e,t){(function(){var r,i="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",a=1/0,l=0/0,u=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",h="[object Array]",f="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",y="[object GeneratorFunction]",m="[object Map]",b="[object Number]",v="[object Object]",w="[object Promise]",_="[object RegExp]",D="[object Set]",E="[object String]",S="[object Symbol]",x="[object WeakMap]",I="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",A="[object Int8Array]",R="[object Int16Array]",T="[object Int32Array]",N="[object Uint8Array]",k="[object Uint8ClampedArray]",j="[object Uint16Array]",L="[object Uint32Array]",$=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,F=RegExp(q.source),z=RegExp(U.source),W=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,V=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(Z.source),Q=/^\s+/,X=/\s/,ee=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,et=/\{\n\/\* \[wrapped with (.+)\] \*/,er=/,? & /,ei=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,en=/[()=,{}\[\]\/\s]/,es=/\\(\\)?/g,eo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ea=/\w*$/,el=/^[-+]0x[0-9a-f]+$/i,eu=/^0b[01]+$/i,ec=/^\[object .+?Constructor\]$/,eh=/^0o[0-7]+$/i,ef=/^(?:0|[1-9]\d*)$/,ed=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ep=/($^)/,eg=/['\n\r\u2028\u2029\\]/g,ey="\ud800-\udfff",em="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eb="\\u2700-\\u27bf",ev="a-z\\xdf-\\xf6\\xf8-\\xff",ew="A-Z\\xc0-\\xd6\\xd8-\\xde",e_="\\ufe0e\\ufe0f",eD="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eE="['’]",eS="["+eD+"]",ex="["+em+"]",eI="["+ev+"]",eO="[^"+ey+eD+"\\d+"+eb+ev+ew+"]",eC="\ud83c[\udffb-\udfff]",eP="[^"+ey+"]",eA="(?:\ud83c[\udde6-\uddff]){2}",eR="[\ud800-\udbff][\udc00-\udfff]",eT="["+ew+"]",eN="\\u200d",ek="(?:"+eI+"|"+eO+")",ej="(?:"+eE+"(?:d|ll|m|re|s|t|ve))?",eL="(?:"+eE+"(?:D|LL|M|RE|S|T|VE))?",e$="(?:"+ex+"|"+eC+")?",eB="["+e_+"]?",eM="(?:"+eN+"(?:"+[eP,eA,eR].join("|")+")"+eB+e$+")*",eq=eB+e$+eM,eU="(?:"+["["+eb+"]",eA,eR].join("|")+")"+eq,eF="(?:"+[eP+ex+"?",ex,eA,eR,"["+ey+"]"].join("|")+")",ez=RegExp(eE,"g"),eW=RegExp(ex,"g"),eH=RegExp(eC+"(?="+eC+")|"+eF+eq,"g"),eV=RegExp([eT+"?"+eI+"+"+ej+"(?="+[eS,eT,"$"].join("|")+")","(?:"+eT+"|"+eO+")+"+eL+"(?="+[eS,eT+ek,"$"].join("|")+")",eT+"?"+ek+"+"+ej,eT+"+"+eL,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eU].join("|"),"g"),eG=RegExp("["+eN+ey+em+e_+"]"),eK=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eJ=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eZ=-1,eY={};eY[C]=eY[P]=eY[A]=eY[R]=eY[T]=eY[N]=eY[k]=eY[j]=eY[L]=!0,eY[c]=eY[h]=eY[I]=eY[f]=eY[O]=eY[d]=eY[p]=eY[g]=eY[m]=eY[b]=eY[v]=eY[_]=eY[D]=eY[E]=eY[x]=!1;var eQ={};eQ[c]=eQ[h]=eQ[I]=eQ[O]=eQ[f]=eQ[d]=eQ[C]=eQ[P]=eQ[A]=eQ[R]=eQ[T]=eQ[m]=eQ[b]=eQ[v]=eQ[_]=eQ[D]=eQ[E]=eQ[S]=eQ[N]=eQ[k]=eQ[j]=eQ[L]=!0,eQ[p]=eQ[g]=eQ[x]=!1;var eX={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e0=parseFloat,e1=parseInt,e3="object"==typeof nJ&&nJ&&nJ.Object===Object&&nJ,e8="object"==typeof self&&self&&self.Object===Object&&self,e2=e3||e8||Function("return this")(),e4=t&&!t.nodeType&&t,e5=e4&&e&&!e.nodeType&&e,e7=e5&&e5.exports===e4,e6=e7&&e3.process,e9=function(){try{return e5&&e5.require&&e5.require("util").types||e6&&e6.binding&&e6.binding("util")}catch{}}(),te=e9&&e9.isArrayBuffer,tt=e9&&e9.isDate,tr=e9&&e9.isMap,ti=e9&&e9.isRegExp,tn=e9&&e9.isSet,ts=e9&&e9.isTypedArray;function to(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function ta(e,t,r,i){for(var s=-1,o=null==e?0:e.length;++s<o;){var a=e[s];t(i,a,r(a),e)}return i}function tl(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r,e););return e}function tu(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}function tc(e,t){for(var r=-1,i=null==e?0:e.length,s=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[s++]=a)}return o}function th(e,t){return!!(null==e?0:e.length)&&t_(e,t,0)>-1}function tf(e,t,r){for(var i=-1,s=null==e?0:e.length;++i<s;)if(r(t,e[i]))return!0;return!1}function td(e,t){for(var r=-1,i=null==e?0:e.length,s=Array(i);++r<i;)s[r]=t(e[r],r,e);return s}function tp(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}function tg(e,t,r,i){var s=-1,o=null==e?0:e.length;for(i&&o&&(r=e[++s]);++s<o;)r=t(r,e[s],s,e);return r}function ty(e,t,r,i){var s=null==e?0:e.length;for(i&&s&&(r=e[--s]);s--;)r=t(r,e[s],s,e);return r}function tm(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var tb=tx("length");function tv(e,t,r){var i;return r(e,function(e,r,s){if(t(e,r,s))return i=r,!1}),i}function tw(e,t,r,i){for(var s=e.length,o=r+(i?1:-1);i?o--:++o<s;)if(t(e[o],o,e))return o;return -1}function t_(e,t,r){return t==t?function(e,t,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===t)return i;return -1}(e,t,r):tw(e,tE,r)}function tD(e,t,r,i){for(var s=r-1,o=e.length;++s<o;)if(i(e[s],t))return s;return -1}function tE(e){return e!=e}function tS(e,t){var r=null==e?0:e.length;return r?tC(e,t)/r:l}function tx(e){return function(t){return null==t?r:t[e]}}function tI(e){return function(t){return null==e?r:e[t]}}function tO(e,t,r,i,s){return s(e,function(e,s,o){r=i?(i=!1,e):t(r,e,s,o)}),r}function tC(e,t){for(var i,s=-1,o=e.length;++s<o;){var a=t(e[s]);a!==r&&(i=i===r?a:i+a)}return i}function tP(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}function tA(e){return e&&e.slice(0,tV(e)+1).replace(Q,"")}function tR(e){return function(t){return e(t)}}function tT(e,t){return td(t,function(t){return e[t]})}function tN(e,t){return e.has(t)}function tk(e,t){for(var r=-1,i=e.length;++r<i&&t_(t,e[r],0)>-1;);return r}function tj(e,t){for(var r=e.length;r--&&t_(t,e[r],0)>-1;);return r}var tL=tI({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),t$=tI({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tB(e){return"\\"+eX[e]}function tM(e){return eG.test(e)}function tq(e){var t=-1,r=Array(e.size);return e.forEach(function(e,i){r[++t]=[i,e]}),r}function tU(e,t){return function(r){return e(t(r))}}function tF(e,t){for(var r=-1,i=e.length,s=0,a=[];++r<i;){var l=e[r];(l===t||l===o)&&(e[r]=o,a[s++]=r)}return a}function tz(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}function tW(e){return tM(e)?function(e){for(var t=eH.lastIndex=0;eH.test(e);)++t;return t}(e):tb(e)}function tH(e){return tM(e)?e.match(eH)||[]:e.split("")}function tV(e){for(var t=e.length;t--&&X.test(e.charAt(t)););return t}var tG=tI({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tK=function e(t){var X,ey,em,eb,ev=(t=null==t?e2:tK.defaults(e2.Object(),t,tK.pick(e2,eJ))).Array,ew=t.Date,e_=t.Error,eD=t.Function,eE=t.Math,eS=t.Object,ex=t.RegExp,eI=t.String,eO=t.TypeError,eC=ev.prototype,eP=eD.prototype,eA=eS.prototype,eR=t["__core-js_shared__"],eT=eP.toString,eN=eA.hasOwnProperty,ek=0,ej=(X=/[^.]+$/.exec(eR&&eR.keys&&eR.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",eL=eA.toString,e$=eT.call(eS),eB=e2._,eM=ex("^"+eT.call(eN).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eq=e7?t.Buffer:r,eU=t.Symbol,eF=t.Uint8Array,eH=eq?eq.allocUnsafe:r,eG=tU(eS.getPrototypeOf,eS),eX=eS.create,e3=eA.propertyIsEnumerable,e8=eC.splice,e4=eU?eU.isConcatSpreadable:r,e5=eU?eU.iterator:r,e6=eU?eU.toStringTag:r,e9=function(){try{var e=ng(eS,"defineProperty");return e({},"",{}),e}catch{}}(),tb=t.clearTimeout!==e2.clearTimeout&&t.clearTimeout,tI=ew&&ew.now!==e2.Date.now&&ew.now,tJ=t.setTimeout!==e2.setTimeout&&t.setTimeout,tZ=eE.ceil,tY=eE.floor,tQ=eS.getOwnPropertySymbols,tX=eq?eq.isBuffer:r,t0=t.isFinite,t1=eC.join,t3=tU(eS.keys,eS),t8=eE.max,t2=eE.min,t4=ew.now,t5=t.parseInt,t7=eE.random,t6=eC.reverse,t9=ng(t,"DataView"),re=ng(t,"Map"),rt=ng(t,"Promise"),rr=ng(t,"Set"),ri=ng(t,"WeakMap"),rn=ng(eS,"create"),rs=ri&&new ri,ro={},ra=nq(t9),rl=nq(re),ru=nq(rt),rc=nq(rr),rh=nq(ri),rf=eU?eU.prototype:r,rd=rf?rf.valueOf:r,rp=rf?rf.toString:r;function rg(e){if(sG(e)&&!sL(e)&&!(e instanceof rv)){if(e instanceof rb)return e;if(eN.call(e,"__wrapped__"))return nU(e)}return new rb(e)}var ry=function(){function e(){}return function(t){if(!sV(t))return{};if(eX)return eX(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function rm(){}function rb(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function rv(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function rw(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function r_(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function rD(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function rE(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new rD;++t<r;)this.add(e[t])}function rS(e){var t=this.__data__=new r_(e);this.size=t.size}function rx(e,t){var r=sL(e),i=!r&&sj(e),s=!r&&!i&&sq(e),o=!r&&!i&&!s&&s1(e),a=r||i||s||o,l=a?tP(e.length,eI):[],u=l.length;for(var c in e)(t||eN.call(e,c))&&!(a&&("length"==c||s&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||nD(c,u)))&&l.push(c);return l}function rI(e){var t=e.length;return t?e[ih(0,t-1)]:r}function rO(e,t,i){(i===r||sT(e[t],i))&&(i!==r||t in e)||rT(e,t,i)}function rC(e,t,i){var s=e[t];eN.call(e,t)&&sT(s,i)&&(i!==r||t in e)||rT(e,t,i)}function rP(e,t){for(var r=e.length;r--;)if(sT(e[r][0],t))return r;return -1}function rA(e,t,r,i){return rM(e,function(e,s,o){t(i,e,r(e),o)}),i}function rR(e,t){return e&&iW(t,od(t),e)}function rT(e,t,r){"__proto__"==t&&e9?e9(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function rN(e,t){for(var i=-1,s=t.length,o=ev(s),a=null==e;++i<s;)o[i]=a?r:ol(e,t[i]);return o}function rk(e,t,i){return e==e&&(i!==r&&(e=e<=i?e:i),t!==r&&(e=e>=t?e:t)),e}function rj(e,t,i,s,o,a){var l,u=1&t,h=2&t,p=4&t;if(i&&(l=o?i(e,s,o,a):i(e)),l!==r)return l;if(!sV(e))return e;var w=sL(e);if(w){if(x=e.length,$=new e.constructor(x),x&&"string"==typeof e[0]&&eN.call(e,"index")&&($.index=e.index,$.input=e.input),l=$,!u)return iz(e,l)}else{var x,$,B,M,q,U=nb(e),F=U==g||U==y;if(sq(e))return i$(e,u);if(U==v||U==c||F&&!o){if(l=h||F?{}:nw(e),!u)return h?(B=(q=l)&&iW(e,op(e),q),iW(e,nm(e),B)):(M=rR(l,e),iW(e,ny(e),M))}else{if(!eQ[U])return o?e:{};l=function(e,t,r){var i,s,o=e.constructor;switch(t){case I:return iB(e);case f:case d:return new o(+e);case O:return i=r?iB(e.buffer):e.buffer,new e.constructor(i,e.byteOffset,e.byteLength);case C:case P:case A:case R:case T:case N:case k:case j:case L:return iM(e,r);case m:return new o;case b:case E:return new o(e);case _:return(s=new e.constructor(e.source,ea.exec(e))).lastIndex=e.lastIndex,s;case D:return new o;case S:return rd?eS(rd.call(e)):{}}}(e,U,u)}}a||(a=new rS);var z=a.get(e);if(z)return z;a.set(e,l),sQ(e)?e.forEach(function(r){l.add(rj(r,t,i,r,e,a))}):sK(e)&&e.forEach(function(r,s){l.set(s,rj(r,t,i,s,e,a))});var W=p?h?nl:na:h?op:od,H=w?r:W(e);return tl(H||e,function(r,s){H&&(r=e[s=r]),rC(l,s,rj(r,t,i,s,e,a))}),l}function rL(e,t,i){var s=i.length;if(null==e)return!s;for(e=eS(e);s--;){var o=i[s],a=t[o],l=e[o];if(l===r&&!(o in e)||!a(l))return!1}return!0}function r$(e,t,s){if("function"!=typeof e)throw new eO(i);return nN(function(){e.apply(r,s)},t)}function rB(e,t,r,i){var s=-1,o=th,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;r&&(t=td(t,tR(r))),i?(o=tf,a=!1):t.length>=200&&(o=tN,a=!1,t=new rE(t));e:for(;++s<l;){var h=e[s],f=null==r?h:r(h);if(h=i||0!==h?h:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(h)}else o(t,f,i)||u.push(h)}return u}rg.templateSettings={escape:W,evaluate:H,interpolate:V,variable:"",imports:{_:rg}},rg.prototype=rm.prototype,rg.prototype.constructor=rg,rb.prototype=ry(rm.prototype),rb.prototype.constructor=rb,rv.prototype=ry(rm.prototype),rv.prototype.constructor=rv,rw.prototype.clear=function(){this.__data__=rn?rn(null):{},this.size=0},rw.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},rw.prototype.get=function(e){var t=this.__data__;if(rn){var i=t[e];return i===s?r:i}return eN.call(t,e)?t[e]:r},rw.prototype.has=function(e){var t=this.__data__;return rn?t[e]!==r:eN.call(t,e)},rw.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=rn&&t===r?s:t,this},r_.prototype.clear=function(){this.__data__=[],this.size=0},r_.prototype.delete=function(e){var t=this.__data__,r=rP(t,e);return!(r<0)&&(r==t.length-1?t.pop():e8.call(t,r,1),--this.size,!0)},r_.prototype.get=function(e){var t=this.__data__,i=rP(t,e);return i<0?r:t[i][1]},r_.prototype.has=function(e){return rP(this.__data__,e)>-1},r_.prototype.set=function(e,t){var r=this.__data__,i=rP(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},rD.prototype.clear=function(){this.size=0,this.__data__={hash:new rw,map:new(re||r_),string:new rw}},rD.prototype.delete=function(e){var t=nd(this,e).delete(e);return this.size-=t?1:0,t},rD.prototype.get=function(e){return nd(this,e).get(e)},rD.prototype.has=function(e){return nd(this,e).has(e)},rD.prototype.set=function(e,t){var r=nd(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this},rE.prototype.add=rE.prototype.push=function(e){return this.__data__.set(e,s),this},rE.prototype.has=function(e){return this.__data__.has(e)},rS.prototype.clear=function(){this.__data__=new r_,this.size=0},rS.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},rS.prototype.get=function(e){return this.__data__.get(e)},rS.prototype.has=function(e){return this.__data__.has(e)},rS.prototype.set=function(e,t){var r=this.__data__;if(r instanceof r_){var i=r.__data__;if(!re||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new rD(i)}return r.set(e,t),this.size=r.size,this};var rM=iG(rG),rq=iG(rK,!0);function rU(e,t){var r=!0;return rM(e,function(e,i,s){return r=!!t(e,i,s)}),r}function rF(e,t,i){for(var s=-1,o=e.length;++s<o;){var a=e[s],l=t(a);if(null!=l&&(u===r?l==l&&!s0(l):i(l,u)))var u=l,c=a}return c}function rz(e,t){var r=[];return rM(e,function(e,i,s){t(e,i,s)&&r.push(e)}),r}function rW(e,t,r,i,s){var o=-1,a=e.length;for(r||(r=n_),s||(s=[]);++o<a;){var l=e[o];t>0&&r(l)?t>1?rW(l,t-1,r,i,s):tp(s,l):i||(s[s.length]=l)}return s}var rH=iK(),rV=iK(!0);function rG(e,t){return e&&rH(e,t,od)}function rK(e,t){return e&&rV(e,t,od)}function rJ(e,t){return tc(t,function(t){return sz(e[t])})}function rZ(e,t){t=ik(t,e);for(var i=0,s=t.length;null!=e&&i<s;)e=e[nM(t[i++])];return i&&i==s?e:r}function rY(e,t,r){var i=t(e);return sL(e)?i:tp(i,r(e))}function rQ(e){return null==e?e===r?"[object Undefined]":"[object Null]":e6&&e6 in eS(e)?function(e){var t=eN.call(e,e6),i=e[e6];try{e[e6]=r;var s=!0}catch{}var o=eL.call(e);return s&&(t?e[e6]=i:delete e[e6]),o}(e):eL.call(e)}function rX(e,t){return e>t}function r0(e,t){return null!=e&&eN.call(e,t)}function r1(e,t){return null!=e&&t in eS(e)}function r3(e,t,i){for(var s=i?tf:th,o=e[0].length,a=e.length,l=a,u=ev(a),c=1/0,h=[];l--;){var f=e[l];l&&t&&(f=td(f,tR(t))),c=t2(f.length,c),u[l]=!i&&(t||o>=120&&f.length>=120)?new rE(l&&f):r}f=e[0];var d=-1,p=u[0];e:for(;++d<o&&h.length<c;){var g=f[d],y=t?t(g):g;if(g=i||0!==g?g:0,!(p?tN(p,y):s(h,y,i))){for(l=a;--l;){var m=u[l];if(!(m?tN(m,y):s(e[l],y,i)))continue e}p&&p.push(y),h.push(g)}}return h}function r8(e,t,i){t=ik(t,e);var s=null==(e=nA(e,t))?e:e[nM(nQ(t))];return null==s?r:to(s,e,i)}function r2(e){return sG(e)&&rQ(e)==c}function r4(e,t,i,s,o){return e===t||(null!=e&&null!=t&&(sG(e)||sG(t))?function(e,t,i,s,o,a){var l=sL(e),u=sL(t),g=l?h:nb(e),y=u?h:nb(t);g=g==c?v:g,y=y==c?v:y;var w=g==v,x=y==v,C=g==y;if(C&&sq(e)){if(!sq(t))return!1;l=!0,w=!1}if(C&&!w)return a||(a=new rS),l||s1(e)?ns(e,t,i,s,o,a):function(e,t,r,i,s,o,a){switch(r){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!o(new eF(e),new eF(t)));case f:case d:case b:return sT(+e,+t);case p:return e.name==t.name&&e.message==t.message;case _:case E:return e==t+"";case m:var l=tq;case D:var u=1&i;if(l||(l=tz),e.size!=t.size&&!u)break;var c=a.get(e);if(c)return c==t;i|=2,a.set(e,t);var h=ns(l(e),l(t),i,s,o,a);return a.delete(e),h;case S:if(rd)return rd.call(e)==rd.call(t)}return!1}(e,t,g,i,s,o,a);if(!(1&i)){var P=w&&eN.call(e,"__wrapped__"),A=x&&eN.call(t,"__wrapped__");if(P||A){var R=P?e.value():e,T=A?t.value():t;return a||(a=new rS),o(R,T,i,s,a)}}return!!C&&(a||(a=new rS),function(e,t,i,s,o,a){var l=1&i,u=na(e),c=u.length;if(c!=na(t).length&&!l)return!1;for(var h=c;h--;){var f=u[h];if(!(l?f in t:eN.call(t,f)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var y=l;++h<c;){var m=e[f=u[h]],b=t[f];if(s)var v=l?s(b,m,f,t,e,a):s(m,b,f,e,t,a);if(!(v===r?m===b||o(m,b,i,s,a):v)){g=!1;break}y||(y="constructor"==f)}if(g&&!y){var w=e.constructor,_=t.constructor;w!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return a.delete(e),a.delete(t),g}(e,t,i,s,o,a))}(e,t,i,s,r4,o):e!=e&&t!=t)}function r5(e,t,i,s){var o=i.length,a=o,l=!s;if(null==e)return!a;for(e=eS(e);o--;){var u=i[o];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=i[o])[0],h=e[c],f=u[1];if(l&&u[2]){if(h===r&&!(c in e))return!1}else{var d=new rS;if(s)var p=s(h,f,c,e,t,d);if(!(p===r?r4(f,h,3,s,d):p))return!1}}return!0}function r7(e){return!(!sV(e)||ej&&ej in e)&&(sz(e)?eM:ec).test(nq(e))}function r6(e){return"function"==typeof e?e:null==e?oM:"object"==typeof e?sL(e)?ii(e[0],e[1]):ir(e):oK(e)}function r9(e){if(!nO(e))return t3(e);var t=[];for(var r in eS(e))eN.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ie(e,t){return e<t}function it(e,t){var r=-1,i=sB(e)?ev(e.length):[];return rM(e,function(e,s,o){i[++r]=t(e,s,o)}),i}function ir(e){var t=np(e);return 1==t.length&&t[0][2]?nC(t[0][0],t[0][1]):function(r){return r===e||r5(r,e,t)}}function ii(e,t){var i;return nS(e)&&(i=t)==i&&!sV(i)?nC(nM(e),t):function(i){var s=ol(i,e);return s===r&&s===t?ou(i,e):r4(t,s,3)}}function is(e,t,i,s,o){e!==t&&rH(t,function(a,l){if(o||(o=new rS),sV(a))(function(e,t,i,s,o,a,l){var u=nR(e,i),c=nR(t,i),h=l.get(c);if(h){rO(e,i,h);return}var f=a?a(u,c,i+"",e,t,l):r,d=f===r;if(d){var p=sL(c),g=!p&&sq(c),y=!p&&!g&&s1(c);f=c,p||g||y?sL(u)?f=u:sM(u)?f=iz(u):g?(d=!1,f=i$(c,!0)):y?(d=!1,f=iM(c,!0)):f=[]:sZ(c)||sj(c)?(f=u,sj(u)?f=s9(u):(!sV(u)||sz(u))&&(f=nw(c))):d=!1}d&&(l.set(c,f),o(f,c,s,a,l),l.delete(c)),rO(e,i,f)})(e,t,l,i,is,s,o);else{var u=s?s(nR(e,l),a,l+"",e,t,o):r;u===r&&(u=a),rO(e,l,u)}},op)}function io(e,t){var i=e.length;if(i)return nD(t+=t<0?i:0,i)?e[t]:r}function ia(e,t,r){t=t.length?td(t,function(e){return sL(e)?function(t){return rZ(t,1===e.length?e[0]:e)}:e}):[oM];var i=-1;return t=td(t,tR(nf())),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(it(e,function(e,r,s){return{criteria:td(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,r){for(var i=-1,s=e.criteria,o=t.criteria,a=s.length,l=r.length;++i<a;){var u=iq(s[i],o[i]);if(u){if(i>=l)return u;return u*("desc"==r[i]?-1:1)}}return e.index-t.index}(e,t,r)})}function il(e,t,r){for(var i=-1,s=t.length,o={};++i<s;){var a=t[i],l=rZ(e,a);r(l,a)&&ig(o,ik(a,e),l)}return o}function iu(e,t,r,i){var s=i?tD:t_,o=-1,a=t.length,l=e;for(e===t&&(t=iz(t)),r&&(l=td(e,tR(r)));++o<a;)for(var u=0,c=t[o],h=r?r(c):c;(u=s(l,h,u,i))>-1;)l!==e&&e8.call(l,u,1),e8.call(e,u,1);return e}function ic(e,t){for(var r=e?t.length:0,i=r-1;r--;){var s=t[r];if(r==i||s!==o){var o=s;nD(s)?e8.call(e,s,1):iI(e,s)}}return e}function ih(e,t){return e+tY(t7()*(t-e+1))}function id(e,t){var r="";if(!e||t<1||t>9007199254740991)return r;do t%2&&(r+=e),(t=tY(t/2))&&(e+=e);while(t);return r}function ip(e,t){return nk(nP(e,t,oM),e+"")}function ig(e,t,i,s){if(!sV(e))return e;t=ik(t,e);for(var o=-1,a=t.length,l=a-1,u=e;null!=u&&++o<a;){var c=nM(t[o]),h=i;if("__proto__"===c||"constructor"===c||"prototype"===c)break;if(o!=l){var f=u[c];(h=s?s(f,c,u):r)===r&&(h=sV(f)?f:nD(t[o+1])?[]:{})}rC(u,c,h),u=u[c]}return e}var iy=rs?function(e,t){return rs.set(e,t),e}:oM,im=e9?function(e,t){return e9(e,"toString",{configurable:!0,enumerable:!1,value:oL(t),writable:!0})}:oM;function ib(e,t,r){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=ev(s);++i<s;)o[i]=e[i+t];return o}function iv(e,t){var r;return rM(e,function(e,i,s){return!(r=t(e,i,s))}),!!r}function iw(e,t,r){var i=0,s=null==e?i:e.length;if("number"==typeof t&&t==t&&s<=2147483647){for(;i<s;){var o=i+s>>>1,a=e[o];null!==a&&!s0(a)&&(r?a<=t:a<t)?i=o+1:s=o}return s}return i_(e,t,oM,r)}function i_(e,t,i,s){var o=0,a=null==e?0:e.length;if(0===a)return 0;t=i(t);for(var l=t!=t,u=null===t,c=s0(t),h=t===r;o<a;){var f=tY((o+a)/2),d=i(e[f]),p=d!==r,g=null===d,y=d==d,m=s0(d);if(l)var b=s||y;else b=h?y&&(s||p):u?y&&p&&(s||!g):c?y&&p&&!g&&(s||!m):!g&&!m&&(s?d<=t:d<t);b?o=f+1:a=f}return t2(a,4294967294)}function iD(e,t){for(var r=-1,i=e.length,s=0,o=[];++r<i;){var a=e[r],l=t?t(a):a;if(!r||!sT(l,u)){var u=l;o[s++]=0===a?0:a}}return o}function iE(e){return"number"==typeof e?e:s0(e)?l:+e}function iS(e){if("string"==typeof e)return e;if(sL(e))return td(e,iS)+"";if(s0(e))return rp?rp.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}function ix(e,t,r){var i=-1,s=th,o=e.length,a=!0,l=[],u=l;if(r)a=!1,s=tf;else if(o>=200){var c=t?null:i9(e);if(c)return tz(c);a=!1,s=tN,u=new rE}else u=t?[]:l;e:for(;++i<o;){var h=e[i],f=t?t(h):h;if(h=r||0!==h?h:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),l.push(h)}else s(u,f,r)||(u!==l&&u.push(f),l.push(h))}return l}function iI(e,t){return t=ik(t,e),null==(e=nA(e,t))||delete e[nM(nQ(t))]}function iO(e,t,r,i){return ig(e,t,r(rZ(e,t)),i)}function iC(e,t,r,i){for(var s=e.length,o=i?s:-1;(i?o--:++o<s)&&t(e[o],o,e););return r?ib(e,i?0:o,i?o+1:s):ib(e,i?o+1:0,i?s:o)}function iP(e,t){var r=e;return r instanceof rv&&(r=r.value()),tg(t,function(e,t){return t.func.apply(t.thisArg,tp([e],t.args))},r)}function iA(e,t,r){var i=e.length;if(i<2)return i?ix(e[0]):[];for(var s=-1,o=ev(i);++s<i;)for(var a=e[s],l=-1;++l<i;)l!=s&&(o[s]=rB(o[s]||a,e[l],t,r));return ix(rW(o,1),t,r)}function iR(e,t,i){for(var s=-1,o=e.length,a=t.length,l={};++s<o;){var u=s<a?t[s]:r;i(l,e[s],u)}return l}function iT(e){return sM(e)?e:[]}function iN(e){return"function"==typeof e?e:oM}function ik(e,t){return sL(e)?e:nS(e,t)?[e]:nB(oe(e))}function ij(e,t,i){var s=e.length;return i=i===r?s:i,!t&&i>=s?e:ib(e,t,i)}var iL=tb||function(e){return e2.clearTimeout(e)};function i$(e,t){if(t)return e.slice();var r=e.length,i=eH?eH(r):new e.constructor(r);return e.copy(i),i}function iB(e){var t=new e.constructor(e.byteLength);return new eF(t).set(new eF(e)),t}function iM(e,t){var r=t?iB(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function iq(e,t){if(e!==t){var i=e!==r,s=null===e,o=e==e,a=s0(e),l=t!==r,u=null===t,c=t==t,h=s0(t);if(!u&&!h&&!a&&e>t||a&&l&&c&&!u&&!h||s&&l&&c||!i&&c||!o)return 1;if(!s&&!a&&!h&&e<t||h&&i&&o&&!s&&!a||u&&i&&o||!l&&o||!c)return -1}return 0}function iU(e,t,r,i){for(var s=-1,o=e.length,a=r.length,l=-1,u=t.length,c=t8(o-a,0),h=ev(u+c),f=!i;++l<u;)h[l]=t[l];for(;++s<a;)(f||s<o)&&(h[r[s]]=e[s]);for(;c--;)h[l++]=e[s++];return h}function iF(e,t,r,i){for(var s=-1,o=e.length,a=-1,l=r.length,u=-1,c=t.length,h=t8(o-l,0),f=ev(h+c),d=!i;++s<h;)f[s]=e[s];for(var p=s;++u<c;)f[p+u]=t[u];for(;++a<l;)(d||s<o)&&(f[p+r[a]]=e[s++]);return f}function iz(e,t){var r=-1,i=e.length;for(t||(t=ev(i));++r<i;)t[r]=e[r];return t}function iW(e,t,i,s){var o=!i;i||(i={});for(var a=-1,l=t.length;++a<l;){var u=t[a],c=s?s(i[u],e[u],u,i,e):r;c===r&&(c=e[u]),o?rT(i,u,c):rC(i,u,c)}return i}function iH(e,t){return function(r,i){var s=sL(r)?ta:rA,o=t?t():{};return s(r,e,nf(i,2),o)}}function iV(e){return ip(function(t,i){var s=-1,o=i.length,a=o>1?i[o-1]:r,l=o>2?i[2]:r;for(a=e.length>3&&"function"==typeof a?(o--,a):r,l&&nE(i[0],i[1],l)&&(a=o<3?r:a,o=1),t=eS(t);++s<o;){var u=i[s];u&&e(t,u,s,a)}return t})}function iG(e,t){return function(r,i){if(null==r)return r;if(!sB(r))return e(r,i);for(var s=r.length,o=t?s:-1,a=eS(r);(t?o--:++o<s)&&!1!==i(a[o],o,a););return r}}function iK(e){return function(t,r,i){for(var s=-1,o=eS(t),a=i(t),l=a.length;l--;){var u=a[e?l:++s];if(!1===r(o[u],u,o))break}return t}}function iJ(e){return function(t){var i=tM(t=oe(t))?tH(t):r,s=i?i[0]:t.charAt(0),o=i?ij(i,1).join(""):t.slice(1);return s[e]()+o}}function iZ(e){return function(t){return tg(oN(ox(t).replace(ez,"")),e,"")}}function iY(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ry(e.prototype),i=e.apply(r,t);return sV(i)?i:r}}function iQ(e){return function(t,i,s){var o=eS(t);if(!sB(t)){var a=nf(i,3);t=od(t),i=function(e){return a(o[e],e,o)}}var l=e(t,i,s);return l>-1?o[a?t[l]:l]:r}}function iX(e){return no(function(t){var s=t.length,o=s,a=rb.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new eO(i);if(a&&!u&&"wrapper"==nc(l))var u=new rb([],!0)}for(o=u?o:s;++o<s;){var c=nc(l=t[o]),h="wrapper"==c?nu(l):r;u=h&&nx(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?u[nc(h[0])].apply(u,h[3]):1==l.length&&nx(l)?u[c]():u.thru(l)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&sL(r))return u.plant(r).value();for(var i=0,o=s?t[i].apply(this,e):r;++i<s;)o=t[i].call(this,o);return o}})}function i0(e,t,i,s,o,a,l,u,c,h){var f=128&t,d=1&t,p=2&t,g=24&t,y=512&t,m=p?r:iY(e);return function b(){for(var v=arguments.length,w=ev(v),_=v;_--;)w[_]=arguments[_];if(g)var D=nh(b),E=function(e,t){for(var r=e.length,i=0;r--;)e[r]===t&&++i;return i}(w,D);if(s&&(w=iU(w,s,o,g)),a&&(w=iF(w,a,l,g)),v-=E,g&&v<h){var S=tF(w,D);return i7(e,t,i0,b.placeholder,i,w,S,u,c,h-v)}var x=d?i:this,I=p?x[e]:e;return v=w.length,u?w=function(e,t){for(var i=e.length,s=t2(t.length,i),o=iz(e);s--;){var a=t[s];e[s]=nD(a,i)?o[a]:r}return e}(w,u):y&&v>1&&w.reverse(),f&&c<v&&(w.length=c),this&&this!==e2&&this instanceof b&&(I=m||iY(I)),I.apply(x,w)}}function i1(e,t){return function(r,i){var s,o;return s=t(i),o={},rG(r,function(t,r,i){e(o,s(t),r,i)}),o}}function i3(e,t){return function(i,s){var o;if(i===r&&s===r)return t;if(i!==r&&(o=i),s!==r){if(o===r)return s;"string"==typeof i||"string"==typeof s?(i=iS(i),s=iS(s)):(i=iE(i),s=iE(s)),o=e(i,s)}return o}}function i8(e){return no(function(t){return t=td(t,tR(nf())),ip(function(r){var i=this;return e(t,function(e){return to(e,i,r)})})})}function i2(e,t){var i=(t=t===r?" ":iS(t)).length;if(i<2)return i?id(t,e):t;var s=id(t,tZ(e/tW(t)));return tM(t)?ij(tH(s),0,e).join(""):s.slice(0,e)}function i4(e){return function(t,i,s){return s&&"number"!=typeof s&&nE(t,i,s)&&(i=s=r),t=s4(t),i===r?(i=t,t=0):i=s4(i),s=s===r?t<i?1:-1:s4(s),function(e,t,r,i){for(var s=-1,o=t8(tZ((t-e)/(r||1)),0),a=ev(o);o--;)a[i?o:++s]=e,e+=r;return a}(t,i,s,e)}}function i5(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=s6(t),r=s6(r)),e(t,r)}}function i7(e,t,i,s,o,a,l,u,c,h){var f=8&t,d=f?l:r,p=f?r:l,g=f?a:r,y=f?r:a;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var m=[e,t,o,g,d,y,p,u,c,h],b=i.apply(r,m);return nx(e)&&nT(b,m),b.placeholder=s,nj(b,e,t)}function i6(e){var t=eE[e];return function(e,r){if(e=s6(e),(r=null==r?0:t2(s5(r),292))&&t0(e)){var i=(oe(e)+"e").split("e");return+((i=(oe(t(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return t(e)}}var i9=rr&&1/tz(new rr([,-0]))[1]==a?function(e){return new rr(e)}:oW;function ne(e){return function(t){var r,i,s=nb(t);return s==m?tq(t):s==D?(r=-1,i=Array(t.size),t.forEach(function(e){i[++r]=[e,e]}),i):td(e(t),function(e){return[e,t[e]]})}}function nt(e,t,s,a,l,u,c,h){var f=2&t;if(!f&&"function"!=typeof e)throw new eO(i);var d=a?a.length:0;if(d||(t&=-97,a=l=r),c=c===r?c:t8(s5(c),0),h=h===r?h:s5(h),d-=l?l.length:0,64&t){var p=a,g=l;a=l=r}var y=f?r:nu(e),m=[e,t,s,a,l,p,g,u,c,h];if(y&&function(e,t){var r=e[1],i=t[1],s=r|i,a=s<131,l=128==i&&8==r||128==i&&256==r&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==r;if(a||l){1&i&&(e[2]=t[2],s|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?iU(c,u,t[4]):u,e[4]=c?tF(e[3],o):t[4]}(u=t[5])&&(c=e[5],e[5]=c?iF(c,u,t[6]):u,e[6]=c?tF(e[5],o):t[6]),(u=t[7])&&(e[7]=u),128&i&&(e[8]=null==e[8]?t[8]:t2(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s}}(m,y),e=m[0],t=m[1],s=m[2],a=m[3],l=m[4],(h=m[9]=m[9]===r?f?0:e.length:t8(m[9]-d,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?(b=e,v=t,w=h,_=iY(b),N=function e(){for(var t=arguments.length,i=ev(t),s=t,o=nh(e);s--;)i[s]=arguments[s];var a=t<3&&i[0]!==o&&i[t-1]!==o?[]:tF(i,o);return(t-=a.length)<w?i7(b,v,i0,e.placeholder,r,i,a,r,r,w-t):to(this&&this!==e2&&this instanceof e?_:b,this,i)}):32!=t&&33!=t||l.length?N=i0.apply(r,m):(D=e,E=t,S=s,x=a,I=1&E,O=iY(D),N=function e(){for(var t=-1,r=arguments.length,i=-1,s=x.length,o=ev(s+r),a=this&&this!==e2&&this instanceof e?O:D;++i<s;)o[i]=x[i];for(;r--;)o[i++]=arguments[++t];return to(a,I?S:this,o)});else var b,v,w,_,D,E,S,x,I,O,C,P,A,R,T,N=(C=e,P=t,A=s,R=1&P,T=iY(C),function e(){return(this&&this!==e2&&this instanceof e?T:C).apply(R?A:this,arguments)});return nj((y?iy:nT)(N,m),e,t)}function nr(e,t,i,s){return e===r||sT(e,eA[i])&&!eN.call(s,i)?t:e}function ni(e,t,i,s,o,a){return sV(e)&&sV(t)&&(a.set(t,e),is(e,t,r,ni,a),a.delete(t)),e}function nn(e){return sZ(e)?r:e}function ns(e,t,i,s,o,a){var l=1&i,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var d=-1,p=!0,g=2&i?new rE:r;for(a.set(e,t),a.set(t,e);++d<u;){var y=e[d],m=t[d];if(s)var b=l?s(m,y,d,t,e,a):s(y,m,d,e,t,a);if(b!==r){if(b)continue;p=!1;break}if(g){if(!tm(t,function(e,t){if(!tN(g,t)&&(y===e||o(y,e,i,s,a)))return g.push(t)})){p=!1;break}}else if(!(y===m||o(y,m,i,s,a))){p=!1;break}}return a.delete(e),a.delete(t),p}function no(e){return nk(nP(e,r,nG),e+"")}function na(e){return rY(e,od,ny)}function nl(e){return rY(e,op,nm)}var nu=rs?function(e){return rs.get(e)}:oW;function nc(e){for(var t=e.name+"",r=ro[t],i=eN.call(ro,t)?r.length:0;i--;){var s=r[i],o=s.func;if(null==o||o==e)return s.name}return t}function nh(e){return(eN.call(rg,"placeholder")?rg:e).placeholder}function nf(){var e=rg.iteratee||oq;return e=e===oq?r6:e,arguments.length?e(arguments[0],arguments[1]):e}function nd(e,t){var r,i=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?i["string"==typeof t?"string":"hash"]:i.map}function np(e){for(var t=od(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,s==s&&!sV(s)]}return t}function ng(e,t){var i=null==e?r:e[t];return r7(i)?i:r}var ny=tQ?function(e){return null==e?[]:tc(tQ(e=eS(e)),function(t){return e3.call(e,t)})}:oY,nm=tQ?function(e){for(var t=[];e;)tp(t,ny(e)),e=eG(e);return t}:oY,nb=rQ;function nv(e,t,r){t=ik(t,e);for(var i=-1,s=t.length,o=!1;++i<s;){var a=nM(t[i]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++i!=s?o:!!(s=null==e?0:e.length)&&sH(s)&&nD(a,s)&&(sL(e)||sj(e))}function nw(e){return"function"!=typeof e.constructor||nO(e)?{}:ry(eG(e))}function n_(e){return sL(e)||sj(e)||!!(e4&&e&&e[e4])}function nD(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&ef.test(e))&&e>-1&&e%1==0&&e<t}function nE(e,t,r){if(!sV(r))return!1;var i=typeof t;return("number"==i?!!(sB(r)&&nD(t,r.length)):"string"==i&&t in r)&&sT(r[t],e)}function nS(e,t){if(sL(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||s0(e))||K.test(e)||!G.test(e)||null!=t&&e in eS(t)}function nx(e){var t=nc(e),r=rg[t];if("function"!=typeof r||!(t in rv.prototype))return!1;if(e===r)return!0;var i=nu(r);return!!i&&e===i[0]}(t9&&nb(new t9(new ArrayBuffer(1)))!=O||re&&nb(new re)!=m||rt&&nb(rt.resolve())!=w||rr&&nb(new rr)!=D||ri&&nb(new ri)!=x)&&(nb=function(e){var t=rQ(e),i=t==v?e.constructor:r,s=i?nq(i):"";if(s)switch(s){case ra:return O;case rl:return m;case ru:return w;case rc:return D;case rh:return x}return t});var nI=eR?sz:oQ;function nO(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||eA)}function nC(e,t){return function(i){return null!=i&&i[e]===t&&(t!==r||e in eS(i))}}function nP(e,t,i){return t=t8(t===r?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=t8(r.length-t,0),a=ev(o);++s<o;)a[s]=r[t+s];s=-1;for(var l=ev(t+1);++s<t;)l[s]=r[s];return l[t]=i(a),to(e,this,l)}}function nA(e,t){return t.length<2?e:rZ(e,ib(t,0,-1))}function nR(e,t){if(!("constructor"===t&&"function"==typeof e[t])&&"__proto__"!=t)return e[t]}var nT=nL(iy),nN=tJ||function(e,t){return e2.setTimeout(e,t)},nk=nL(im);function nj(e,t,r){var i,s,o=t+"";return nk(e,function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(ee,`{
/* [wrapped with `+t+`] */
`)}(o,(i=(s=o.match(et))?s[1].split(er):[],tl(u,function(e){var t="_."+e[0];r&e[1]&&!th(i,t)&&i.push(t)}),i.sort())))}function nL(e){var t=0,i=0;return function(){var s=t4(),o=16-(s-i);if(i=s,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function n$(e,t){var i=-1,s=e.length,o=s-1;for(t=t===r?s:t;++i<t;){var a=ih(i,o),l=e[a];e[a]=e[i],e[i]=l}return e.length=t,e}var nB=(em=(ey=sI(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(J,function(e,r,i,s){t.push(i?s.replace(es,"$1"):r||e)}),t},function(e){return 500===em.size&&em.clear(),e})).cache,ey);function nM(e){if("string"==typeof e||s0(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function nq(e){if(null!=e){try{return eT.call(e)}catch{}try{return e+""}catch{}}return""}function nU(e){if(e instanceof rv)return e.clone();var t=new rb(e.__wrapped__,e.__chain__);return t.__actions__=iz(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var nF=ip(function(e,t){return sM(e)?rB(e,rW(t,1,sM,!0)):[]}),nz=ip(function(e,t){var i=nQ(t);return sM(i)&&(i=r),sM(e)?rB(e,rW(t,1,sM,!0),nf(i,2)):[]}),nW=ip(function(e,t){var i=nQ(t);return sM(i)&&(i=r),sM(e)?rB(e,rW(t,1,sM,!0),r,i):[]});function nH(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var s=null==r?0:s5(r);return s<0&&(s=t8(i+s,0)),tw(e,nf(t,3),s)}function nV(e,t,i){var s=null==e?0:e.length;if(!s)return -1;var o=s-1;return i!==r&&(o=s5(i),o=i<0?t8(s+o,0):t2(o,s-1)),tw(e,nf(t,3),o,!0)}function nG(e){return(null==e?0:e.length)?rW(e,1):[]}function nK(e){return e&&e.length?e[0]:r}var nJ=ip(function(e){var t=td(e,iT);return t.length&&t[0]===e[0]?r3(t):[]}),nZ=ip(function(e){var t=nQ(e),i=td(e,iT);return t===nQ(i)?t=r:i.pop(),i.length&&i[0]===e[0]?r3(i,nf(t,2)):[]}),nY=ip(function(e){var t=nQ(e),i=td(e,iT);return(t="function"==typeof t?t:r)&&i.pop(),i.length&&i[0]===e[0]?r3(i,r,t):[]});function nQ(e){var t=null==e?0:e.length;return t?e[t-1]:r}var nX=ip(n0);function n0(e,t){return e&&e.length&&t&&t.length?iu(e,t):e}var n1=no(function(e,t){var r=null==e?0:e.length,i=rN(e,t);return ic(e,td(t,function(e){return nD(e,r)?+e:e}).sort(iq)),i});function n3(e){return null==e?e:t6.call(e)}var n8=ip(function(e){return ix(rW(e,1,sM,!0))}),n2=ip(function(e){var t=nQ(e);return sM(t)&&(t=r),ix(rW(e,1,sM,!0),nf(t,2))}),n4=ip(function(e){var t=nQ(e);return t="function"==typeof t?t:r,ix(rW(e,1,sM,!0),r,t)});function n5(e){if(!(e&&e.length))return[];var t=0;return e=tc(e,function(e){if(sM(e))return t=t8(e.length,t),!0}),tP(t,function(t){return td(e,tx(t))})}function n7(e,t){if(!(e&&e.length))return[];var i=n5(e);return null==t?i:td(i,function(e){return to(t,r,e)})}var n6=ip(function(e,t){return sM(e)?rB(e,t):[]}),n9=ip(function(e){return iA(tc(e,sM))}),se=ip(function(e){var t=nQ(e);return sM(t)&&(t=r),iA(tc(e,sM),nf(t,2))}),st=ip(function(e){var t=nQ(e);return t="function"==typeof t?t:r,iA(tc(e,sM),r,t)}),sr=ip(n5),si=ip(function(e){var t=e.length,i=t>1?e[t-1]:r;return i="function"==typeof i?(e.pop(),i):r,n7(e,i)});function sn(e){var t=rg(e);return t.__chain__=!0,t}function ss(e,t){return t(e)}var so=no(function(e){var t=e.length,i=t?e[0]:0,s=this.__wrapped__,o=function(t){return rN(t,e)};return!(t>1)&&!this.__actions__.length&&s instanceof rv&&nD(i)?((s=s.slice(i,+i+(t?1:0))).__actions__.push({func:ss,args:[o],thisArg:r}),new rb(s,this.__chain__).thru(function(e){return t&&!e.length&&e.push(r),e})):this.thru(o)}),sa=iH(function(e,t,r){eN.call(e,r)?++e[r]:rT(e,r,1)}),sl=iQ(nH),su=iQ(nV);function sc(e,t){return(sL(e)?tl:rM)(e,nf(t,3))}function sh(e,t){return(sL(e)?function(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}:rq)(e,nf(t,3))}var sf=iH(function(e,t,r){eN.call(e,r)?e[r].push(t):rT(e,r,[t])}),sd=ip(function(e,t,r){var i=-1,s="function"==typeof t,o=sB(e)?ev(e.length):[];return rM(e,function(e){o[++i]=s?to(t,e,r):r8(e,t,r)}),o}),sp=iH(function(e,t,r){rT(e,r,t)});function sg(e,t){return(sL(e)?td:it)(e,nf(t,3))}var sy=iH(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]}),sm=ip(function(e,t){if(null==e)return[];var r=t.length;return r>1&&nE(e,t[0],t[1])?t=[]:r>2&&nE(t[0],t[1],t[2])&&(t=[t[0]]),ia(e,rW(t,1),[])}),sb=tI||function(){return e2.Date.now()};function sv(e,t,i){return t=i?r:t,t=e&&null==t?e.length:t,nt(e,128,r,r,r,r,t)}function sw(e,t){var s;if("function"!=typeof t)throw new eO(i);return e=s5(e),function(){return--e>0&&(s=t.apply(this,arguments)),e<=1&&(t=r),s}}var s_=ip(function(e,t,r){var i=1;if(r.length){var s=tF(r,nh(s_));i|=32}return nt(e,i,t,r,s)}),sD=ip(function(e,t,r){var i=3;if(r.length){var s=tF(r,nh(sD));i|=32}return nt(t,i,e,r,s)});function sE(e,t,s){var o,a,l,u,c,h,f=0,d=!1,p=!1,g=!0;if("function"!=typeof e)throw new eO(i);function y(t){var i=o,s=a;return o=a=r,f=t,u=e.apply(s,i)}function m(e){var i=e-h,s=e-f;return h===r||i>=t||i<0||p&&s>=l}function b(){var e,r,i,s=sb();if(m(s))return v(s);c=nN(b,(e=s-h,r=s-f,i=t-e,p?t2(i,l-r):i))}function v(e){return c=r,g&&o?y(e):(o=a=r,u)}function w(){var e,i=sb(),s=m(i);if(o=arguments,a=this,h=i,s){if(c===r)return f=e=h,c=nN(b,t),d?y(e):u;if(p)return iL(c),c=nN(b,t),y(h)}return c===r&&(c=nN(b,t)),u}return t=s6(t)||0,sV(s)&&(d=!!s.leading,l=(p="maxWait"in s)?t8(s6(s.maxWait)||0,t):l,g="trailing"in s?!!s.trailing:g),w.cancel=function(){c!==r&&iL(c),f=0,o=h=a=c=r},w.flush=function(){return c===r?u:v(sb())},w}var sS=ip(function(e,t){return r$(e,1,t)}),sx=ip(function(e,t,r){return r$(e,s6(t)||0,r)});function sI(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eO(i);var r=function(){var i=arguments,s=t?t.apply(this,i):i[0],o=r.cache;if(o.has(s))return o.get(s);var a=e.apply(this,i);return r.cache=o.set(s,a)||o,a};return r.cache=new(sI.Cache||rD),r}function sO(e){if("function"!=typeof e)throw new eO(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}sI.Cache=rD;var sC=ip(function(e,t){var r=(t=1==t.length&&sL(t[0])?td(t[0],tR(nf())):td(rW(t,1),tR(nf()))).length;return ip(function(i){for(var s=-1,o=t2(i.length,r);++s<o;)i[s]=t[s].call(this,i[s]);return to(e,this,i)})}),sP=ip(function(e,t){var i=tF(t,nh(sP));return nt(e,32,r,t,i)}),sA=ip(function(e,t){var i=tF(t,nh(sA));return nt(e,64,r,t,i)}),sR=no(function(e,t){return nt(e,256,r,r,r,t)});function sT(e,t){return e===t||e!=e&&t!=t}var sN=i5(rX),sk=i5(function(e,t){return e>=t}),sj=r2(function(){return arguments}())?r2:function(e){return sG(e)&&eN.call(e,"callee")&&!e3.call(e,"callee")},sL=ev.isArray,s$=te?tR(te):function(e){return sG(e)&&rQ(e)==I};function sB(e){return null!=e&&sH(e.length)&&!sz(e)}function sM(e){return sG(e)&&sB(e)}var sq=tX||oQ,sU=tt?tR(tt):function(e){return sG(e)&&rQ(e)==d};function sF(e){if(!sG(e))return!1;var t=rQ(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!sZ(e)}function sz(e){if(!sV(e))return!1;var t=rQ(e);return t==g||t==y||"[object AsyncFunction]"==t||"[object Proxy]"==t}function sW(e){return"number"==typeof e&&e==s5(e)}function sH(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function sV(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function sG(e){return null!=e&&"object"==typeof e}var sK=tr?tR(tr):function(e){return sG(e)&&nb(e)==m};function sJ(e){return"number"==typeof e||sG(e)&&rQ(e)==b}function sZ(e){if(!sG(e)||rQ(e)!=v)return!1;var t=eG(e);if(null===t)return!0;var r=eN.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&eT.call(r)==e$}var sY=ti?tR(ti):function(e){return sG(e)&&rQ(e)==_},sQ=tn?tR(tn):function(e){return sG(e)&&nb(e)==D};function sX(e){return"string"==typeof e||!sL(e)&&sG(e)&&rQ(e)==E}function s0(e){return"symbol"==typeof e||sG(e)&&rQ(e)==S}var s1=ts?tR(ts):function(e){return sG(e)&&sH(e.length)&&!!eY[rQ(e)]},s3=i5(ie),s8=i5(function(e,t){return e<=t});function s2(e){if(!e)return[];if(sB(e))return sX(e)?tH(e):iz(e);if(e5&&e[e5])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[e5]());var t=nb(e);return(t==m?tq:t==D?tz:oD)(e)}function s4(e){return e?(e=s6(e))===a||e===-a?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function s5(e){var t=s4(e),r=t%1;return t==t?r?t-r:t:0}function s7(e){return e?rk(s5(e),0,4294967295):0}function s6(e){if("number"==typeof e)return e;if(s0(e))return l;if(sV(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sV(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tA(e);var r=eu.test(e);return r||eh.test(e)?e1(e.slice(2),r?2:8):el.test(e)?l:+e}function s9(e){return iW(e,op(e))}function oe(e){return null==e?"":iS(e)}var ot=iV(function(e,t){if(nO(t)||sB(t)){iW(t,od(t),e);return}for(var r in t)eN.call(t,r)&&rC(e,r,t[r])}),or=iV(function(e,t){iW(t,op(t),e)}),oi=iV(function(e,t,r,i){iW(t,op(t),e,i)}),on=iV(function(e,t,r,i){iW(t,od(t),e,i)}),os=no(rN),oo=ip(function(e,t){e=eS(e);var i=-1,s=t.length,o=s>2?t[2]:r;for(o&&nE(t[0],t[1],o)&&(s=1);++i<s;)for(var a=t[i],l=op(a),u=-1,c=l.length;++u<c;){var h=l[u],f=e[h];(f===r||sT(f,eA[h])&&!eN.call(e,h))&&(e[h]=a[h])}return e}),oa=ip(function(e){return e.push(r,ni),to(oy,r,e)});function ol(e,t,i){var s=null==e?r:rZ(e,t);return s===r?i:s}function ou(e,t){return null!=e&&nv(e,t,r1)}var oc=i1(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eL.call(t)),e[t]=r},oL(oM)),oh=i1(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=eL.call(t)),eN.call(e,t)?e[t].push(r):e[t]=[r]},nf),of=ip(r8);function od(e){return sB(e)?rx(e):r9(e)}function op(e){return sB(e)?rx(e,!0):function(e){if(!sV(e))return function(e){var t=[];if(null!=e)for(var r in eS(e))t.push(r);return t}(e);var t=nO(e),r=[];for(var i in e)"constructor"==i&&(t||!eN.call(e,i))||r.push(i);return r}(e)}var og=iV(function(e,t,r){is(e,t,r)}),oy=iV(function(e,t,r,i){is(e,t,r,i)}),om=no(function(e,t){var r={};if(null==e)return r;var i=!1;t=td(t,function(t){return t=ik(t,e),i||(i=t.length>1),t}),iW(e,nl(e),r),i&&(r=rj(r,7,nn));for(var s=t.length;s--;)iI(r,t[s]);return r}),ob=no(function(e,t){return null==e?{}:il(e,t,function(t,r){return ou(e,r)})});function ov(e,t){if(null==e)return{};var r=td(nl(e),function(e){return[e]});return t=nf(t),il(e,r,function(e,r){return t(e,r[0])})}var ow=ne(od),o_=ne(op);function oD(e){return null==e?[]:tT(e,od(e))}var oE=iZ(function(e,t,r){return t=t.toLowerCase(),e+(r?oS(t):t)});function oS(e){return oT(oe(e).toLowerCase())}function ox(e){return(e=oe(e))&&e.replace(ed,tL).replace(eW,"")}var oI=iZ(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),oO=iZ(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),oC=iJ("toLowerCase"),oP=iZ(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}),oA=iZ(function(e,t,r){return e+(r?" ":"")+oT(t)}),oR=iZ(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}),oT=iJ("toUpperCase");function oN(e,t,i){var s;return e=oe(e),(t=i?r:t)===r?(s=e,eK.test(s))?e.match(eV)||[]:e.match(ei)||[]:e.match(t)||[]}var ok=ip(function(e,t){try{return to(e,r,t)}catch(e){return sF(e)?e:new e_(e)}}),oj=no(function(e,t){return tl(t,function(t){rT(e,t=nM(t),s_(e[t],e))}),e});function oL(e){return function(){return e}}var o$=iX(),oB=iX(!0);function oM(e){return e}function oq(e){return r6("function"==typeof e?e:rj(e,1))}var oU=ip(function(e,t){return function(r){return r8(r,e,t)}}),oF=ip(function(e,t){return function(r){return r8(e,r,t)}});function oz(e,t,r){var i=od(t),s=rJ(t,i);null!=r||sV(t)&&(s.length||!i.length)||(r=t,t=e,e=this,s=rJ(t,od(t)));var o=!(sV(r)&&"chain"in r)||!!r.chain,a=sz(e);return tl(s,function(r){var i=t[r];e[r]=i,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=iz(this.__actions__)).push({func:i,args:arguments,thisArg:e}),r.__chain__=t,r}return i.apply(e,tp([this.value()],arguments))})}),e}function oW(){}var oH=i8(td),oV=i8(tu),oG=i8(tm);function oK(e){return nS(e)?tx(nM(e)):function(t){return rZ(t,e)}}var oJ=i4(),oZ=i4(!0);function oY(){return[]}function oQ(){return!1}var oX=i3(function(e,t){return e+t},0),o0=i6("ceil"),o1=i3(function(e,t){return e/t},1),o3=i6("floor"),o8=i3(function(e,t){return e*t},1),o2=i6("round"),o4=i3(function(e,t){return e-t},0);return rg.after=function(e,t){if("function"!=typeof t)throw new eO(i);return e=s5(e),function(){if(--e<1)return t.apply(this,arguments)}},rg.ary=sv,rg.assign=ot,rg.assignIn=or,rg.assignInWith=oi,rg.assignWith=on,rg.at=os,rg.before=sw,rg.bind=s_,rg.bindAll=oj,rg.bindKey=sD,rg.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return sL(e)?e:[e]},rg.chain=sn,rg.chunk=function(e,t,i){t=(i?nE(e,t,i):t===r)?1:t8(s5(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var o=0,a=0,l=ev(tZ(s/t));o<s;)l[a++]=ib(e,o,o+=t);return l},rg.compact=function(e){for(var t=-1,r=null==e?0:e.length,i=0,s=[];++t<r;){var o=e[t];o&&(s[i++]=o)}return s},rg.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ev(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return tp(sL(r)?iz(r):[r],rW(t,1))},rg.cond=function(e){var t=null==e?0:e.length,r=nf();return e=t?td(e,function(e){if("function"!=typeof e[1])throw new eO(i);return[r(e[0]),e[1]]}):[],ip(function(r){for(var i=-1;++i<t;){var s=e[i];if(to(s[0],this,r))return to(s[1],this,r)}})},rg.conforms=function(e){var t,r;return r=od(t=rj(e,1)),function(e){return rL(e,t,r)}},rg.constant=oL,rg.countBy=sa,rg.create=function(e,t){var r=ry(e);return null==t?r:rR(r,t)},rg.curry=function e(t,i,s){i=s?r:i;var o=nt(t,8,r,r,r,r,r,i);return o.placeholder=e.placeholder,o},rg.curryRight=function e(t,i,s){i=s?r:i;var o=nt(t,16,r,r,r,r,r,i);return o.placeholder=e.placeholder,o},rg.debounce=sE,rg.defaults=oo,rg.defaultsDeep=oa,rg.defer=sS,rg.delay=sx,rg.difference=nF,rg.differenceBy=nz,rg.differenceWith=nW,rg.drop=function(e,t,i){var s=null==e?0:e.length;return s?ib(e,(t=i||t===r?1:s5(t))<0?0:t,s):[]},rg.dropRight=function(e,t,i){var s=null==e?0:e.length;return s?ib(e,0,(t=s-(t=i||t===r?1:s5(t)))<0?0:t):[]},rg.dropRightWhile=function(e,t){return e&&e.length?iC(e,nf(t,3),!0,!0):[]},rg.dropWhile=function(e,t){return e&&e.length?iC(e,nf(t,3),!0):[]},rg.fill=function(e,t,i,s){var o=null==e?0:e.length;return o?(i&&"number"!=typeof i&&nE(e,t,i)&&(i=0,s=o),function(e,t,i,s){var o=e.length;for((i=s5(i))<0&&(i=-i>o?0:o+i),(s=s===r||s>o?o:s5(s))<0&&(s+=o),s=i>s?0:s7(s);i<s;)e[i++]=t;return e}(e,t,i,s)):[]},rg.filter=function(e,t){return(sL(e)?tc:rz)(e,nf(t,3))},rg.flatMap=function(e,t){return rW(sg(e,t),1)},rg.flatMapDeep=function(e,t){return rW(sg(e,t),a)},rg.flatMapDepth=function(e,t,i){return i=i===r?1:s5(i),rW(sg(e,t),i)},rg.flatten=nG,rg.flattenDeep=function(e){return(null==e?0:e.length)?rW(e,a):[]},rg.flattenDepth=function(e,t){return(null==e?0:e.length)?rW(e,t=t===r?1:s5(t)):[]},rg.flip=function(e){return nt(e,512)},rg.flow=o$,rg.flowRight=oB,rg.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,i={};++t<r;){var s=e[t];i[s[0]]=s[1]}return i},rg.functions=function(e){return null==e?[]:rJ(e,od(e))},rg.functionsIn=function(e){return null==e?[]:rJ(e,op(e))},rg.groupBy=sf,rg.initial=function(e){return(null==e?0:e.length)?ib(e,0,-1):[]},rg.intersection=nJ,rg.intersectionBy=nZ,rg.intersectionWith=nY,rg.invert=oc,rg.invertBy=oh,rg.invokeMap=sd,rg.iteratee=oq,rg.keyBy=sp,rg.keys=od,rg.keysIn=op,rg.map=sg,rg.mapKeys=function(e,t){var r={};return t=nf(t,3),rG(e,function(e,i,s){rT(r,t(e,i,s),e)}),r},rg.mapValues=function(e,t){var r={};return t=nf(t,3),rG(e,function(e,i,s){rT(r,i,t(e,i,s))}),r},rg.matches=function(e){return ir(rj(e,1))},rg.matchesProperty=function(e,t){return ii(e,rj(t,1))},rg.memoize=sI,rg.merge=og,rg.mergeWith=oy,rg.method=oU,rg.methodOf=oF,rg.mixin=oz,rg.negate=sO,rg.nthArg=function(e){return e=s5(e),ip(function(t){return io(t,e)})},rg.omit=om,rg.omitBy=function(e,t){return ov(e,sO(nf(t)))},rg.once=function(e){return sw(2,e)},rg.orderBy=function(e,t,i,s){return null==e?[]:(sL(t)||(t=null==t?[]:[t]),sL(i=s?r:i)||(i=null==i?[]:[i]),ia(e,t,i))},rg.over=oH,rg.overArgs=sC,rg.overEvery=oV,rg.overSome=oG,rg.partial=sP,rg.partialRight=sA,rg.partition=sy,rg.pick=ob,rg.pickBy=ov,rg.property=oK,rg.propertyOf=function(e){return function(t){return null==e?r:rZ(e,t)}},rg.pull=nX,rg.pullAll=n0,rg.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?iu(e,t,nf(r,2)):e},rg.pullAllWith=function(e,t,i){return e&&e.length&&t&&t.length?iu(e,t,r,i):e},rg.pullAt=n1,rg.range=oJ,rg.rangeRight=oZ,rg.rearg=sR,rg.reject=function(e,t){return(sL(e)?tc:rz)(e,sO(nf(t,3)))},rg.remove=function(e,t){var r=[];if(!(e&&e.length))return r;var i=-1,s=[],o=e.length;for(t=nf(t,3);++i<o;){var a=e[i];t(a,i,e)&&(r.push(a),s.push(i))}return ic(e,s),r},rg.rest=function(e,t){if("function"!=typeof e)throw new eO(i);return ip(e,t=t===r?t:s5(t))},rg.reverse=n3,rg.sampleSize=function(e,t,i){return t=(i?nE(e,t,i):t===r)?1:s5(t),(sL(e)?function(e,t){return n$(iz(e),rk(t,0,e.length))}:function(e,t){var r=oD(e);return n$(r,rk(t,0,r.length))})(e,t)},rg.set=function(e,t,r){return null==e?e:ig(e,t,r)},rg.setWith=function(e,t,i,s){return s="function"==typeof s?s:r,null==e?e:ig(e,t,i,s)},rg.shuffle=function(e){return(sL(e)?function(e){return n$(iz(e))}:function(e){return n$(oD(e))})(e)},rg.slice=function(e,t,i){var s=null==e?0:e.length;return s?(i&&"number"!=typeof i&&nE(e,t,i)?(t=0,i=s):(t=null==t?0:s5(t),i=i===r?s:s5(i)),ib(e,t,i)):[]},rg.sortBy=sm,rg.sortedUniq=function(e){return e&&e.length?iD(e):[]},rg.sortedUniqBy=function(e,t){return e&&e.length?iD(e,nf(t,2)):[]},rg.split=function(e,t,i){return i&&"number"!=typeof i&&nE(e,t,i)&&(t=i=r),(i=i===r?4294967295:i>>>0)?(e=oe(e))&&("string"==typeof t||null!=t&&!sY(t))&&!(t=iS(t))&&tM(e)?ij(tH(e),0,i):e.split(t,i):[]},rg.spread=function(e,t){if("function"!=typeof e)throw new eO(i);return t=null==t?0:t8(s5(t),0),ip(function(r){var i=r[t],s=ij(r,0,t);return i&&tp(s,i),to(e,this,s)})},rg.tail=function(e){var t=null==e?0:e.length;return t?ib(e,1,t):[]},rg.take=function(e,t,i){return e&&e.length?ib(e,0,(t=i||t===r?1:s5(t))<0?0:t):[]},rg.takeRight=function(e,t,i){var s=null==e?0:e.length;return s?ib(e,(t=s-(t=i||t===r?1:s5(t)))<0?0:t,s):[]},rg.takeRightWhile=function(e,t){return e&&e.length?iC(e,nf(t,3),!1,!0):[]},rg.takeWhile=function(e,t){return e&&e.length?iC(e,nf(t,3)):[]},rg.tap=function(e,t){return t(e),e},rg.throttle=function(e,t,r){var s=!0,o=!0;if("function"!=typeof e)throw new eO(i);return sV(r)&&(s="leading"in r?!!r.leading:s,o="trailing"in r?!!r.trailing:o),sE(e,t,{leading:s,maxWait:t,trailing:o})},rg.thru=ss,rg.toArray=s2,rg.toPairs=ow,rg.toPairsIn=o_,rg.toPath=function(e){return sL(e)?td(e,nM):s0(e)?[e]:iz(nB(oe(e)))},rg.toPlainObject=s9,rg.transform=function(e,t,r){var i=sL(e),s=i||sq(e)||s1(e);if(t=nf(t,4),null==r){var o=e&&e.constructor;r=s?i?new o:[]:sV(e)&&sz(o)?ry(eG(e)):{}}return(s?tl:rG)(e,function(e,i,s){return t(r,e,i,s)}),r},rg.unary=function(e){return sv(e,1)},rg.union=n8,rg.unionBy=n2,rg.unionWith=n4,rg.uniq=function(e){return e&&e.length?ix(e):[]},rg.uniqBy=function(e,t){return e&&e.length?ix(e,nf(t,2)):[]},rg.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?ix(e,r,t):[]},rg.unset=function(e,t){return null==e||iI(e,t)},rg.unzip=n5,rg.unzipWith=n7,rg.update=function(e,t,r){return null==e?e:iO(e,t,iN(r))},rg.updateWith=function(e,t,i,s){return s="function"==typeof s?s:r,null==e?e:iO(e,t,iN(i),s)},rg.values=oD,rg.valuesIn=function(e){return null==e?[]:tT(e,op(e))},rg.without=n6,rg.words=oN,rg.wrap=function(e,t){return sP(iN(t),e)},rg.xor=n9,rg.xorBy=se,rg.xorWith=st,rg.zip=sr,rg.zipObject=function(e,t){return iR(e||[],t||[],rC)},rg.zipObjectDeep=function(e,t){return iR(e||[],t||[],ig)},rg.zipWith=si,rg.entries=ow,rg.entriesIn=o_,rg.extend=or,rg.extendWith=oi,oz(rg,rg),rg.add=oX,rg.attempt=ok,rg.camelCase=oE,rg.capitalize=oS,rg.ceil=o0,rg.clamp=function(e,t,i){return i===r&&(i=t,t=r),i!==r&&(i=(i=s6(i))==i?i:0),t!==r&&(t=(t=s6(t))==t?t:0),rk(s6(e),t,i)},rg.clone=function(e){return rj(e,4)},rg.cloneDeep=function(e){return rj(e,5)},rg.cloneDeepWith=function(e,t){return rj(e,5,t="function"==typeof t?t:r)},rg.cloneWith=function(e,t){return rj(e,4,t="function"==typeof t?t:r)},rg.conformsTo=function(e,t){return null==t||rL(e,t,od(t))},rg.deburr=ox,rg.defaultTo=function(e,t){return null==e||e!=e?t:e},rg.divide=o1,rg.endsWith=function(e,t,i){e=oe(e),t=iS(t);var s=e.length,o=i=i===r?s:rk(s5(i),0,s);return(i-=t.length)>=0&&e.slice(i,o)==t},rg.eq=sT,rg.escape=function(e){return(e=oe(e))&&z.test(e)?e.replace(U,t$):e},rg.escapeRegExp=function(e){return(e=oe(e))&&Y.test(e)?e.replace(Z,"\\$&"):e},rg.every=function(e,t,i){var s=sL(e)?tu:rU;return i&&nE(e,t,i)&&(t=r),s(e,nf(t,3))},rg.find=sl,rg.findIndex=nH,rg.findKey=function(e,t){return tv(e,nf(t,3),rG)},rg.findLast=su,rg.findLastIndex=nV,rg.findLastKey=function(e,t){return tv(e,nf(t,3),rK)},rg.floor=o3,rg.forEach=sc,rg.forEachRight=sh,rg.forIn=function(e,t){return null==e?e:rH(e,nf(t,3),op)},rg.forInRight=function(e,t){return null==e?e:rV(e,nf(t,3),op)},rg.forOwn=function(e,t){return e&&rG(e,nf(t,3))},rg.forOwnRight=function(e,t){return e&&rK(e,nf(t,3))},rg.get=ol,rg.gt=sN,rg.gte=sk,rg.has=function(e,t){return null!=e&&nv(e,t,r0)},rg.hasIn=ou,rg.head=nK,rg.identity=oM,rg.includes=function(e,t,r,i){e=sB(e)?e:oD(e),r=r&&!i?s5(r):0;var s=e.length;return r<0&&(r=t8(s+r,0)),sX(e)?r<=s&&e.indexOf(t,r)>-1:!!s&&t_(e,t,r)>-1},rg.indexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return -1;var s=null==r?0:s5(r);return s<0&&(s=t8(i+s,0)),t_(e,t,s)},rg.inRange=function(e,t,i){var s,o,a;return t=s4(t),i===r?(i=t,t=0):i=s4(i),(s=e=s6(e))>=t2(o=t,a=i)&&s<t8(o,a)},rg.invoke=of,rg.isArguments=sj,rg.isArray=sL,rg.isArrayBuffer=s$,rg.isArrayLike=sB,rg.isArrayLikeObject=sM,rg.isBoolean=function(e){return!0===e||!1===e||sG(e)&&rQ(e)==f},rg.isBuffer=sq,rg.isDate=sU,rg.isElement=function(e){return sG(e)&&1===e.nodeType&&!sZ(e)},rg.isEmpty=function(e){if(null==e)return!0;if(sB(e)&&(sL(e)||"string"==typeof e||"function"==typeof e.splice||sq(e)||s1(e)||sj(e)))return!e.length;var t=nb(e);if(t==m||t==D)return!e.size;if(nO(e))return!r9(e).length;for(var r in e)if(eN.call(e,r))return!1;return!0},rg.isEqual=function(e,t){return r4(e,t)},rg.isEqualWith=function(e,t,i){var s=(i="function"==typeof i?i:r)?i(e,t):r;return s===r?r4(e,t,r,i):!!s},rg.isError=sF,rg.isFinite=function(e){return"number"==typeof e&&t0(e)},rg.isFunction=sz,rg.isInteger=sW,rg.isLength=sH,rg.isMap=sK,rg.isMatch=function(e,t){return e===t||r5(e,t,np(t))},rg.isMatchWith=function(e,t,i){return i="function"==typeof i?i:r,r5(e,t,np(t),i)},rg.isNaN=function(e){return sJ(e)&&e!=+e},rg.isNative=function(e){if(nI(e))throw new e_("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return r7(e)},rg.isNil=function(e){return null==e},rg.isNull=function(e){return null===e},rg.isNumber=sJ,rg.isObject=sV,rg.isObjectLike=sG,rg.isPlainObject=sZ,rg.isRegExp=sY,rg.isSafeInteger=function(e){return sW(e)&&e>=-9007199254740991&&e<=9007199254740991},rg.isSet=sQ,rg.isString=sX,rg.isSymbol=s0,rg.isTypedArray=s1,rg.isUndefined=function(e){return e===r},rg.isWeakMap=function(e){return sG(e)&&nb(e)==x},rg.isWeakSet=function(e){return sG(e)&&"[object WeakSet]"==rQ(e)},rg.join=function(e,t){return null==e?"":t1.call(e,t)},rg.kebabCase=oI,rg.last=nQ,rg.lastIndexOf=function(e,t,i){var s=null==e?0:e.length;if(!s)return -1;var o=s;return i!==r&&(o=(o=s5(i))<0?t8(s+o,0):t2(o,s-1)),t==t?function(e,t,r){for(var i=r+1;i--&&e[i]!==t;);return i}(e,t,o):tw(e,tE,o,!0)},rg.lowerCase=oO,rg.lowerFirst=oC,rg.lt=s3,rg.lte=s8,rg.max=function(e){return e&&e.length?rF(e,oM,rX):r},rg.maxBy=function(e,t){return e&&e.length?rF(e,nf(t,2),rX):r},rg.mean=function(e){return tS(e,oM)},rg.meanBy=function(e,t){return tS(e,nf(t,2))},rg.min=function(e){return e&&e.length?rF(e,oM,ie):r},rg.minBy=function(e,t){return e&&e.length?rF(e,nf(t,2),ie):r},rg.stubArray=oY,rg.stubFalse=oQ,rg.stubObject=function(){return{}},rg.stubString=function(){return""},rg.stubTrue=function(){return!0},rg.multiply=o8,rg.nth=function(e,t){return e&&e.length?io(e,s5(t)):r},rg.noConflict=function(){return e2._===this&&(e2._=eB),this},rg.noop=oW,rg.now=sb,rg.pad=function(e,t,r){e=oe(e);var i=(t=s5(t))?tW(e):0;if(!t||i>=t)return e;var s=(t-i)/2;return i2(tY(s),r)+e+i2(tZ(s),r)},rg.padEnd=function(e,t,r){e=oe(e);var i=(t=s5(t))?tW(e):0;return t&&i<t?e+i2(t-i,r):e},rg.padStart=function(e,t,r){e=oe(e);var i=(t=s5(t))?tW(e):0;return t&&i<t?i2(t-i,r)+e:e},rg.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),t5(oe(e).replace(Q,""),t||0)},rg.random=function(e,t,i){if(i&&"boolean"!=typeof i&&nE(e,t,i)&&(t=i=r),i===r&&("boolean"==typeof t?(i=t,t=r):"boolean"==typeof e&&(i=e,e=r)),e===r&&t===r?(e=0,t=1):(e=s4(e),t===r?(t=e,e=0):t=s4(t)),e>t){var s=e;e=t,t=s}if(i||e%1||t%1){var o=t7();return t2(e+o*(t-e+e0("1e-"+((o+"").length-1))),t)}return ih(e,t)},rg.reduce=function(e,t,r){var i=sL(e)?tg:tO,s=arguments.length<3;return i(e,nf(t,4),r,s,rM)},rg.reduceRight=function(e,t,r){var i=sL(e)?ty:tO,s=arguments.length<3;return i(e,nf(t,4),r,s,rq)},rg.repeat=function(e,t,i){return t=(i?nE(e,t,i):t===r)?1:s5(t),id(oe(e),t)},rg.replace=function(){var e=arguments,t=oe(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rg.result=function(e,t,i){t=ik(t,e);var s=-1,o=t.length;for(o||(o=1,e=r);++s<o;){var a=null==e?r:e[nM(t[s])];a===r&&(s=o,a=i),e=sz(a)?a.call(e):a}return e},rg.round=o2,rg.runInContext=e,rg.sample=function(e){return(sL(e)?rI:function(e){return rI(oD(e))})(e)},rg.size=function(e){if(null==e)return 0;if(sB(e))return sX(e)?tW(e):e.length;var t=nb(e);return t==m||t==D?e.size:r9(e).length},rg.snakeCase=oP,rg.some=function(e,t,i){var s=sL(e)?tm:iv;return i&&nE(e,t,i)&&(t=r),s(e,nf(t,3))},rg.sortedIndex=function(e,t){return iw(e,t)},rg.sortedIndexBy=function(e,t,r){return i_(e,t,nf(r,2))},rg.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var i=iw(e,t);if(i<r&&sT(e[i],t))return i}return -1},rg.sortedLastIndex=function(e,t){return iw(e,t,!0)},rg.sortedLastIndexBy=function(e,t,r){return i_(e,t,nf(r,2),!0)},rg.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=iw(e,t,!0)-1;if(sT(e[r],t))return r}return -1},rg.startCase=oA,rg.startsWith=function(e,t,r){return e=oe(e),r=null==r?0:rk(s5(r),0,e.length),t=iS(t),e.slice(r,r+t.length)==t},rg.subtract=o4,rg.sum=function(e){return e&&e.length?tC(e,oM):0},rg.sumBy=function(e,t){return e&&e.length?tC(e,nf(t,2)):0},rg.template=function(e,t,i){var s=rg.templateSettings;i&&nE(e,t,i)&&(t=r),e=oe(e),t=oi({},t,s,nr);var o,a,l=oi({},t.imports,s.imports,nr),u=od(l),c=tT(l,u),h=0,f=t.interpolate||ep,d="__p += '",p=ex((t.escape||ep).source+"|"+f.source+"|"+(f===V?eo:ep).source+"|"+(t.evaluate||ep).source+"|$","g"),g="//# sourceURL="+(eN.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eZ+"]")+`
`;e.replace(p,function(t,r,i,s,l,u){return i||(i=s),d+=e.slice(h,u).replace(eg,tB),r&&(o=!0,d+=`' +
__e(`+r+`) +
'`),l&&(a=!0,d+=`';
`+l+`;
__p += '`),i&&(d+=`' +
((__t = (`+i+`)) == null ? '' : __t) +
'`),h=u+t.length,t}),d+=`';
`;var y=eN.call(t,"variable")&&t.variable;if(y){if(en.test(y))throw new e_("Invalid `variable` option passed into `_.template`")}else d=`with (obj) {
`+d+`
}
`;d=(a?d.replace($,""):d).replace(B,"$1").replace(M,"$1;"),d="function("+(y||"obj")+`) {
`+(y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var m=ok(function(){return eD(u,g+"return "+d).apply(r,c)});if(m.source=d,sF(m))throw m;return m},rg.times=function(e,t){if((e=s5(e))<1||e>9007199254740991)return[];var r=4294967295,i=t2(e,4294967295);t=nf(t),e-=4294967295;for(var s=tP(i,t);++r<e;)t(r);return s},rg.toFinite=s4,rg.toInteger=s5,rg.toLength=s7,rg.toLower=function(e){return oe(e).toLowerCase()},rg.toNumber=s6,rg.toSafeInteger=function(e){return e?rk(s5(e),-9007199254740991,9007199254740991):0===e?e:0},rg.toString=oe,rg.toUpper=function(e){return oe(e).toUpperCase()},rg.trim=function(e,t,i){if((e=oe(e))&&(i||t===r))return tA(e);if(!e||!(t=iS(t)))return e;var s=tH(e),o=tH(t),a=tk(s,o),l=tj(s,o)+1;return ij(s,a,l).join("")},rg.trimEnd=function(e,t,i){if((e=oe(e))&&(i||t===r))return e.slice(0,tV(e)+1);if(!e||!(t=iS(t)))return e;var s=tH(e),o=tj(s,tH(t))+1;return ij(s,0,o).join("")},rg.trimStart=function(e,t,i){if((e=oe(e))&&(i||t===r))return e.replace(Q,"");if(!e||!(t=iS(t)))return e;var s=tH(e),o=tk(s,tH(t));return ij(s,o).join("")},rg.truncate=function(e,t){var i=30,s="...";if(sV(t)){var o="separator"in t?t.separator:o;i="length"in t?s5(t.length):i,s="omission"in t?iS(t.omission):s}var a=(e=oe(e)).length;if(tM(e)){var l=tH(e);a=l.length}if(i>=a)return e;var u=i-tW(s);if(u<1)return s;var c=l?ij(l,0,u).join(""):e.slice(0,u);if(o===r)return c+s;if(l&&(u+=c.length-u),sY(o)){if(e.slice(u).search(o)){var h,f=c;for(o.global||(o=ex(o.source,oe(ea.exec(o))+"g")),o.lastIndex=0;h=o.exec(f);)var d=h.index;c=c.slice(0,d===r?u:d)}}else if(e.indexOf(iS(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+s},rg.unescape=function(e){return(e=oe(e))&&F.test(e)?e.replace(q,tG):e},rg.uniqueId=function(e){var t=++ek;return oe(e)+t},rg.upperCase=oR,rg.upperFirst=oT,rg.each=sc,rg.eachRight=sh,rg.first=nK,oz(rg,(eb={},rG(rg,function(e,t){eN.call(rg.prototype,t)||(eb[t]=e)}),eb),{chain:!1}),rg.VERSION="4.17.21",tl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rg[e].placeholder=rg}),tl(["drop","take"],function(e,t){rv.prototype[e]=function(i){i=i===r?1:t8(s5(i),0);var s=this.__filtered__&&!t?new rv(this):this.clone();return s.__filtered__?s.__takeCount__=t2(i,s.__takeCount__):s.__views__.push({size:t2(i,4294967295),type:e+(s.__dir__<0?"Right":"")}),s},rv.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tl(["filter","map","takeWhile"],function(e,t){var r=t+1,i=1==r||3==r;rv.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:nf(e,3),type:r}),t.__filtered__=t.__filtered__||i,t}}),tl(["head","last"],function(e,t){var r="take"+(t?"Right":"");rv.prototype[e]=function(){return this[r](1).value()[0]}}),tl(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");rv.prototype[e]=function(){return this.__filtered__?new rv(this):this[r](1)}}),rv.prototype.compact=function(){return this.filter(oM)},rv.prototype.find=function(e){return this.filter(e).head()},rv.prototype.findLast=function(e){return this.reverse().find(e)},rv.prototype.invokeMap=ip(function(e,t){return"function"==typeof e?new rv(this):this.map(function(r){return r8(r,e,t)})}),rv.prototype.reject=function(e){return this.filter(sO(nf(e)))},rv.prototype.slice=function(e,t){e=s5(e);var i=this;return i.__filtered__&&(e>0||t<0)?new rv(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==r&&(i=(t=s5(t))<0?i.dropRight(-t):i.take(t-e)),i)},rv.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},rv.prototype.toArray=function(){return this.take(4294967295)},rG(rv.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),o=rg[s?"take"+("last"==t?"Right":""):t],a=s||/^find/.test(t);o&&(rg.prototype[t]=function(){var t=this.__wrapped__,l=s?[1]:arguments,u=t instanceof rv,c=l[0],h=u||sL(t),f=function(e){var t=o.apply(rg,tp([e],l));return s&&d?t[0]:t};h&&i&&"function"==typeof c&&1!=c.length&&(u=h=!1);var d=this.__chain__,p=!!this.__actions__.length,g=a&&!d,y=u&&!p;if(!a&&h){t=y?t:new rv(this);var m=e.apply(t,l);return m.__actions__.push({func:ss,args:[f],thisArg:r}),new rb(m,d)}return g&&y?e.apply(this,l):(m=this.thru(f),g?s?m.value()[0]:m.value():m)})}),tl(["pop","push","shift","sort","splice","unshift"],function(e){var t=eC[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);rg.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var s=this.value();return t.apply(sL(s)?s:[],e)}return this[r](function(r){return t.apply(sL(r)?r:[],e)})}}),rG(rv.prototype,function(e,t){var r=rg[t];if(r){var i=r.name+"";eN.call(ro,i)||(ro[i]=[]),ro[i].push({name:t,func:r})}}),ro[i0(r,2).name]=[{name:"wrapper",func:r}],rv.prototype.clone=function(){var e=new rv(this.__wrapped__);return e.__actions__=iz(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=iz(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=iz(this.__views__),e},rv.prototype.reverse=function(){if(this.__filtered__){var e=new rv(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},rv.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=sL(e),i=t<0,s=r?e.length:0,o=function(e,t,r){for(var i=-1,s=r.length;++i<s;){var o=r[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=t2(t,e+a);break;case"takeRight":e=t8(e,t-a)}}return{start:e,end:t}}(0,s,this.__views__),a=o.start,l=o.end,u=l-a,c=i?l:a-1,h=this.__iteratees__,f=h.length,d=0,p=t2(u,this.__takeCount__);if(!r||!i&&s==u&&p==u)return iP(e,this.__actions__);var g=[];e:for(;u--&&d<p;){c+=t;for(var y=-1,m=e[c];++y<f;){var b=h[y],v=b.iteratee,w=b.type,_=v(m);if(2==w)m=_;else if(!_){if(1==w)continue e;break e}}g[d++]=m}return g},rg.prototype.at=so,rg.prototype.chain=function(){return sn(this)},rg.prototype.commit=function(){return new rb(this.value(),this.__chain__)},rg.prototype.next=function(){this.__values__===r&&(this.__values__=s2(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}},rg.prototype.plant=function(e){for(var t,i=this;i instanceof rm;){var s=nU(i);s.__index__=0,s.__values__=r,t?o.__wrapped__=s:t=s;var o=s;i=i.__wrapped__}return o.__wrapped__=e,t},rg.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof rv){var t=e;return this.__actions__.length&&(t=new rv(this)),(t=t.reverse()).__actions__.push({func:ss,args:[n3],thisArg:r}),new rb(t,this.__chain__)}return this.thru(n3)},rg.prototype.toJSON=rg.prototype.valueOf=rg.prototype.value=function(){return iP(this.__wrapped__,this.__actions__)},rg.prototype.first=rg.prototype.head,e5&&(rg.prototype[e5]=function(){return this}),rg}();e5?((e5.exports=tK)._=tK,e4._=tK):e2._=tK}).call(nJ)}(nZ,nZ.exports);var nY=Object.defineProperty,nQ=Object.defineProperties,nX=Object.getOwnPropertyDescriptors,n0=Object.getOwnPropertySymbols,n1=Object.prototype.hasOwnProperty,n3=Object.prototype.propertyIsEnumerable,n8=(e,t,r)=>t in e?nY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,n2=(e,t)=>{for(var r in t||(t={}))n1.call(t,r)&&n8(e,r,t[r]);if(n0)for(var r of n0(t))n3.call(t,r)&&n8(e,r,t[r]);return e},n4=(e,t)=>nQ(e,nX(t));function n5(e,t,r){var i;let s=(0,a.DQ)(e);return(null==(i=t.rpcMap)?void 0:i[s.reference])||`https://rpc.walletconnect.com/v1/?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function n7(e){return e.includes(":")?e.split(":")[1]:e}function n6(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function n9(e){var t,r,i,s;let o={};if(!(0,a.L5)(e))return o;for(let[l,u]of Object.entries(e)){let e=(0,a.gp)(l)?[l]:u.chains,c=u.methods||[],h=u.events||[],f=u.rpcMap||{},d=(0,a.M)(l);o[d]=n4(n2(n2({},o[d]),u),{chains:(0,a.eG)(e,null==(t=o[d])?void 0:t.chains),methods:(0,a.eG)(c,null==(r=o[d])?void 0:r.methods),events:(0,a.eG)(h,null==(i=o[d])?void 0:i.events),rpcMap:n2(n2({},f),null==(s=o[d])?void 0:s.rpcMap)})}return o}function se(e){return e.includes(":")?e.split(":")[2]:e}function st(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):e.includes(":")?Number(e.split(":")[1]):Number(e)}let sr={},si=e=>sr[e],sn=(e,t)=>{sr[e]=t};class ss{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=n7(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||n5(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.default(r,si("disableProviderPing")))}}class so{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain())}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||n5(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.HttpConnection(r,si("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=parseInt(n7(t));e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let i=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",s=parseInt(i=i.startsWith("0x")?i:`0x${i}`,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}}class sa{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=n7(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||n5(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.default(r,si("disableProviderPing")))}}class sl{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=n7(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||n5(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.default(r,si("disableProviderPing")))}}class su{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),i=n7(t);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.default(r,si("disableProviderPing")))}}class sc{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=n7(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||n5(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.default(r,si("disableProviderPing")))}}class sh{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let i=n7(t);e[i]=this.createHttpProvider(i,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||n5(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new nH(new nW.default(r,si("disableProviderPing")))}}class sf{constructor(e){this.name="near",this.namespace=e.namespace,this.events=si("events"),this.client=si("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||n5(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(nK.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||n5(e,this.namespace);return typeof r>"u"?void 0:new nH(new nW.default(r,si("disableProviderPing")))}}var sd=Object.defineProperty,sp=Object.defineProperties,sg=Object.getOwnPropertyDescriptors,sy=Object.getOwnPropertySymbols,sm=Object.prototype.hasOwnProperty,sb=Object.prototype.propertyIsEnumerable,sv=(e,t,r)=>t in e?sd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sw=(e,t)=>{for(var r in t||(t={}))sm.call(t,r)&&sv(e,r,t[r]);if(sy)for(var r of sy(t))sb.call(t,r)&&sv(e,r,t[r]);return e},s_=(e,t)=>sp(e,sg(t));class sD{constructor(e){this.events=new(o()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:$()(Y({level:e?.logger||nV})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new sD(e);return await t.initialize(),t}async request(e,t){let[r,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(r).request({request:sw({},e),chainId:`${r}:${i}`,topic:this.session.topic})}sendAsync(e,t,r){let i=new Date().getTime();this.request(e,r).then(e=>t(null,(0,rE.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:(0,a.D6)("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw Error("Max auto pairing attempts reached");let{uri:r,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await i().then(e=>{this.session=e,this.namespaces||(this.namespaces=function(e){let t={};for(let[r,i]of Object.entries(e)){let e=i.methods||[],s=i.events||[],o=i.accounts||[],l=(0,a.gp)(r)?[r]:i.chains?i.chains:n6(i.accounts);t[r]={chains:l,methods:e,events:s,accounts:o}}return t}(e.namespaces),this.persist("namespaces",this.namespaces))}).catch(e=>{if(e.message!==nS)throw e;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,i]=this.validateChain(e);this.getProvider(r).setDefaultChain(i,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if((0,a.qt)(t)){for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){let e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await nz.init({logger:this.providerOpts.logger||nV,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.com",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>(0,a.M)(e)))];sn("client",this.client),sn("events",this.events),sn("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let i=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;i.push(...r)}),i}(e,this.session),r=n6(t),i=s_(sw({},function(e={},t={}){let r=n9(e),i=n9(t);return nZ.exports.merge(r,i)}(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new so({namespace:i});break;case"solana":this.rpcProviders[e]=new sa({namespace:i});break;case"cosmos":this.rpcProviders[e]=new sl({namespace:i});break;case"polkadot":this.rpcProviders[e]=new ss({namespace:i});break;case"cip34":this.rpcProviders[e]=new su({namespace:i});break;case"elrond":this.rpcProviders[e]=new sc({namespace:i});break;case"multiversx":this.rpcProviders[e]=new sh({namespace:i});break;case"near":this.rpcProviders[e]=new sf({namespace:i})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{let{params:t}=e,{event:r}=t;if("accountsChanged"===r.name){let e=r.data;e&&(0,a.qt)(e)&&this.events.emit("accountsChanged",e.map(se))}else if("chainChanged"===r.name){let e=t.chainId,r=t.event.data,i=(0,a.M)(e),s=st(e)!==st(r)?`${i}:${st(r)}`:e;this.onChainChanged(s)}else this.events.emit(r.name,r.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r;let{namespaces:i}=t,s=null==(r=this.client)?void 0:r.session.get(e);this.session=s_(sw({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",s_(sw({},(0,a.D6)("USER_DISCONNECTED")),{data:e.topic}))}),this.on(nK.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){if(!this.rpcProviders[e])throw Error(`Provider not found: ${e}`);return this.rpcProviders[e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t,optionalNamespaces:r,sessionProperties:i}=e;t&&Object.keys(t).length&&(this.namespaces=t),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.persist("namespaces",t),this.persist("optionalNamespaces",r)}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>(0,a.M)(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let i=(0,a.M)(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){var r;if(!this.namespaces)return;let[i,s]=this.validateChain(e);t||this.getProvider(i).setDefaultChain(s),(null!=(r=this.namespaces[i])?r:this.namespaces[`${i}:${s}`]).defaultChain=s,this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",s)}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${nG}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${nG}/${e}`)}}let sE=["eth_sendTransaction","personal_sign"],sS=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],sx=["chainChanged","accountsChanged"],sI=["chainChanged","accountsChanged","message","disconnect","connect"];var sO=Object.defineProperty,sC=Object.defineProperties,sP=Object.getOwnPropertyDescriptors,sA=Object.getOwnPropertySymbols,sR=Object.prototype.hasOwnProperty,sT=Object.prototype.propertyIsEnumerable,sN=(e,t,r)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sk=(e,t)=>{for(var r in t||(t={}))sR.call(t,r)&&sN(e,r,t[r]);if(sA)for(var r of sA(t))sT.call(t,r)&&sN(e,r,t[r]);return e},sj=(e,t)=>sC(e,sP(t));function sL(e){return Number(e[0].split(":")[1])}function s$(e){return`0x${e.toString(16)}`}class sB{constructor(){this.events=new s.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(e,t)=>(this.events.on(e,t),this),this.once=(e,t)=>(this.events.once(e,t),this),this.removeListener=(e,t)=>(this.events.removeListener(e,t),this),this.off=(e,t)=>(this.events.off(e,t),this),this.parseAccount=e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e,this.signer={},this.rpc={}}static async init(e){let t=new sB;return await t.initialize(e),t}async request(e){return await this.signer.request(e,this.formatChainId(this.chainId))}sendAsync(e,t){this.signer.sendAsync(e,t,this.formatChainId(this.chainId))}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:t,optional:r}=function(e){let{chains:t,optionalChains:r,methods:i,optionalMethods:s,events:o,optionalEvents:l,rpcMap:u}=e;if(!(0,a.qt)(t))throw Error("Invalid chains");let c={chains:t,methods:i||sE,events:o||sx,rpcMap:sk({},t.length?{[sL(t)]:u[sL(t)]}:{})},h=o?.filter(e=>!sx.includes(e)),f=i?.filter(e=>!sE.includes(e));if(!r&&!l&&!s&&!(null!=h&&h.length)&&!(null!=f&&f.length))return{required:t.length?c:void 0};let d=h?.length&&f?.length||!r,p={chains:[...new Set(d?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(null!=s&&s.length?s:sS))],events:[...new Set(c.events.concat(null!=l&&l.length?l:sI))],rpcMap:u};return{required:t.length?c:void 0,optional:r.length?p:void 0}}(this.rpc);try{let i=await new Promise(async(i,s)=>{var o;this.rpc.showQrModal&&(null==(o=this.modal)||o.subscribeModal(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),s(Error("Connection request reset. Please try again.")))})),await this.signer.connect(sj(sk({namespaces:sk({},t&&{[this.namespace]:t})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:e?.pairingTopic})).then(e=>{i(e)}).catch(e=>{s(Error(e.message))})});if(!i)return;let s=(0,a.gu)(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:s$(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",s$(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",sj(sk({},(0,a.D6)("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{var t,r;this.rpc.showQrModal&&(null==(t=this.modal)||t.closeModal(),null==(r=this.modal)||r.openModal({uri:e})),this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",s$(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,i]=e.split(":");return{chainId:`${t}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let i=null!=(t=e?.chains)?t:[],s=null!=(r=e?.optionalChains)?r:[],o=i.concat(s);if(!o.length)throw Error("No chains specified in either `chains` or `optionalChains`");let a=i.length?e?.methods||sE:[],l=i.length?e?.events||sx:[],u=e?.optionalMethods||[],c=e?.optionalEvents||[],h=e?.rpcMap||this.buildRpcMap(o,e.projectId),f=e?.qrModalOptions||void 0;return{chains:i?.map(e=>this.formatChainId(e)),optionalChains:s.map(e=>this.formatChainId(e)),methods:a,events:l,optionalMethods:u,optionalEvents:c,rpcMap:h,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?sL(this.rpc.chains):sL(this.rpc.optionalChains),this.signer=await sD.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storageOptions:e.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let{WalletConnectModal:t}=await r.e(180).then(r.bind(r,80180));e=t}catch{throw Error("To use QR modal, please install @walletconnect/modal package")}if(e)try{this.modal=new e(sk({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:i}=e;t&&(0,a.qt)(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=i?.[e]||this.getRpcUrl(e)})),r&&(0,a.qt)(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=i?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.com/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(!this.session)return;let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}let sM=sB},76016:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});class i{}},1731:(e,t,r)=>{"use strict";r.r(t),r.d(t,{IEvents:()=>i.q});var i=r(76016)},31158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEARTBEAT_EVENTS=t.HEARTBEAT_INTERVAL=void 0;let i=r(94378);t.HEARTBEAT_INTERVAL=i.FIVE_SECONDS,t.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}},44535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(74972).__exportStar(r(31158),t)},40546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeat=void 0;let i=r(74972),s=r(82361),o=r(94378),a=r(79536),l=r(44535);class u extends a.IHeartBeat{constructor(e){super(e),this.events=new s.EventEmitter,this.interval=l.HEARTBEAT_INTERVAL,this.interval=(null==e?void 0:e.interval)||l.HEARTBEAT_INTERVAL}static init(e){return i.__awaiter(this,void 0,void 0,function*(){let t=new u(e);return yield t.init(),t})}init(){return i.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}initialize(){return i.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),o.toMiliseconds(this.interval))})}pulse(){this.events.emit(l.HEARTBEAT_EVENTS.pulse)}}t.HeartBeat=u},95466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=r(74972);i.__exportStar(r(40546),t),i.__exportStar(r(79536),t),i.__exportStar(r(44535),t)},18687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IHeartBeat=void 0;let i=r(1731);class s extends i.IEvents{constructor(e){super()}}t.IHeartBeat=s},79536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(74972).__exportStar(r(18687),t)},74972:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>_,__asyncGenerator:()=>w,__asyncValues:()=>D,__await:()=>v,__awaiter:()=>h,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>O,__createBinding:()=>d,__decorate:()=>l,__exportStar:()=>p,__extends:()=>s,__generator:()=>f,__importDefault:()=>x,__importStar:()=>S,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>a,__spread:()=>m,__spreadArrays:()=>b,__values:()=>g});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function l(e,t,r,i){var s,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(o<3?s(a):o>3?s(t,r,a):s(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function u(e,t){return function(r,i){t(r,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,i){return new(r||(r=Promise))(function(s,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function l(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?s(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,l)}u((i=i.apply(e,t||[])).next())})}function f(e,t){var r,i,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(s=2&o[0]?i.return:o[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,o[1])).done)return s;switch(i=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(s=(s=a.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1],s=o;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(o);break}s[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function d(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,s,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){s={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(s)throw s.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,s++)i[s]=o[a];return i}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var i,s=r.apply(e,t||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(e){s[e]&&(i[e]=function(t){return new Promise(function(r,i){o.push([e,t,r,i])>1||l(e,t)})})}function l(e,t){try{var r;(r=s[e](t)).value instanceof v?Promise.resolve(r.value.v).then(u,c):h(o[0][2],r)}catch(e){h(o[0][3],e)}}function u(e){l("next",e)}function c(e){l("throw",e)}function h(e,t){e(t),o.shift(),o.length&&l(o[0][0],o[0][1])}}function _(e){var t,r;return t={},i("next"),i("throw",function(e){throw e}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,s){t[i]=e[i]?function(t){return(r=!r)?{value:v(e[i](t)),done:"return"===i}:s?s(t):t}:s}}function D(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=g(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise(function(i,s){(function(e,t,r,i){Promise.resolve(i).then(function(t){e({value:t,done:r})},t)})(i,s,(t=e[r](t)).done,t.value)})}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},37538:(e,t,r)=>{"use strict";let i=r(24785);i.createWebSocketStream=r(29750),i.Server=r(86680),i.Receiver=r(3946),i.Sender=r(89558),e.exports=i},40347:(e,t,r)=>{"use strict";let{EMPTY_BUFFER:i}=r(15370);function s(e,t){if(0===e.length)return i;if(1===e.length)return e[0];let r=Buffer.allocUnsafe(t),s=0;for(let t=0;t<e.length;t++){let i=e[t];r.set(i,s),s+=i.length}return s<t?r.slice(0,s):r}function o(e,t,r,i,s){for(let o=0;o<s;o++)r[i+o]=e[o]^t[3&o]}function a(e,t){let r=e.length;for(let i=0;i<r;i++)e[i]^=t[3&i]}function l(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function u(e){let t;return(u.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),u.readOnly=!1),t)}try{let t=r(6607),i=t.BufferUtil||t;e.exports={concat:s,mask(e,t,r,s,a){a<48?o(e,t,r,s,a):i.mask(e,t,r,s,a)},toArrayBuffer:l,toBuffer:u,unmask(e,t){e.length<32?a(e,t):i.unmask(e,t)}}}catch(t){e.exports={concat:s,mask:o,toArrayBuffer:l,toBuffer:u,unmask:a}}},15370:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},25640:e=>{"use strict";class t{constructor(e,t){this.target=t,this.type=e}}class r extends t{constructor(e,t){super("message",t),this.data=e}}class i extends t{constructor(e,t,r){super("close",r),this.wasClean=r._closeFrameReceived&&r._closeFrameSent,this.reason=t,this.code=e}}class s extends t{constructor(e){super("open",e)}}class o extends t{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}e.exports={addEventListener(e,t,a){if("function"!=typeof t)return;function l(e){t.call(this,new r(e,this))}function u(e,r){t.call(this,new i(e,r,this))}function c(e){t.call(this,new o(e,this))}function h(){t.call(this,new s(this))}let f=a&&a.once?"once":"on";"message"===e?(l._listener=t,this[f](e,l)):"close"===e?(u._listener=t,this[f](e,u)):"error"===e?(c._listener=t,this[f](e,c)):"open"===e?(h._listener=t,this[f](e,h)):this[f](e,t)},removeEventListener(e,t){let r=this.listeners(e);for(let i=0;i<r.length;i++)(r[i]===t||r[i]._listener===t)&&this.removeListener(e,r[i])}}},54988:e=>{"use strict";let t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function r(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>[t].concat(Object.keys(e).map(t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){let i,s;let o=Object.create(null);if(void 0===e||""===e)return o;let a=Object.create(null),l=!1,u=!1,c=!1,h=-1,f=-1,d=0;for(;d<e.length;d++){let p=e.charCodeAt(d);if(void 0===i){if(-1===f&&1===t[p])-1===h&&(h=d);else if(32===p||9===p)-1===f&&-1!==h&&(f=d);else if(59===p||44===p){if(-1===h)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d);let t=e.slice(h,f);44===p?(r(o,t,a),a=Object.create(null)):i=t,h=f=-1}else throw SyntaxError(`Unexpected character at index ${d}`)}else if(void 0===s){if(-1===f&&1===t[p])-1===h&&(h=d);else if(32===p||9===p)-1===f&&-1!==h&&(f=d);else if(59===p||44===p){if(-1===h)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d),r(a,e.slice(h,f),!0),44===p&&(r(o,i,a),a=Object.create(null),i=void 0),h=f=-1}else if(61===p&&-1!==h&&-1===f)s=e.slice(h,d),h=f=-1;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(u){if(1!==t[p])throw SyntaxError(`Unexpected character at index ${d}`);-1===h?h=d:l||(l=!0),u=!1}else if(c){if(1===t[p])-1===h&&(h=d);else if(34===p&&-1!==h)c=!1,f=d;else if(92===p)u=!0;else throw SyntaxError(`Unexpected character at index ${d}`)}else if(34===p&&61===e.charCodeAt(d-1))c=!0;else if(-1===f&&1===t[p])-1===h&&(h=d);else if(-1!==h&&(32===p||9===p))-1===f&&(f=d);else if(59===p||44===p){if(-1===h)throw SyntaxError(`Unexpected character at index ${d}`);-1===f&&(f=d);let t=e.slice(h,f);l&&(t=t.replace(/\\/g,""),l=!1),r(a,s,t),44===p&&(r(o,i,a),a=Object.create(null),i=void 0),s=void 0,h=f=-1}else throw SyntaxError(`Unexpected character at index ${d}`)}if(-1===h||c)throw SyntaxError("Unexpected end of input");-1===f&&(f=d);let p=e.slice(h,f);return void 0===i?r(o,p,a):(void 0===s?r(a,p,!0):l?r(a,s,p.replace(/\\/g,"")):r(a,s,p),r(o,i,a)),o}}},6165:e=>{"use strict";let t=Symbol("kDone"),r=Symbol("kRun");class i{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=i},73866:(e,t,r)=>{"use strict";let i;let s=r(59796),o=r(40347),a=r(6165),{kStatusCode:l,NOOP:u}=r(15370),c=Buffer.from([0,0,255,255]),h=Symbol("permessage-deflate"),f=Symbol("total-length"),d=Symbol("callback"),p=Symbol("buffers"),g=Symbol("error");class y{constructor(e,t,r){this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,i||(i=new a(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[d];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,r=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!r)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:(!0===r.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete r.client_max_window_bits,r}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let r=e[t];if(r.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){let e=+r;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==r)throw TypeError(`Invalid value for parameter "${t}": ${r}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=r})}),e}decompress(e,t,r){i.add(i=>{this._decompress(e,t,(e,t)=>{i(),r(e,t)})})}compress(e,t,r){i.add(i=>{this._compress(e,t,(e,t)=>{i(),r(e,t)})})}_decompress(e,t,r){let i=this._isServer?"client":"server";if(!this._inflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=s.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[h]=this,this._inflate[f]=0,this._inflate[p]=[],this._inflate.on("error",v),this._inflate.on("data",b)}this._inflate[d]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[g];if(e){this._inflate.close(),this._inflate=null,r(e);return}let s=o.concat(this._inflate[p],this._inflate[f]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[f]=0,this._inflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,s)})}_compress(e,t,r){let i=this._isServer?"server":"client";if(!this._deflate){let e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?s.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=s.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[f]=0,this._deflate[p]=[],this._deflate.on("error",u),this._deflate.on("data",m)}this._deflate[d]=r,this._deflate.write(e),this._deflate.flush(s.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[f]);t&&(e=e.slice(0,e.length-4)),this._deflate[d]=null,this._deflate[f]=0,this._deflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,e)})}}function m(e){this[p].push(e),this[f]+=e.length}function b(e){if(this[f]+=e.length,this[h]._maxPayload<1||this[f]<=this[h]._maxPayload){this[p].push(e);return}this[g]=RangeError("Max payload size exceeded"),this[g].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[g][l]=1009,this.removeListener("data",b),this.reset()}function v(e){this[h]._inflate=null,e[l]=1007,this[d](e)}e.exports=y},3946:(e,t,r)=>{"use strict";let{Writable:i}=r(12781),s=r(73866),{BINARY_TYPES:o,EMPTY_BUFFER:a,kStatusCode:l,kWebSocket:u}=r(15370),{concat:c,toArrayBuffer:h,unmask:f}=r(40347),{isValidStatusCode:d,isValidUTF8:p}=r(94959);class g extends i{constructor(e,t,r,i){super(),this._binaryType=e||o[0],this[u]=void 0,this._extensions=t||{},this._isServer=!!r,this._maxPayload=0|i,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}let t=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if((48&e[0])!=0)return this._loop=!1,y(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let t=(64&e[0])==64;if(t&&!this._extensions[s.extensionName])return this._loop=!1,y(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(128&e[0])==128,this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,y(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,y(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,y(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7)||!(this._opcode<11))return this._loop=!1,y(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,y(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,y(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,y(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&e[1])==128,this._isServer){if(!this._masked)return this._loop=!1,y(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,y(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),t=e.readUInt32BE(0);return t>2097151?(this._loop=!1,y(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=4294967296*t+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,y(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(e){let t=a;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&f(t,this._mask)}if(this._opcode>7)return this.controlMessage(t);if(this._compressed){this._state=5,this.decompress(t,e);return}return t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage()}decompress(e,t){this._extensions[s.extensionName].decompress(e,this._fin,(e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(y(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}let i=this.dataMessage();if(i)return t(i);this.startLoop(t)})}dataMessage(){if(this._fin){let e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?c(t,e):"arraybuffer"===this._binaryType?h(c(t,e)):t,this.emit("message",r)}else{let r=c(t,e);if(!p(r))return this._loop=!1,y(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r.toString())}}this._state=0}controlMessage(e){if(8===this._opcode){if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return y(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");let t=e.readUInt16BE(0);if(!d(t))return y(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=e.slice(2);if(!p(r))return y(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}function y(e,t,r,i,s){let o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,y),o.code=s,o[l]=i,o}e.exports=g},89558:(e,t,r)=>{"use strict";r(41808),r(24404);let{randomFillSync:i}=r(6113),s=r(73866),{EMPTY_BUFFER:o}=r(15370),{isValidStatusCode:a}=r(94959),{mask:l,toBuffer:u}=r(40347),c=Buffer.alloc(4);class h{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r=t.mask&&t.readOnly,s=t.mask?6:2,o=e.length;e.length>=65536?(s+=8,o=127):e.length>125&&(s+=2,o=126);let a=Buffer.allocUnsafe(r?e.length+s:s);return(a[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(a[0]|=64),a[1]=o,126===o?a.writeUInt16BE(e.length,2):127===o&&(a.writeUInt32BE(0,2),a.writeUInt32BE(e.length,6)),t.mask)?(i(c,0,4),a[1]|=128,a[s-4]=c[0],a[s-3]=c[1],a[s-2]=c[2],a[s-1]=c[3],r)?(l(e,c,a,s,e.length),[a]):(l(e,c,e,0,e.length),[a,e]):[a,e]}close(e,t,r,i){let s;if(void 0===e)s=o;else if("number"==typeof e&&a(e)){if(void 0===t||""===t)(s=Buffer.allocUnsafe(2)).writeUInt16BE(e,0);else{let r=Buffer.byteLength(t);if(r>123)throw RangeError("The message must not be greater than 123 bytes");(s=Buffer.allocUnsafe(2+r)).writeUInt16BE(e,0),s.write(t,2)}}else throw TypeError("First argument must be a valid error code number");this._deflating?this.enqueue([this.doClose,s,r,i]):this.doClose(s,r,i)}doClose(e,t,r){this.sendFrame(h.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),r)}ping(e,t,r){let i=u(e);if(i.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,i,t,u.readOnly,r]):this.doPing(i,t,u.readOnly,r)}doPing(e,t,r,i){this.sendFrame(h.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:r}),i)}pong(e,t,r){let i=u(e);if(i.length>125)throw RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,i,t,u.readOnly,r]):this.doPong(i,t,u.readOnly,r)}doPong(e,t,r,i){this.sendFrame(h.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:r}),i)}send(e,t,r){let i=u(e),o=this._extensions[s.extensionName],a=t.binary?2:1,l=t.compress;if(this._firstFragment?(this._firstFragment=!1,l&&o&&(l=i.length>=o._threshold),this._compress=l):(l=!1,a=0),t.fin&&(this._firstFragment=!0),o){let e={fin:t.fin,rsv1:l,opcode:a,mask:t.mask,readOnly:u.readOnly};this._deflating?this.enqueue([this.dispatch,i,this._compress,e,r]):this.dispatch(i,this._compress,e,r)}else this.sendFrame(h.frame(i,{fin:t.fin,rsv1:!1,opcode:a,mask:t.mask,readOnly:u.readOnly}),r)}dispatch(e,t,r,i){if(!t){this.sendFrame(h.frame(e,r),i);return}let o=this._extensions[s.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,o.compress(e,r.fin,(t,s)=>{if(this._socket.destroyed){let e=Error("The socket was closed while data was being compressed");"function"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){let r=this._queue[t][4];"function"==typeof r&&r(e)}return}this._bufferedBytes-=e.length,this._deflating=!1,r.readOnly=!1,this.sendFrame(h.frame(s,r),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=h},29750:(e,t,r)=>{"use strict";let{Duplex:i}=r(12781);function s(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function a(e){this.removeListener("error",a),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0,l=!0;function u(){r&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",u)}):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",u));let c=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t){c.push(t)||(r=!1,e._socket.pause())}),e.once("error",function(e){c.destroyed||(l=!1,c.destroy(e))}),e.once("close",function(){c.destroyed||c.push(null)}),c._destroy=function(t,r){if(e.readyState===e.CLOSED){r(t),process.nextTick(s,c);return}let i=!1;e.once("error",function(e){i=!0,r(e)}),e.once("close",function(){i||r(t),process.nextTick(s,c)}),l&&e.terminate()},c._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){c._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),c._readableState.endEmitted&&c.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},c._read=function(){e.readyState!==e.OPEN&&e.readyState!==e.CLOSING||r||(r=!0,e._receiver._writableState.needDrain||e._socket.resume())},c._write=function(t,r,i){if(e.readyState===e.CONNECTING){e.once("open",function(){c._write(t,r,i)});return}e.send(t,i)},c.on("end",o),c.on("error",a),c}},94959:(e,t,r)=>{"use strict";function i(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function s(e){let t=e.length,r=0;for(;r<t;)if((128&e[r])==0)r++;else if((224&e[r])==192){if(r+1===t||(192&e[r+1])!=128||(254&e[r])==192)return!1;r+=2}else if((240&e[r])==224){if(r+2>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||224===e[r]&&(224&e[r+1])==128||237===e[r]&&(224&e[r+1])==160)return!1;r+=3}else{if((248&e[r])!=240||r+3>=t||(192&e[r+1])!=128||(192&e[r+2])!=128||(192&e[r+3])!=128||240===e[r]&&(240&e[r+1])==128||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{let t=r(47398);"object"==typeof t&&(t=t.Validation.isValidUTF8),e.exports={isValidStatusCode:i,isValidUTF8:e=>e.length<150?s(e):t(e)}}catch(t){e.exports={isValidStatusCode:i,isValidUTF8:s}}},86680:(e,t,r)=>{"use strict";let i=r(82361),s=r(13685);r(95687),r(41808),r(24404);let{createHash:o}=r(6113),a=r(73866),l=r(24785),{format:u,parse:c}=r(54988),{GUID:h,kWebSocket:f}=r(15370),d=/^[+/0-9A-Za-z]{22}==$/;class p extends i{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=s.createServer((e,t)=>{let r=s.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(let r of Object.keys(t))e.on(r,t[r]);return function(){for(let r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,i)=>{this.handleUpgrade(t,r,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e,this._state=0}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),2===this._state){process.nextTick(g,this);return}if(1===this._state)return;if(this._state=1,this.clients)for(let e of this.clients)e.terminate();let t=this._server;if(t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)){t.close(g.bind(void 0,this));return}process.nextTick(g,this)}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",y);let s=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=e.headers.upgrade,l=+e.headers["sec-websocket-version"],u={};if("GET"!==e.method||void 0===o||"websocket"!==o.toLowerCase()||!s||!d.test(s)||8!==l&&13!==l||!this.shouldHandle(e))return m(t,400);if(this.options.perMessageDeflate){let r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let t=c(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(r.accept(t[a.extensionName]),u[a.extensionName]=r)}catch(e){return m(t,400)}}if(this.options.verifyClient){let o={origin:e.headers[`${8===l?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(o,(o,a,l,c)=>{if(!o)return m(t,a||401,l,c);this.completeUpgrade(s,u,e,t,r,i)});return}if(!this.options.verifyClient(o))return m(t,401)}this.completeUpgrade(s,u,e,t,r,i)}completeUpgrade(e,t,r,i,s,c){if(!i.readable||!i.writable)return i.destroy();if(i[f])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(i,503);let d=o("sha1").update(e+h).digest("base64"),p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${d}`],g=new l(null),v=r.headers["sec-websocket-protocol"];if(v&&(v=v.split(",").map(b),(v=this.options.handleProtocols?this.options.handleProtocols(v,r):v[0])&&(p.push(`Sec-WebSocket-Protocol: ${v}`),g._protocol=v)),t[a.extensionName]){let e=t[a.extensionName].params,r=u({[a.extensionName]:[e]});p.push(`Sec-WebSocket-Extensions: ${r}`),g._extensions=t}this.emit("headers",p,r),i.write(p.concat("\r\n").join("\r\n")),i.removeListener("error",y),g.setSocket(i,s,this.options.maxPayload),this.clients&&(this.clients.add(g),g.on("close",()=>this.clients.delete(g))),c(g,r)}}function g(e){e._state=2,e.emit("close")}function y(){this.destroy()}function m(e,t,r,i){e.writable&&(r=r||s.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},e.write(`HTTP/1.1 ${t} ${s.STATUS_CODES[t]}\r
`+Object.keys(i).map(e=>`${e}: ${i[e]}`).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",y),e.destroy()}function b(e){return e.trim()}e.exports=p},24785:(e,t,r)=>{"use strict";let i=r(82361),s=r(95687),o=r(13685),a=r(41808),l=r(24404),{randomBytes:u,createHash:c}=r(6113),{Readable:h}=r(12781),{URL:f}=r(57310),d=r(73866),p=r(3946),g=r(89558),{BINARY_TYPES:y,EMPTY_BUFFER:m,GUID:b,kStatusCode:v,kWebSocket:w,NOOP:_}=r(15370),{addEventListener:D,removeEventListener:E}=r(25640),{format:S,parse:x}=r(54988),{toBuffer:I}=r(40347),O=["CONNECTING","OPEN","CLOSING","CLOSED"],C=[8,13];class P extends i{constructor(e,t,r){super(),this._binaryType=y[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._extensions={},this._protocol="",this._readyState=P.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(r=t,t=void 0),function e(t,r,i,a){let l,h;let p={protocolVersion:C[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...a,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!C.includes(p.protocolVersion))throw RangeError(`Unsupported protocol version: ${p.protocolVersion} (supported versions: ${C.join(", ")})`);r instanceof f?(l=r,t._url=r.href):(l=new f(r),t._url=r);let g="ws+unix:"===l.protocol;if(!l.host&&(!g||!l.pathname)){let e=Error(`Invalid URL: ${t.url}`);if(0===t._redirects)throw e;A(t,e);return}let y="wss:"===l.protocol||"https:"===l.protocol,m=y?443:80,v=u(16).toString("base64"),w=y?s.get:o.get;if(p.createConnection=y?T:R,p.defaultPort=p.defaultPort||m,p.port=l.port||m,p.host=l.hostname.startsWith("[")?l.hostname.slice(1,-1):l.hostname,p.headers={"Sec-WebSocket-Version":p.protocolVersion,"Sec-WebSocket-Key":v,Connection:"Upgrade",Upgrade:"websocket",...p.headers},p.path=l.pathname+l.search,p.timeout=p.handshakeTimeout,p.perMessageDeflate&&(h=new d(!0!==p.perMessageDeflate?p.perMessageDeflate:{},!1,p.maxPayload),p.headers["Sec-WebSocket-Extensions"]=S({[d.extensionName]:h.offer()})),i&&(p.headers["Sec-WebSocket-Protocol"]=i),p.origin&&(p.protocolVersion<13?p.headers["Sec-WebSocket-Origin"]=p.origin:p.headers.Origin=p.origin),(l.username||l.password)&&(p.auth=`${l.username}:${l.password}`),g){let e=p.path.split(":");p.socketPath=e[0],p.path=e[1]}if(p.followRedirects){if(0===t._redirects){t._originalUnixSocket=g,t._originalSecure=y,t._originalHostOrSocketPath=g?p.socketPath:l.host;let e=a&&a.headers;if(a={...a,headers:{}},e)for(let[t,r]of Object.entries(e))a.headers[t.toLowerCase()]=r}else{let e=g?!!t._originalUnixSocket&&p.socketPath===t._originalHostOrSocketPath:!t._originalUnixSocket&&l.host===t._originalHostOrSocketPath;e&&(!t._originalSecure||y)||(delete p.headers.authorization,delete p.headers.cookie,e||delete p.headers.host,p.auth=void 0)}p.auth&&!a.headers.authorization&&(a.headers.authorization="Basic "+Buffer.from(p.auth).toString("base64"))}let _=t._req=w(p);p.timeout&&_.on("timeout",()=>{N(t,_,"Opening handshake has timed out")}),_.on("error",e=>{null===_||_.aborted||(_=t._req=null,A(t,e))}),_.on("response",s=>{let o=s.headers.location,l=s.statusCode;if(o&&p.followRedirects&&l>=300&&l<400){let s;if(++t._redirects>p.maxRedirects){N(t,_,"Maximum redirects exceeded");return}_.abort();try{s=new f(o,r)}catch(e){A(t,e);return}e(t,s,i,a)}else t.emit("unexpected-response",_,s)||N(t,_,`Unexpected server response: ${s.statusCode}`)}),_.on("upgrade",(e,r,s)=>{let o;if(t.emit("upgrade",e),t.readyState!==P.CONNECTING)return;_=t._req=null;let a=e.headers.upgrade;if(void 0===a||"websocket"!==a.toLowerCase()){N(t,r,"Invalid Upgrade header");return}let l=c("sha1").update(v+b).digest("base64");if(e.headers["sec-websocket-accept"]!==l){N(t,r,"Invalid Sec-WebSocket-Accept header");return}let u=e.headers["sec-websocket-protocol"],f=(i||"").split(/, */);if(!i&&u?o="Server sent a subprotocol but none was requested":i&&!u?o="Server sent no subprotocol":u&&!f.includes(u)&&(o="Server sent an invalid subprotocol"),o){N(t,r,o);return}u&&(t._protocol=u);let g=e.headers["sec-websocket-extensions"];if(void 0!==g){let e;if(!h){N(t,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{e=x(g)}catch(e){N(t,r,"Invalid Sec-WebSocket-Extensions header");return}let i=Object.keys(e);if(i.length){if(1!==i.length||i[0]!==d.extensionName){N(t,r,"Server indicated an extension that was not requested");return}try{h.accept(e[d.extensionName])}catch(e){N(t,r,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[d.extensionName]=h}}t.setSocket(r,s,p.maxPayload)})}(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){y.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get onclose(){}set onclose(e){}get onerror(){}set onerror(e){}get onopen(){}set onopen(e){}get onmessage(){}set onmessage(e){}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){let i=new p(this.binaryType,this._extensions,this._isServer,r);this._sender=new g(e,this._extensions),this._receiver=i,this._socket=e,i[w]=this,e[w]=this,i.on("conclude",j),i.on("drain",L),i.on("error",$),i.on("message",M),i.on("ping",q),i.on("pong",U),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",z),e.on("data",W),e.on("end",H),e.on("error",V),this._readyState=P.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=P.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=P.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==P.CLOSED){if(this.readyState===P.CONNECTING)return N(this,this._req,"WebSocket was closed before the connection was established");if(this.readyState===P.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=P.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)}}ping(e,t,r){if(this.readyState===P.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==P.OPEN){k(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||m,t,r)}pong(e,t,r){if(this.readyState===P.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==P.OPEN){k(this,e,r);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||m,t,r)}send(e,t,r){if(this.readyState===P.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==P.OPEN){k(this,e,r);return}let i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(i.compress=!1),this._sender.send(e||m,i,r)}terminate(){if(this.readyState!==P.CLOSED){if(this.readyState===P.CONNECTING)return N(this,this._req,"WebSocket was closed before the connection was established");this._socket&&(this._readyState=P.CLOSING,this._socket.destroy())}}}function A(e,t){e._readyState=P.CLOSING,e.emit("error",t),e.emitClose()}function R(e){return e.path=e.socketPath,a.connect(e)}function T(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=a.isIP(e.host)?"":e.host),l.connect(e)}function N(e,t,r){e._readyState=P.CLOSING;let i=Error(r);Error.captureStackTrace(i,N),t.setHeader?(t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),t.once("abort",e.emitClose.bind(e)),e.emit("error",i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function k(e,t,r){if(t){let r=I(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`))}function j(e,t){let r=this[w];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[w]&&(r._socket.removeListener("data",W),process.nextTick(F,r._socket),1005===e?r.close():r.close(e,t))}function L(){this[w]._socket.resume()}function $(e){let t=this[w];void 0!==t._socket[w]&&(t._socket.removeListener("data",W),process.nextTick(F,t._socket),t.close(e[v])),t.emit("error",e)}function B(){this[w].emitClose()}function M(e){this[w].emit("message",e)}function q(e){let t=this[w];t.pong(e,!t._isServer,_),t.emit("ping",e)}function U(e){this[w].emit("pong",e)}function F(e){e.resume()}function z(){let e;let t=this[w];this.removeListener("close",z),this.removeListener("data",W),this.removeListener("end",H),t._readyState=P.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[w]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",B),t._receiver.on("finish",B))}function W(e){this[w]._receiver.write(e)||this.pause()}function H(){let e=this[w];e._readyState=P.CLOSING,e._receiver.end(),this.end()}function V(){let e=this[w];this.removeListener("error",V),this.on("error",_),e&&(e._readyState=P.CLOSING,this.destroy())}Object.defineProperty(P,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(P.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(P,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(P.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(P,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(P.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(P,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(P.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","protocol","readyState","url"].forEach(e=>{Object.defineProperty(P.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(P.prototype,`on${e}`,{enumerable:!0,get(){let t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){let r=this.listeners(e);for(let t=0;t<r.length;t++)r[t]._listener&&this.removeListener(e,r[t]);this.addEventListener(e,t)}})}),P.prototype.addEventListener=D,P.prototype.removeEventListener=E,e.exports=P},91429:e=>{"use strict";function t(e,t,r,i){function s(){let e=t.deref();void 0!==e&&r(e,i)}e[i]=s,process.once(i,s)}let r=new FinalizationRegistry(s),i=new WeakMap;function s(e){process.removeListener("exit",e.exit),process.removeListener("beforeExit",e.beforeExit)}e.exports={register:function(e,s){if(void 0===e)throw Error("the object can't be undefined");let o=new WeakRef(e),a={};i.set(e,a),r.register(e,a),t(a,o,s,"exit"),t(a,o,s,"beforeExit")},unregister:function(e){let t=i.get(e);i.delete(e),t&&s(t),r.unregister(e)}}},28179:(e,t,r)=>{"use strict";let{format:i}=r(73837);e.exports=function(){let e={},t=new Map;return{create:function(r,s,o){if(!r)throw Error("Warning name must not be empty");if(!s)throw Error("Warning code must not be empty");if(!o)throw Error("Warning message must not be empty");if(void 0!==e[s=s.toUpperCase()])throw Error(`The code '${s}' already exist`);return t.set(s,!1),e[s]=function(e,t,a){let l;return l=e&&t&&a?i(o,e,t,a):e&&t?i(o,e,t):e?i(o,e):o,{code:s,name:r,message:l}},e[s]},emit:function(r,i,s,o){if(void 0===e[r])throw Error(`The code '${r}' does not exist`);if(!0===t.get(r))return;t.set(r,!0);let a=e[r](i,s,o);process.emitWarning(a.message,a.name,a.code)},emitted:t}}},98930:(e,t,r)=>{"use strict";let{EventEmitter:i}=r(82361),{Worker:s}=r(71267),{join:o}=r(71017),{pathToFileURL:a}=r(57310),{wait:l}=r(56341),{WRITE_INDEX:u,READ_INDEX:c}=r(89441),h=r(14300),f=r(39491),d=Symbol("kImpl"),p=h.constants.MAX_STRING_LENGTH;class g{constructor(e){this._value=e}deref(){return this._value}}let y=global.FinalizationRegistry||class{register(){}unregister(){}},m=global.WeakRef||g,b=new y(e=>{e.exited||e.terminate()});function v(e){f(!e[d].sync),e[d].needDrain&&(e[d].needDrain=!1,e.emit("drain"))}function w(e){let t=this.stream.deref();if(void 0===t){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new m(t),t.flush(()=>{t[d].ready=!0,t.emit("ready")});break;case"ERROR":E(t,e.err);break;default:throw Error("this should not happen: "+e.code)}}function _(e){let t=this.stream.deref();void 0!==t&&(b.unregister(t),t.worker.exited=!0,t.worker.off("exit",_),E(t,0!==e?Error("The worker thread exited"):null))}class D extends i{constructor(e={}){if(super(),e.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[d]={},this[d].stateBuf=new SharedArrayBuffer(128),this[d].state=new Int32Array(this[d].stateBuf),this[d].dataBuf=new SharedArrayBuffer(e.bufferSize||4194304),this[d].data=Buffer.from(this[d].dataBuf),this[d].sync=e.sync||!1,this[d].ending=!1,this[d].ended=!1,this[d].needDrain=!1,this[d].destroyed=!1,this[d].flushing=!1,this[d].ready=!1,this[d].finished=!1,this[d].errored=null,this[d].closed=!1,this[d].buf="",this.worker=function(e,t){let{filename:r,workerData:i}=t,l=new s(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||o(__dirname,"lib","worker.js"),{...t.workerOpts,workerData:{filename:0===r.indexOf("file://")?r:a(r).href,dataBuf:e[d].dataBuf,stateBuf:e[d].stateBuf,workerData:i}});return l.stream=new g(e),l.on("message",w),l.on("exit",_),b.register(e,l),l}(this,e)}write(e){if(this[d].destroyed)throw Error("the worker has exited");if(this[d].ending)throw Error("the worker is ending");if(this[d].flushing&&this[d].buf.length+e.length>=p)try{I(this),this[d].flushing=!0}catch(e){return E(this,e),!1}if(this[d].buf+=e,this[d].sync)try{return I(this),!0}catch(e){return E(this,e),!1}return this[d].flushing||(this[d].flushing=!0,setImmediate(function e(t){let r=Atomics.load(t[d].state,u),i=t[d].data.length-r;if(i>0){if(0===t[d].buf.length){t[d].flushing=!1,t[d].ending?x(t):t[d].needDrain&&process.nextTick(v,t);return}let r=t[d].buf.slice(0,i),s=Buffer.byteLength(r);s<=i?(t[d].buf=t[d].buf.slice(i),S(t,r,e.bind(null,t))):t.flush(()=>{if(!t.destroyed){for(Atomics.store(t[d].state,c,0),Atomics.store(t[d].state,u,0);s>t[d].data.length;)i/=2,r=t[d].buf.slice(0,i),s=Buffer.byteLength(r);t[d].buf=t[d].buf.slice(i),S(t,r,e.bind(null,t))}})}else if(0===i){if(0===r&&0===t[d].buf.length)return;t.flush(()=>{Atomics.store(t[d].state,c,0),Atomics.store(t[d].state,u,0),e(t)})}else throw Error("overwritten")},this)),this[d].needDrain=this[d].data.length-this[d].buf.length-Atomics.load(this[d].state,u)<=0,!this[d].needDrain}end(){this[d].destroyed||(this[d].ending=!0,x(this))}flush(e){if(this[d].destroyed){"function"==typeof e&&process.nextTick(e,Error("the worker has exited"));return}let t=Atomics.load(this[d].state,u);l(this[d].state,c,t,1/0,(t,r)=>{if(t){E(this,t),process.nextTick(e,t);return}if("not-equal"===r){this.flush(e);return}process.nextTick(e)})}flushSync(){this[d].destroyed||(I(this),O(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[d].ready}get destroyed(){return this[d].destroyed}get closed(){return this[d].closed}get writable(){return!this[d].destroyed&&!this[d].ending}get writableEnded(){return this[d].ending}get writableFinished(){return this[d].finished}get writableNeedDrain(){return this[d].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[d].errored}}function E(e,t){e[d].destroyed||(e[d].destroyed=!0,t&&(e[d].errored=t,e.emit("error",t)),e.worker.exited?setImmediate(()=>{e[d].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[d].closed=!0,e.emit("close")}))}function S(e,t,r){let i=Atomics.load(e[d].state,u),s=Buffer.byteLength(t);return e[d].data.write(t,i),Atomics.store(e[d].state,u,i+s),Atomics.notify(e[d].state,u),r(),!0}function x(e){if(!e[d].ended&&e[d].ending&&!e[d].flushing){e[d].ended=!0;try{e.flushSync();let t=Atomics.load(e[d].state,c);Atomics.store(e[d].state,u,-1),Atomics.notify(e[d].state,u);let r=0;for(;-1!==t;){if(Atomics.wait(e[d].state,c,t,1e3),t=Atomics.load(e[d].state,c),-2===t)throw Error("end() failed");if(10==++r)throw Error("end() took too long (10s)")}process.nextTick(()=>{e[d].finished=!0,e.emit("finish")})}catch(t){E(e,t)}}}function I(e){let t=()=>{e[d].ending?x(e):e[d].needDrain&&process.nextTick(v,e)};for(e[d].flushing=!1;0!==e[d].buf.length;){let r=Atomics.load(e[d].state,u),i=e[d].data.length-r;if(0===i){O(e),Atomics.store(e[d].state,c,0),Atomics.store(e[d].state,u,0);continue}if(i<0)throw Error("overwritten");let s=e[d].buf.slice(0,i),o=Buffer.byteLength(s);if(o<=i)e[d].buf=e[d].buf.slice(i),S(e,s,t);else{for(O(e),Atomics.store(e[d].state,c,0),Atomics.store(e[d].state,u,0);o>e[d].buf.length;)i/=2,s=e[d].buf.slice(0,i),o=Buffer.byteLength(s);e[d].buf=e[d].buf.slice(i),S(e,s,t)}}}function O(e){if(e[d].flushing)throw Error("unable to flush while flushing");let t=Atomics.load(e[d].state,u),r=0;for(;;){let i=Atomics.load(e[d].state,c);if(-2===i)throw Error("_flushSync failed");if(i!==t)Atomics.wait(e[d].state,c,i,1e3);else break;if(10==++r)throw Error("_flushSync took too long (10s)")}}e.exports=D},89441:e=>{"use strict";e.exports={WRITE_INDEX:4,READ_INDEX:8}},56341:e=>{"use strict";e.exports={wait:function(e,t,r,i,s){let o=Date.now()+i,a=Atomics.load(e,t);if(a===r){s(null,"ok");return}let l=a,u=i=>{Date.now()>o?s(null,"timed-out"):setTimeout(()=>{l=a,(a=Atomics.load(e,t))===l?u(i>=1e3?1e3:2*i):a===r?s(null,"ok"):s(null,"not-equal")},i)};u(1)},waitDiff:function(e,t,r,i,s){let o=Date.now()+i,a=Atomics.load(e,t);if(a!==r){s(null,"ok");return}let l=i=>{Date.now()>o?s(null,"timed-out"):setTimeout(()=>{(a=Atomics.load(e,t))!==r?s(null,"ok"):l(i>=1e3?1e3:2*i)},i)};l(1)}}},85069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(57283);class s extends i.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=o.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}i.defineEventAttribute(s.prototype,"abort");let o=new WeakMap;Object.defineProperties(s.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class a{constructor(){l.set(this,function(){let e=Object.create(s.prototype);return i.EventTarget.call(e),o.set(e,!1),e}())}get signal(){return u(this)}abort(){var e;e=u(this),!1===o.get(e)&&(o.set(e,!0),e.dispatchEvent({type:"abort"}))}}let l=new WeakMap;function u(e){let t=l.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(a.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(a.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=a,t.AbortSignal=s,t.default=a,e.exports=a,e.exports.AbortController=e.exports.default=a,e.exports.AbortSignal=s},58895:e=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let t=new Int32Array(new SharedArrayBuffer(4));e.exports=function(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(t,0,0,Number(e))}}else e.exports=function(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let t=Date.now()+Number(e);for(;t>Date.now(););}},83265:(e,t,r)=>{"use strict";var i;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o){var a,l,u,c=arguments,h=(a=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,u=/[^-+\dA-Z]/g,function(e,t,r,i){if(1!==c.length||"string"!==y(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var s=(t=String(h.masks[t]||t||h.masks.default)).slice(0,4);("UTC:"===s||"GMT:"===s)&&(t=t.slice(4),r=!0,"GMT:"===s&&(i=!0));var o=function(){return r?"getUTC":"get"},m=function(){return e[o()+"Date"]()},b=function(){return e[o()+"Day"]()},v=function(){return e[o()+"Month"]()},w=function(){return e[o()+"FullYear"]()},_=function(){return e[o()+"Hours"]()},D=function(){return e[o()+"Minutes"]()},E=function(){return e[o()+"Seconds"]()},S=function(){return e[o()+"Milliseconds"]()},x=function(){return r?0:e.getTimezoneOffset()},I=function(){return p(e)},O={d:function(){return m()},dd:function(){return f(m())},ddd:function(){return h.i18n.dayNames[b()]},DDD:function(){return d({y:w(),m:v(),d:m(),_:o(),dayName:h.i18n.dayNames[b()],short:!0})},dddd:function(){return h.i18n.dayNames[b()+7]},DDDD:function(){return d({y:w(),m:v(),d:m(),_:o(),dayName:h.i18n.dayNames[b()+7]})},m:function(){return v()+1},mm:function(){return f(v()+1)},mmm:function(){return h.i18n.monthNames[v()]},mmmm:function(){return h.i18n.monthNames[v()+12]},yy:function(){return String(w()).slice(2)},yyyy:function(){return f(w(),4)},h:function(){return _()%12||12},hh:function(){return f(_()%12||12)},H:function(){return _()},HH:function(){return f(_())},M:function(){return D()},MM:function(){return f(D())},s:function(){return E()},ss:function(){return f(E())},l:function(){return f(S(),3)},L:function(){return f(Math.floor(S()/10))},t:function(){return 12>_()?h.i18n.timeNames[0]:h.i18n.timeNames[1]},tt:function(){return 12>_()?h.i18n.timeNames[2]:h.i18n.timeNames[3]},T:function(){return 12>_()?h.i18n.timeNames[4]:h.i18n.timeNames[5]},TT:function(){return 12>_()?h.i18n.timeNames[6]:h.i18n.timeNames[7]},Z:function(){return i?"GMT":r?"UTC":(String(e).match(l)||[""]).pop().replace(u,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(x()>0?"-":"+")+f(100*Math.floor(Math.abs(x())/60)+Math.abs(x())%60,4)},p:function(){return(x()>0?"-":"+")+f(Math.floor(Math.abs(x())/60),2)+":"+f(Math.floor(Math.abs(x())%60),2)},S:function(){return["th","st","nd","rd"][m()%10>3?0:(m()%100-m()%10!=10)*m()%10]},W:function(){return I()},WW:function(){return f(I())},N:function(){return g(e)}};return t.replace(a,function(e){return e in O?O[e]():e.slice(1,e.length-1)})});h.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},h.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var f=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},d=function(e){var t=e.y,r=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,l=void 0!==a&&a,u=new Date,c=new Date;c.setDate(c[s+"Date"]()-1);var h=new Date;return(h.setDate(h[s+"Date"]()+1),u[s+"FullYear"]()===t&&u[s+"Month"]()===r&&u[s+"Date"]()===i)?l?"Tdy":"Today":c[s+"FullYear"]()===t&&c[s+"Month"]()===r&&c[s+"Date"]()===i?l?"Ysd":"Yesterday":h[s+"FullYear"]()===t&&h[s+"Month"]()===r&&h[s+"Date"]()===i?l?"Tmw":"Tomorrow":o},p=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var i=t.getTimezoneOffset()-r.getTimezoneOffset();return t.setHours(t.getHours()-i),1+Math.floor((t-r)/(864e5*7))},g=function(e){var t=e.getDay();return 0===t&&(t=7),t},y=function(e){return null===e?"null":void 0===e?"undefined":"object"!==s(e)?s(e):Array.isArray(e)?"array":({}).toString.call(e).slice(8,-1).toLowerCase()};void 0!==(i=(function(){return h}).call(t,r,t,e))&&(e.exports=i)}(void 0)},10813:(e,t,r)=>{"use strict";var i=r(53421),s=function(){},o=function(e,t,r){if("function"==typeof t)return o(e,null,t);t||(t={}),r=i(r||s);var a=e._writableState,l=e._readableState,u=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,h=!1,f=function(){e.writable||d()},d=function(){c=!1,u||r.call(e)},p=function(){u=!1,c||r.call(e)},g=function(t){r.call(e,t?Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},m=function(){process.nextTick(b)},b=function(){if(!h&&(u&&!(l&&l.ended&&!l.destroyed)||c&&!(a&&a.ended&&!a.destroyed)))return r.call(e,Error("premature close"))},v=function(){e.req.on("finish",d)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",d),e.on("abort",m),e.req?v():e.on("request",v)):c&&!a&&(e.on("end",f),e.on("close",f)),e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length&&e.on("exit",g),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",y),e.on("close",m),function(){h=!0,e.removeListener("complete",d),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("exit",g),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",m)}};e.exports=o},57283:(e,t)=>{"use strict";/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */Object.defineProperty(t,"__esModule",{value:!0});let r=new WeakMap,i=new WeakMap;function s(e){let t=r.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function a(e,t){r.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let i=Object.keys(t);for(let e=0;e<i.length;++e){let t=i[e];t in this||Object.defineProperty(this,t,l(t))}}function l(e){return{get(){return s(this).event[e]},set(t){s(this).event[e]=t},configurable:!0,enumerable:!0}}function u(e,t){s(e).passiveListener=t}a.prototype={get type(){return s(this).event.type},get target(){return s(this).eventTarget},get currentTarget(){return s(this).currentTarget},composedPath(){let e=s(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return s(this).eventPhase},stopPropagation(){let e=s(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=s(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!s(this).event.bubbles},get cancelable(){return!!s(this).event.cancelable},preventDefault(){o(s(this))},get defaultPrevented(){return s(this).canceled},get composed(){return!!s(this).event.composed},get timeStamp(){return s(this).timeStamp},get srcElement(){return s(this).eventTarget},get cancelBubble(){return s(this).stopped},set cancelBubble(value){if(!value)return;let e=s(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!s(this).canceled},set returnValue(value){value||o(s(this))},initEvent(){}},Object.defineProperty(a.prototype,"constructor",{value:a,configurable:!0,writable:!0});let c=new WeakMap;function h(e){return null!==e&&"object"==typeof e}function f(e){let t=c.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function d(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=f(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||h(e)||(e=null);let r=f(this),i=null,s=r.get(t);for(;null!=s;)3===s.listenerType?null!==i?i.next=s.next:null!==s.next?r.set(t,s.next):r.delete(t):i=s,s=s.next;if(null!==e){let s={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===i?r.set(t,s):i.next=s}},configurable:!0,enumerable:!0})}function p(e){function t(){g.call(this)}t.prototype=Object.create(g.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)d(t.prototype,e[r]);return t}function g(){if(this instanceof g){c.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return p(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return p(e)}throw TypeError("Cannot call a class as a function")}g.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!h(t))throw TypeError("'listener' should be a function or an object.");let i=f(this),s=h(r),o=(s?r.capture:r)?1:2,a={listener:t,listenerType:o,passive:s&&!!r.passive,once:s&&!!r.once,next:null},l=i.get(e);if(void 0===l){i.set(e,a);return}let u=null;for(;null!=l;){if(l.listener===t&&l.listenerType===o)return;u=l,l=l.next}u.next=a},removeEventListener(e,t,r){if(null==t)return;let i=f(this),s=(h(r)?r.capture:r)?1:2,o=null,a=i.get(e);for(;null!=a;){if(a.listener===t&&a.listenerType===s){null!==o?o.next=a.next:null!==a.next?i.set(e,a.next):i.delete(e);return}o=a,a=a.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=f(this),r=e.type,o=t.get(r);if(null==o)return!0;let c=new(function e(t){if(null==t||t===Object.prototype)return a;let r=i.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function i(t,r){e.call(this,t,r)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){let a=r[o];if(!(a in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,a).value;Object.defineProperty(i.prototype,a,e?function(e){return{value(){let t=s(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(a):l(a))}}return i}(e(Object.getPrototypeOf(t)),t),i.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),h=null;for(;null!=o;){if(o.once?null!==h?h.next=o.next:null!==o.next?t.set(r,o.next):t.delete(r):h=o,u(c,o.passive?o.listener:null),"function"==typeof o.listener)try{o.listener.call(this,c)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==o.listenerType&&"function"==typeof o.listener.handleEvent&&o.listener.handleEvent(c);if(s(c).immediateStopped)break;o=o.next}return u(c,null),s(c).eventPhase=0,s(c).currentTarget=null,!c.defaultPrevented}},Object.defineProperty(g.prototype,"constructor",{value:g,configurable:!0,writable:!0}),t.defineEventAttribute=d,t.EventTarget=g,t.default=g,e.exports=g,e.exports.EventTarget=e.exports.default=g,e.exports.defineEventAttribute=d},13223:(e,t,r)=>{"use strict";let i=r(72421),s=r(444),o=r(99653),a=r(49349),{groupRedact:l,nestedRedact:u}=r(38792),c=r(85323),h=r(87260),f=i(),d=e=>e;function p(e={}){let t=Array.from(new Set(e.paths||[])),r="serialize"in e?!1===e.serialize?e.serialize:"function"==typeof e.serialize?e.serialize:JSON.stringify:JSON.stringify,i=e.remove;if(!0===i&&r!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");let h=!0===i?void 0:"censor"in e?e.censor:"[REDACTED]",p="function"==typeof h,g=p&&h.length>1;if(0===t.length)return r||d;f({paths:t,serialize:r,censor:h});let{wildcards:y,wcLen:m,secret:b}=s({paths:t,censor:h}),v=a();return o({secret:b,wcLen:m,serialize:r,strict:!("strict"in e)||e.strict,isCensorFct:p,censorFctTakesPath:g},c({secret:b,censor:h,compileRestore:v,serialize:r,groupRedact:l,nestedRedact:u,wildcards:y,wcLen:m}))}d.restore=d,p.rx=h,p.validator=i,e.exports=p},38792:e=>{"use strict";function t(e,t){return null!=e&&("hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t))}function r(e,t){for(var r=-1,i=t.length,s=e;null!=s&&++r<i;)s=s[t[r]];return s}function i(e,t,r){if(e.depth===r)return i(e.parent,t,r);var s={parent:e,key:t,depth:r,children:[]};return e.children.push(s),s}function s(e,t,r){let i=e,s=[];do s.push(i.key),i=i.parent;while(null!=i.parent);return{path:s,value:t,target:r}}e.exports={groupRedact:function(e,t,i,s,o){let a=r(e,t);if(null==a||"string"==typeof a)return{keys:null,values:null,target:a,flat:!0};let l=Object.keys(a),u=l.length,c=t.length,h=o?[...t]:void 0,f=Array(u);for(var d=0;d<u;d++){let e=l[d];f[d]=a[e],o?(h[c]=e,a[e]=i(a[e],h)):s?a[e]=i(a[e]):a[e]=i}return{keys:l,values:f,target:a,flat:!0}},groupRestore:function({keys:e,values:t,target:r}){if(null==r||"string"==typeof r)return;let i=e.length;for(var s=0;s<i;s++)r[e[s]]=t[s]},nestedRedact:function(e,o,a,l,u,c,h){let f=r(o,a);if(null==f)return;let d=Object.keys(f),p=d.length;for(var g=0;g<p;g++)(function(e,r,o,a,l,u,c,h){let f=l.length,d=f-1,p=o;var g,y,m,b,v,w=-1,_=null,D=null,E=!1,S=0,x={parent:null,key:null,children:[],depth:0};if(m=g=r[o],"object"==typeof g){for(;null!=g&&++w<f&&(S+=1,o=l[w],"*"===o||D||"object"==typeof g&&(o in g));)if("*"!==o||("*"===D&&(E=!0),D=o,w===d)){if(D){let f=Object.keys(g);for(var I=0;I<f.length;I++){let _=f[I];if(v=g[_],b="*"===o,E)x=i(x,_,S),m=function e(r,o,a,l,u,c,h,f,d,p,g,y,m,b,v,w,_,D,E,S){if(0===o&&(m||"object"==typeof r&&null!==r&&a in r)){if(y=m?r:r[a],g=v!==w?y:h?f?c(y,[...l,d,...u]):c(y):c,m){let e=s(_,y,E);D.push(e),p[b]=g}else if(r[a]===g);else if(void 0===g&&void 0!==c||t(r,a)&&g===y);else{let e=s(i(_,a,S+1),y,E);D.push(e),r[a]=g}}for(let t in r)"object"==typeof r[t]&&(_=i(_,t,S),e(r[t],o-1,a,l,u,c,h,f,d,p,g,y,m,b,v,w,_,D,E,S+1))}(v,w-1,o,a,l,u,c,h,p,g,y,m,b,_,w,d,x,e,r[p],S+1);else if(b||"object"==typeof v&&null!==v&&o in v){if(m=b?v:v[o],y=w!==d?m:c?h?u(m,[...a,p,...l]):u(m):u,b){let t=s(i(x,_,S),m,r[p]);e.push(t),g[_]=y}else if(v[o]===y);else if(void 0===y&&void 0!==u||t(v,o)&&y===m)x=i(x,_,S);else{x=i(x,_,S);let t=s(i(x,o,S+1),m,r[p]);e.push(t),v[o]=y}}}D=null}else{if(m=g[o],x=i(x,o,S),y=w!==d?m:c?h?u(m,[...a,p,...l]):u(m):u,t(g,o)&&y===m||void 0===y&&void 0!==u);else{let t=s(x,m,r[p]);e.push(t),g[o]=y}g=g[o]}if("object"!=typeof g)break}}})(e,f,d[g],a,l,u,c,h);return e},nestedRestore:function(e){for(let t=0;t<e.length;t++){let{target:r,path:i,value:s}=e[t],o=r;for(let e=i.length-1;e>0;e--)o=o[i[e]];o[i[0]]=s}}}},444:(e,t,r)=>{"use strict";let i=r(87260);e.exports=function({paths:e}){let t=[];var r=0;let s=e.reduce(function(e,s,o){var a=s.match(i).map(e=>e.replace(/'|"|`/g,""));let l="["===s[0],u=(a=a.map(e=>"["===e[0]?e.substr(1,e.length-2):e)).indexOf("*");if(u>-1){let e=a.slice(0,u),i=e.join("."),s=a.slice(u+1,a.length),o=s.length>0;r++,t.push({before:e,beforeStr:i,after:s,nested:o})}else e[s]={path:a,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(s),leadingBracket:l};return e},{});return{wildcards:t,wcLen:r,secret:s}}},99653:(e,t,r)=>{"use strict";let i=r(87260);e.exports=function({secret:e,serialize:t,wcLen:r,strict:s,isCensorFct:o,censorFctTakesPath:a},l){let u=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${!0===s?"throw Error('fast-redact: primitives cannot be redacted')":!1===t?"return o":"return this.serialize(o)"}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${Object.keys(e).map(t=>{let{escPath:r,leadingBracket:s,path:l}=e[t],u=s?1:0,c=s?"":".",h=[];for(;null!==(f=i.exec(t));){let[,e]=f,{index:t,input:r}=f;t>u&&h.push(r.substring(0,t-(e?0:1)))}var f,d=h.map(e=>`o${c}${e}`).join(" && ");0===d.length?d+=`o${c}${t} != null`:d+=` && o${c}${t} != null`;let p=`
      switch (true) {
        ${h.reverse().map(e=>`
          case o${c}${e} === censor:
            secret[${r}].circle = ${JSON.stringify(e)}
            break
        `).join("\n")}
      }
    `,g=a?`val, ${JSON.stringify(l)}`:"val";return`
      if (${d}) {
        const val = o${c}${t}
        if (val === censor) {
          secret[${r}].precensored = true
        } else {
          secret[${r}].val = val
          o${c}${t} = ${o?`censor(${g})`:"censor"}
          ${p}
        }
      }
    `}).join("\n")}
    this.compileRestore()
    ${!0==r>0?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${o}, ${a})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${o}, ${a})
      }
    }
  `:""}
    this.secret = originalSecret
    ${!1===t?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}
  `).bind(l);return u.state=l,!1===t&&(u.restore=e=>l.restore(e)),u}},49349:(e,t,r)=>{"use strict";let{groupRestore:i,nestedRestore:s}=r(38792);e.exports=function(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:e,wcLen:t}=this,r=Object.keys(e),o=r.map(t=>{let{circle:r,escPath:i,leadingBracket:s}=e[t],o=r?`o.${r} = secret[${i}].val`:`o${s?"":"."}${t} = secret[${i}].val`,a=`secret[${i}].val = undefined`;return`
      if (secret[${i}].val !== undefined) {
        try { ${o} } catch (e) {}
        ${a}
      }
    `}).join(""),a=t>0,l=a?{secret:e,groupRestore:i,nestedRestore:s}:{secret:e};this.restore=Function("o",function(e,t,r){let i=!0===r?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:"";return`
    const secret = this.secret
    ${i}
    ${e}
    return o
  `}(o,r,a)).bind(l),this.restore.state=l}}},87260:e=>{"use strict";e.exports=/[^.[\]]+|\[((?:.)*?)\]/g},85323:e=>{"use strict";e.exports=function(e){let{secret:t,censor:r,compileRestore:i,serialize:s,groupRedact:o,nestedRedact:a,wildcards:l,wcLen:u}=e,c=[{secret:t,censor:r,compileRestore:i}];return!1!==s&&c.push({serialize:s}),u>0&&c.push({groupRedact:o,nestedRedact:a,wildcards:l,wcLen:u}),Object.assign(...c)}},72421:e=>{"use strict";e.exports=function(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:r=e=>`fast-redact – Invalid path (${e})`}=e;return function({paths:e}){e.forEach(e=>{if("string"!=typeof e)throw Error(t());try{if(/〇/.test(e))throw Error();let t=("["===e[0]?"":".")+e.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(t)||/\/\*/.test(t))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const 〇 = null;
            o${t}
            if ([o${t}].length !== 1) throw Error()`)()}catch(t){throw Error(r(e))}})}}},91078:e=>{"use strict";e.exports=a,a.default=a,a.stable=c,a.stableStringify=c;var t="[...]",r="[Circular]",i=[],s=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function a(e,a,u,c){void 0===c&&(c=o()),function e(i,s,o,a,u,c,h){if(c+=1,"object"==typeof i&&null!==i){for(f=0;f<a.length;f++)if(a[f]===i){l(r,i,s,u);return}if(void 0!==h.depthLimit&&c>h.depthLimit||void 0!==h.edgesLimit&&o+1>h.edgesLimit){l(t,i,s,u);return}if(a.push(i),Array.isArray(i))for(f=0;f<i.length;f++)e(i[f],f,f,a,i,c,h);else{var f,d=Object.keys(i);for(f=0;f<d.length;f++){var p=d[f];e(i[p],p,f,a,i,c,h)}}a.pop()}}(e,"",0,[],void 0,0,c);try{f=0===s.length?JSON.stringify(e,a,u):JSON.stringify(e,h(a),u)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var f,d=i.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return f}function l(e,t,r,o){var a=Object.getOwnPropertyDescriptor(o,r);void 0!==a.get?a.configurable?(Object.defineProperty(o,r,{value:e}),i.push([o,r,t,a])):s.push([t,r,e]):(o[r]=e,i.push([o,r,t]))}function u(e,t){return e<t?-1:e>t?1:0}function c(e,a,c,f){void 0===f&&(f=o());var d,p=function e(s,o,a,c,h,f,d){if(f+=1,"object"==typeof s&&null!==s){for(p=0;p<c.length;p++)if(c[p]===s){l(r,s,o,h);return}try{if("function"==typeof s.toJSON)return}catch(e){return}if(void 0!==d.depthLimit&&f>d.depthLimit||void 0!==d.edgesLimit&&a+1>d.edgesLimit){l(t,s,o,h);return}if(c.push(s),Array.isArray(s))for(p=0;p<s.length;p++)e(s[p],p,p,c,s,f,d);else{var p,g={},y=Object.keys(s).sort(u);for(p=0;p<y.length;p++){var m=y[p];e(s[m],m,p,c,s,f,d),g[m]=s[m]}if(void 0===h)return g;i.push([h,o,s]),h[o]=g}c.pop()}}(e,"",0,[],void 0,0,f)||e;try{d=0===s.length?JSON.stringify(p,a,c):JSON.stringify(p,h(a),c)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var g=i.pop();4===g.length?Object.defineProperty(g[0],g[1],g[3]):g[0][g[1]]=g[2]}}return d}function h(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(s.length>0)for(var i=0;i<s.length;i++){var o=s[i];if(o[1]===t&&o[0]===r){r=o[2],s.splice(i,1);break}}return e.call(this,t,r)}}},24853:(e,t,r)=>{"use strict";function i(e){return e&&e.default||e}e.exports=global.fetch=global.fetch||("undefined"==typeof process?i(r(4995)):function(e,t){return i(r(26725))(String(e).replace(/^\/\//g,"https://"),t)})},67369:(e,t,r)=>{"use strict";e=r.nmd(e);var i,s,o="__lodash_hash_undefined__",a="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",g="[object Object]",y="[object Promise]",m="[object RegExp]",b="[object Set]",v="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",D="[object DataView]",E=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[a]=x[l]=x[_]=x[u]=x[D]=x[c]=x[h]=x[f]=x[d]=x[p]=x[g]=x[m]=x[b]=x[v]=x[w]=!1;var I="object"==typeof global&&global&&global.Object===Object&&global,O="object"==typeof self&&self&&self.Object===Object&&self,C=I||O||Function("return this")(),P=t&&!t.nodeType&&t,A=P&&e&&!e.nodeType&&e,R=A&&A.exports===P,T=R&&I.process,N=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),k=N&&N.isTypedArray;function j(e){var t=-1,r=Array(e.size);return e.forEach(function(e,i){r[++t]=[i,e]}),r}function L(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var $=Array.prototype,B=Function.prototype,M=Object.prototype,q=C["__core-js_shared__"],U=B.toString,F=M.hasOwnProperty,z=function(){var e=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),W=M.toString,H=RegExp("^"+U.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=R?C.Buffer:void 0,G=C.Symbol,K=C.Uint8Array,J=M.propertyIsEnumerable,Z=$.splice,Y=G?G.toStringTag:void 0,Q=Object.getOwnPropertySymbols,X=V?V.isBuffer:void 0,ee=(i=Object.keys,s=Object,function(e){return i(s(e))}),et=ex(C,"DataView"),er=ex(C,"Map"),ei=ex(C,"Promise"),en=ex(C,"Set"),es=ex(C,"WeakMap"),eo=ex(Object,"create"),ea=eC(et),el=eC(er),eu=eC(ei),ec=eC(en),eh=eC(es),ef=G?G.prototype:void 0,ed=ef?ef.valueOf:void 0;function ep(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function eg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ey(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function em(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ey;++t<r;)this.add(e[t])}function eb(e){var t=this.__data__=new eg(e);this.size=t.size}function ev(e,t){for(var r=e.length;r--;)if(eP(e[r][0],t))return r;return -1}function ew(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?function(e){var t=F.call(e,Y),r=e[Y];try{e[Y]=void 0;var i=!0}catch(e){}var s=W.call(e);return i&&(t?e[Y]=r:delete e[Y]),s}(e):W.call(e)}function e_(e){return eL(e)&&ew(e)==a}function eD(e,t,r,i,s,o){var a=1&r,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var h=-1,f=!0,d=2&r?new em:void 0;for(o.set(e,t),o.set(t,e);++h<l;){var p=e[h],g=t[h];if(i)var y=a?i(g,p,h,t,e,o):i(p,g,h,e,t,o);if(void 0!==y){if(y)continue;f=!1;break}if(d){if(!function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}(t,function(e,t){if(!d.has(t)&&(p===e||s(p,e,r,i,o)))return d.push(t)})){f=!1;break}}else if(!(p===g||s(p,g,r,i,o))){f=!1;break}}return o.delete(e),o.delete(t),f}function eE(e){var t;return t=function(e){return null!=e&&ek(e.length)&&!eN(e)?function(e,t){var r,i=eR(e),s=!i&&eA(e),o=!i&&!s&&eT(e),a=!i&&!s&&!o&&e$(e),l=i||s||o||a,u=l?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],c=u.length;for(var h in e)F.call(e,h)&&!(l&&("length"==h||o&&("offset"==h||"parent"==h)||a&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||(r=null==(r=c)?9007199254740991:r)&&("number"==typeof h||S.test(h))&&h>-1&&h%1==0&&h<r))&&u.push(h);return u}(e):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||M))return ee(e);var t,r=[];for(var i in Object(e))F.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}(e),eR(e)?t:function(e,t){for(var r=-1,i=t.length,s=e.length;++r<i;)e[s+r]=t[r];return e}(t,eI(e))}function eS(e,t){var r,i=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?i["string"==typeof t?"string":"hash"]:i.map}function ex(e,t){var r=null==e?void 0:e[t];return!(!ej(r)||z&&z in r)&&(eN(r)?H:E).test(eC(r))?r:void 0}ep.prototype.clear=function(){this.__data__=eo?eo(null):{},this.size=0},ep.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ep.prototype.get=function(e){var t=this.__data__;if(eo){var r=t[e];return r===o?void 0:r}return F.call(t,e)?t[e]:void 0},ep.prototype.has=function(e){var t=this.__data__;return eo?void 0!==t[e]:F.call(t,e)},ep.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eo&&void 0===t?o:t,this},eg.prototype.clear=function(){this.__data__=[],this.size=0},eg.prototype.delete=function(e){var t=this.__data__,r=ev(t,e);return!(r<0)&&(r==t.length-1?t.pop():Z.call(t,r,1),--this.size,!0)},eg.prototype.get=function(e){var t=this.__data__,r=ev(t,e);return r<0?void 0:t[r][1]},eg.prototype.has=function(e){return ev(this.__data__,e)>-1},eg.prototype.set=function(e,t){var r=this.__data__,i=ev(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},ey.prototype.clear=function(){this.size=0,this.__data__={hash:new ep,map:new(er||eg),string:new ep}},ey.prototype.delete=function(e){var t=eS(this,e).delete(e);return this.size-=t?1:0,t},ey.prototype.get=function(e){return eS(this,e).get(e)},ey.prototype.has=function(e){return eS(this,e).has(e)},ey.prototype.set=function(e,t){var r=eS(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this},em.prototype.add=em.prototype.push=function(e){return this.__data__.set(e,o),this},em.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.clear=function(){this.__data__=new eg,this.size=0},eb.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},eb.prototype.get=function(e){return this.__data__.get(e)},eb.prototype.has=function(e){return this.__data__.has(e)},eb.prototype.set=function(e,t){var r=this.__data__;if(r instanceof eg){var i=r.__data__;if(!er||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new ey(i)}return r.set(e,t),this.size=r.size,this};var eI=Q?function(e){return null==e?[]:function(e,t){for(var r=-1,i=null==e?0:e.length,s=0,o=[];++r<i;){var a=e[r];t(a,r,e)&&(o[s++]=a)}return o}(Q(e=Object(e)),function(t){return J.call(e,t)})}:function(){return[]},eO=ew;function eC(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function eP(e,t){return e===t||e!=e&&t!=t}(et&&eO(new et(new ArrayBuffer(1)))!=D||er&&eO(new er)!=d||ei&&eO(ei.resolve())!=y||en&&eO(new en)!=b||es&&eO(new es)!=w)&&(eO=function(e){var t=ew(e),r=t==g?e.constructor:void 0,i=r?eC(r):"";if(i)switch(i){case ea:return D;case el:return d;case eu:return y;case ec:return b;case eh:return w}return t});var eA=e_(function(){return arguments}())?e_:function(e){return eL(e)&&F.call(e,"callee")&&!J.call(e,"callee")},eR=Array.isArray,eT=X||function(){return!1};function eN(e){if(!ej(e))return!1;var t=ew(e);return t==f||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ek(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ej(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eL(e){return null!=e&&"object"==typeof e}var e$=k?function(e){return k(e)}:function(e){return eL(e)&&ek(e.length)&&!!x[ew(e)]};e.exports=function(e,t){return function e(t,r,i,s,o){return t===r||(null!=t&&null!=r&&(eL(t)||eL(r))?function(e,t,r,i,s,o){var f=eR(e),y=eR(t),w=f?l:eO(e),E=y?l:eO(t);w=w==a?g:w,E=E==a?g:E;var S=w==g,x=E==g,I=w==E;if(I&&eT(e)){if(!eT(t))return!1;f=!0,S=!1}if(I&&!S)return o||(o=new eb),f||e$(e)?eD(e,t,r,i,s,o):function(e,t,r,i,s,o,a){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case _:if(e.byteLength!=t.byteLength||!o(new K(e),new K(t)))break;return!0;case u:case c:case p:return eP(+e,+t);case h:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case d:var l=j;case b:var f=1&i;if(l||(l=L),e.size!=t.size&&!f)break;var g=a.get(e);if(g)return g==t;i|=2,a.set(e,t);var y=eD(l(e),l(t),i,s,o,a);return a.delete(e),y;case"[object Symbol]":if(ed)return ed.call(e)==ed.call(t)}return!1}(e,t,w,r,i,s,o);if(!(1&r)){var O=S&&F.call(e,"__wrapped__"),C=x&&F.call(t,"__wrapped__");if(O||C){var P=O?e.value():e,A=C?t.value():t;return o||(o=new eb),s(P,A,r,i,o)}}return!!I&&(o||(o=new eb),function(e,t,r,i,s,o){var a=1&r,l=eE(e),u=l.length;if(u!=eE(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:F.call(t,h)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var g=e[h=l[c]],y=t[h];if(i)var m=a?i(y,g,h,t,e,o):i(g,y,h,e,t,o);if(!(void 0===m?g===y||s(g,y,r,i,o):m)){d=!1;break}p||(p="constructor"==h)}if(d&&!p){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,r,i,s,o))}(t,r,i,s,e,o):t!=t&&r!=r)}(e,t)}},63577:e=>{"use strict";let t;let r={exit:[],beforeExit:[]},i={exit:function(){o("exit")},beforeExit:function(){o("beforeExit")}};function s(e){r[e].length>0||(process.removeListener(e,i[e]),0!==r.exit.length||0!==r.beforeExit.length||(t=void 0))}function o(e){for(let t of r[e]){let r=t.deref(),i=t.fn;void 0!==r&&i(r,e)}r[e]=[]}function a(e){for(let t of["exit","beforeExit"]){let i=r[t].indexOf(e);r[t].splice(i,i+1),s(t)}}function l(e,s,o){if(void 0===s)throw Error("the object can't be undefined");r[e].length>0||process.on(e,i[e]);let l=new WeakRef(s);l.fn=o,void 0===t&&(t=new FinalizationRegistry(a)),t.register(s,l),r[e].push(l)}e.exports={register:function(e,t){l("exit",e,t)},registerBeforeExit:function(e,t){l("beforeExit",e,t)},unregister:function(e){if(void 0!==t)for(let i of(t.unregister(e),["exit","beforeExit"]))r[i]=r[i].filter(t=>{let r=t.deref();return r&&r!==e}),s(i)}}},53421:(e,t,r)=>{"use strict";var i=r(79850);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=i(s),e.exports.strict=i(o),s.proto=s(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},78578:(e,t,r)=>{"use strict";let i=Symbol.for("pino.metadata"),s=r(39654),{Duplex:o}=r(62071),{parentPort:a,workerData:l}=r(71267);function u(e,t){process.nextTick(t,e)}e.exports=function(e,t={}){let r=!0===t.expectPinoConfig&&l?.workerData?.pinoWillSendConfig===!0,c="lines"===t.parse,h="function"==typeof t.parseLine?t.parseLine:JSON.parse,f=t.close||u,d=s(function(e){let t;try{t=h(e)}catch(t){this.emit("unknown",e,t);return}if(null===t){this.emit("unknown",e,"Null value ignored");return}return("object"!=typeof t&&(t={data:t,time:Date.now()}),d[i]&&(d.lastTime=t.time,d.lastLevel=t.level,d.lastObj=t),c)?e:t},{autoDestroy:!0});if(d._destroy=function(e,t){let r=f(e,t);r&&"function"==typeof r.then&&r.then(t,t)},!0===t.expectPinoConfig&&l?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{d.emit("error",Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),!1!==t.metadata&&(d[i]=!0,d.lastTime=0,d.lastLevel=0,d.lastObj=null),r){let e={},t=function(){let e,t;let r=new Promise((r,i)=>{e=r,t=i});return r.resolve=e,r.reject=t,r}();return a.on("message",function r(i){"PINO_CONFIG"===i.code&&(e=i.config,t.resolve(),a.off("message",r))}),Object.defineProperties(d,{levels:{get:()=>e.levels},messageKey:{get:()=>e.messageKey},errorKey:{get:()=>e.errorKey}}),t.then(p)}return p();function p(){let r=e(d);if(r&&"function"==typeof r.catch)r.catch(e=>{d.destroy(e)}),r=null;else if(t.enablePipelining&&r)return o.from({writable:d,readable:r});return d}}},24148:e=>{"use strict";e.exports=global.process},37007:(e,t,r)=>{"use strict";var i,s=r(53421),o=r(10813);try{i=r(57147)}catch(e){}var a=function(){},l=/^v?\.0/.test(process.version),u=function(e){return"function"==typeof e},c=function(e,t,r,c){c=s(c);var h=!1;e.on("close",function(){h=!0}),o(e,{readable:t,writable:r},function(e){if(e)return c(e);h=!0,c()});var f=!1;return function(t){if(!h&&!f){if(f=!0,l&&i&&(e instanceof(i.ReadStream||a)||e instanceof(i.WriteStream||a))&&u(e.close))return e.close(a);if(e.setHeader&&u(e.abort))return e.abort();if(u(e.destroy))return e.destroy();c(t||Error("stream was destroyed"))}}},h=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=u(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw Error("pump requires two streams per minimum");var i=t.map(function(s,o){var a=o<t.length-1;return c(s,a,o>0,function(t){e||(e=t),t&&i.forEach(h),a||(i.forEach(h),r(e))})});return t.reduce(f)}},59630:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,i){var s=i&&i.stringify||t;if("object"==typeof e&&null!==e){var o=r.length+1;if(1===o)return e;var a=Array(o);a[0]=s(e);for(var l=1;l<o;l++)a[l]=s(r[l]);return a.join(" ")}if("string"!=typeof e)return e;var u=r.length;if(0===u)return e;for(var c="",h=0,f=-1,d=e&&e.length||0,p=0;p<d;){if(37===e.charCodeAt(p)&&p+1<d){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:case 102:if(h>=u||null==r[h])break;f<p&&(c+=e.slice(f,p)),c+=Number(r[h]),f=p+2,p++;break;case 105:if(h>=u||null==r[h])break;f<p&&(c+=e.slice(f,p)),c+=Math.floor(Number(r[h])),f=p+2,p++;break;case 79:case 111:case 106:if(h>=u||void 0===r[h])break;f<p&&(c+=e.slice(f,p));var g=typeof r[h];if("string"===g){c+="'"+r[h]+"'",f=p+2,p++;break}if("function"===g){c+=r[h].name||"<anonymous>",f=p+2,p++;break}c+=s(r[h]),f=p+2,p++;break;case 115:if(h>=u)break;f<p&&(c+=e.slice(f,p)),c+=String(r[h]),f=p+2,p++;break;case 37:f<p&&(c+=e.slice(f,p)),c+="%",f=p+2,p++,h--}++h}++p}return -1===f?e:(f<d&&(c+=e.slice(f)),c)}},45819:(e,t,r)=>{"use strict";let i;let{SymbolDispose:s}=r(92755),{AbortError:o,codes:a}=r(22331),{isNodeStream:l,isWebStream:u,kControllerErrorFunction:c}=r(63968),h=r(22013),{ERR_INVALID_ARG_TYPE:f}=a,d=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new f(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(d(t,"signal"),!l(r)&&!u(r))throw new f("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let a=l(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[c](new o(void 0,{cause:e.reason}))};return e.aborted?a():h(t,(i=i||r(61054).addAbortListener)(e,a)[s]),t}},30093:(e,t,r)=>{"use strict";let{StringPrototypeSlice:i,SymbolIterator:s,TypedArrayPrototypeSet:o,Uint8Array:a}=r(92755),{Buffer:l}=r(14300),{inspect:u}=r(61054);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return l.alloc(0);let t=l.allocUnsafe(e>>>0),r=this.head,i=0;for(;r;)o(t,r.data,i),i+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[s](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,s=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++s,r.next?this.head=r.next:this.head=this.tail=null):(t+=i(o,0,e),this.head=r,r.data=i(o,e));break}++s}while(null!==(r=r.next));return this.length-=s,t}_getBuffer(e){let t=l.allocUnsafe(e),r=e,i=this.head,s=0;do{let l=i.data;if(e>l.length)o(t,l,r-e),e-=l.length;else{e===l.length?(o(t,l,r-e),++s,i.next?this.head=i.next:this.head=this.tail=null):(o(t,new a(l.buffer,l.byteOffset,e),r-e),this.head=i,i.data=l.slice(e));break}++s}while(null!==(i=i.next));return this.length-=s,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return u(this,{...t,depth:0,customInspect:!1})}}},33378:(e,t,r)=>{"use strict";let{pipeline:i}=r(83212),s=r(3832),{destroyer:o}=r(23975),{isNodeStream:a,isReadable:l,isWritable:u,isWebStream:c,isTransformStream:h,isWritableStream:f,isReadableStream:d}=r(63968),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:y}}=r(22331),m=r(22013);e.exports=function(...e){let t,r,b,v,w;if(0===e.length)throw new y("streams");if(1===e.length)return s.from(e[0]);let _=[...e];if("function"==typeof e[0]&&(e[0]=s.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=s.from(e[t])}for(let t=0;t<e.length;++t)if(a(e[t])||c(e[t])){if(t<e.length-1&&!(l(e[t])||d(e[t])||h(e[t])))throw new g(`streams[${t}]`,_[t],"must be readable");if(t>0&&!(u(e[t])||f(e[t])||h(e[t])))throw new g(`streams[${t}]`,_[t],"must be writable")}let D=e[0],E=i(e,function(e){let t=v;v=null,t?t(e):e?w.destroy(e):x||S||w.destroy()}),S=!!(u(D)||f(D)||h(D)),x=!!(l(E)||d(E)||h(E));if(w=new s({writableObjectMode:!!(null!=D&&D.writableObjectMode),readableObjectMode:!!(null!=E&&E.readableObjectMode),writable:S,readable:x}),S){if(a(D))w._write=function(e,r,i){D.write(e,r)?i():t=i},w._final=function(e){D.end(),r=e},D.on("drain",function(){if(t){let e=t;t=null,e()}});else if(c(D)){let e=(h(D)?D.writable:D).getWriter();w._write=async function(t,r,i){try{await e.ready,e.write(t).catch(()=>{}),i()}catch(e){i(e)}},w._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}m(h(E)?E.readable:E,()=>{if(r){let e=r;r=null,e()}})}if(x){if(a(E))E.on("readable",function(){if(b){let e=b;b=null,e()}}),E.on("end",function(){w.push(null)}),w._read=function(){for(;;){let e=E.read();if(null===e){b=w._read;return}if(!w.push(e))return}};else if(c(E)){let e=(h(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!w.push(t))return;if(r){w.push(null);return}}catch{return}}}}return w._destroy=function(e,i){e||null===v||(e=new p),b=null,t=null,r=null,null===v?i(e):(v=i,a(E)&&o(E,e))},w}},23975:(e,t,r)=>{"use strict";let i=r(24148),{aggregateTwoErrors:s,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:a}=r(22331),{Symbol:l}=r(92755),{kIsDestroyed:u,isDestroyed:c,isFinished:h,isServerRequest:f}=r(63968),d=l("kDestroy"),p=l("kConstruct");function g(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function y(e,t,r){let s=!1;function o(t){if(s)return;s=!0;let o=e._readableState,a=e._writableState;g(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?i.nextTick(m,e,t):i.nextTick(b,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function m(e,t){v(e,t),b(e)}function b(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function v(e,t){let r=e._readableState,i=e._writableState;null!=i&&i.errorEmitted||null!=r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function w(e,t,r){let s=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=s&&s.destroyed)return this;null!=s&&s.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),s&&!s.errored&&(s.errored=t),r?i.nextTick(v,e,t):v(e,t))}function _(e){let t=!1;function r(r){if(t){w(e,null!=r?r:new o);return}t=!0;let s=e._readableState,a=e._writableState,l=a||s;s&&(s.constructed=!0),a&&(a.constructed=!0),l.destroyed?e.emit(d,r):r?w(e,r,!0):i.nextTick(D,e)}try{e._construct(e=>{i.nextTick(r,e)})}catch(e){i.nextTick(r,e)}}function D(e){e.emit(p)}function E(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function S(e){e.emit("close")}function x(e,t){e.emit("error",t),i.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,s=e._writableState;r&&(r.constructed=!1),s&&(s.constructed=!1),e.once(p,t),e.listenerCount(p)>1||i.nextTick(_,e)},destroyer:function(e,t){!(!e||c(e))&&(t||h(e)||(t=new a),f(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?i.nextTick(x,e,t):i.nextTick(S,e),e.destroyed||(e[u]=!0))},destroy:function(e,t){let r=this._readableState,i=this._writableState,o=i||r;return null!=i&&i.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(g(e,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),o.constructed?y(this,e,t):this.once(d,function(r){y(this,s(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},3832:(e,t,r)=>{"use strict";let i,s;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:l,ObjectSetPrototypeOf:u}=r(92755);e.exports=f;let c=r(97210),h=r(44652);u(f.prototype,c.prototype),u(f,c);{let e=l(h.prototype);for(let t=0;t<e.length;t++){let r=e[t];f.prototype[r]||(f.prototype[r]=h.prototype[r])}}function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),h.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function d(){return void 0===i&&(i={}),i}o(f.prototype,{writable:{__proto__:null,...a(h.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(h.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(h.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(h.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(h.prototype,"writableLength")},writableFinished:{__proto__:null,...a(h.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(h.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(h.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(h.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),f.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},f.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},f.from=function(e){return s||(s=r(52909)),s(e,"body")}},52909:(e,t,r)=>{"use strict";let i=r(24148),s=r(14300),{isReadable:o,isWritable:a,isIterable:l,isNodeStream:u,isReadableNodeStream:c,isWritableNodeStream:h,isDuplexNodeStream:f,isReadableStream:d,isWritableStream:p}=r(63968),g=r(22013),{AbortError:y,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:b}}=r(22331),{destroyer:v}=r(23975),w=r(3832),_=r(97210),D=r(44652),{createDeferredPromise:E}=r(61054),S=r(23502),x=globalThis.Blob||s.Blob,I=void 0!==x?function(e){return e instanceof x}:function(e){return!1},O=globalThis.AbortController||r(85069).AbortController,{FunctionPrototypeCall:C}=r(92755);class P extends w{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function A(e){let t,r,i,s,l;let u=e.readable&&"function"!=typeof e.readable.read?_.wrap(e.readable):e.readable,c=e.writable,h=!!o(u),f=!!a(c);function d(e){let t=s;s=null,t?t(e):e&&l.destroy(e)}return l=new P({readableObjectMode:!!(null!=u&&u.readableObjectMode),writableObjectMode:!!(null!=c&&c.writableObjectMode),readable:h,writable:f}),f&&(g(c,e=>{f=!1,e&&v(u,e),d(e)}),l._write=function(e,r,i){c.write(e,r)?i():t=i},l._final=function(e){c.end(),r=e},c.on("drain",function(){if(t){let e=t;t=null,e()}}),c.on("finish",function(){if(r){let e=r;r=null,e()}})),h&&(g(u,e=>{h=!1,e&&v(u,e),d(e)}),u.on("readable",function(){if(i){let e=i;i=null,e()}}),u.on("end",function(){l.push(null)}),l._read=function(){for(;;){let e=u.read();if(null===e){i=l._read;return}if(!l.push(e))return}}),l._destroy=function(e,o){e||null===s||(e=new y),i=null,t=null,r=null,null===s?o(e):(s=o,v(c,e),v(u,e))},l}e.exports=function e(t,r){if(f(t))return t;if(c(t))return A({readable:t});if(h(t))return A({writable:t});if(u(t))return A({writable:!1,readable:!1});if(d(t))return A({readable:_.fromWeb(t)});if(p(t))return A({writable:D.fromWeb(t)});if("function"==typeof t){let{value:e,write:s,final:o,destroy:a}=function(e){let{promise:t,resolve:r}=E(),s=new O,o=s.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:s,done:a,cb:l}=await e;if(i.nextTick(l),a)return;if(o.aborted)throw new y(void 0,{cause:o.reason});({promise:t,resolve:r}=E()),yield s}}(),{signal:o}),write(e,t,i){let s=r;r=null,s({chunk:e,done:!1,cb:i})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){s.abort(),t(e)}}}(t);if(l(e))return S(P,e,{objectMode:!0,write:s,final:o,destroy:a});let u=null==e?void 0:e.then;if("function"==typeof u){let t;let r=C(u,e,e=>{if(null!=e)throw new b("nully","body",e)},e=>{v(t,e)});return t=new P({objectMode:!0,readable:!1,write:s,final(e){o(async()=>{try{await r,i.nextTick(e,null)}catch(t){i.nextTick(e,t)}})},destroy:a})}throw new b("Iterable, AsyncIterable or AsyncFunction",r,e)}if(I(t))return e(t.arrayBuffer());if(l(t))return S(P,t,{objectMode:!0,writable:!1});if(d(null==t?void 0:t.readable)&&p(null==t?void 0:t.writable))return P.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return A({readable:null!=t&&t.readable?c(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?h(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let s=null==t?void 0:t.then;if("function"==typeof s){let e;return C(s,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{v(e,t)}),e=new P({objectMode:!0,writable:!1,read(){}})}throw new m(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},22013:(e,t,r)=>{"use strict";let i;let s=r(24148),{AbortError:o,codes:a}=r(22331),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_PREMATURE_CLOSE:u}=a,{kEmptyObject:c,once:h}=r(61054),{validateAbortSignal:f,validateFunction:d,validateObject:p,validateBoolean:g}=r(83379),{Promise:y,PromisePrototypeThen:m,SymbolDispose:b}=r(92755),{isClosed:v,isReadable:w,isReadableNodeStream:_,isReadableStream:D,isReadableFinished:E,isReadableErrored:S,isWritable:x,isWritableNodeStream:I,isWritableStream:O,isWritableFinished:C,isWritableErrored:P,isNodeStream:A,willEmitClose:R,kIsClosedPromise:T}=r(63968),N=()=>{};function k(e,t,a){var g,y;if(2==arguments.length?(a=t,t=c):null==t?t=c:p(t,"options"),d(a,"callback"),f(t.signal,"options.signal"),a=h(a),D(e)||O(e))return function(e,t,a){let l=!1,u=N;if(t.signal){if(u=()=>{l=!0,a.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)s.nextTick(u);else{let s=(i=i||r(61054).addAbortListener)(t.signal,u),o=a;a=h((...t)=>{s[b](),o.apply(e,t)})}}let c=(...t)=>{l||s.nextTick(()=>a.apply(e,t))};return m(e[T].promise,c,c),N}(e,t,a);if(!A(e))throw new l("stream",["ReadableStream","WritableStream","Stream"],e);let k=null!==(g=t.readable)&&void 0!==g?g:_(e),j=null!==(y=t.writable)&&void 0!==y?y:I(e),L=e._writableState,$=e._readableState,B=()=>{e.writable||U()},M=R(e)&&_(e)===k&&I(e)===j,q=C(e,!1),U=()=>{q=!0,e.destroyed&&(M=!1),M&&(!e.readable||k)||k&&!F||a.call(e)},F=E(e,!1),z=()=>{F=!0,e.destroyed&&(M=!1),M&&(!e.writable||j)||j&&!q||a.call(e)},W=t=>{a.call(e,t)},H=v(e),V=()=>{H=!0;let t=P(e)||S(e);return t&&"boolean"!=typeof t?a.call(e,t):k&&!F&&_(e,!0)&&!E(e,!1)||j&&!q&&!C(e,!1)?a.call(e,new u):void a.call(e)},G=()=>{H=!0;let t=P(e)||S(e);if(t&&"boolean"!=typeof t)return a.call(e,t);a.call(e)},K=()=>{e.req.on("finish",U)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",U),M||e.on("abort",V),e.req?K():e.on("request",K)):j&&!L&&(e.on("end",B),e.on("close",B)),M||"boolean"!=typeof e.aborted||e.on("aborted",V),e.on("end",z),e.on("finish",U),!1!==t.error&&e.on("error",W),e.on("close",V),H?s.nextTick(V):null!=L&&L.errorEmitted||null!=$&&$.errorEmitted?M||s.nextTick(G):!k&&(!M||w(e))&&(q||!1===x(e))?s.nextTick(G):!j&&(!M||x(e))&&(F||!1===w(e))?s.nextTick(G):$&&e.req&&e.aborted&&s.nextTick(G);let J=()=>{a=N,e.removeListener("aborted",V),e.removeListener("complete",U),e.removeListener("abort",V),e.removeListener("request",K),e.req&&e.req.removeListener("finish",U),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",U),e.removeListener("end",z),e.removeListener("error",W),e.removeListener("close",V)};if(t.signal&&!H){let l=()=>{let r=a;J(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)s.nextTick(l);else{let s=(i=i||r(61054).addAbortListener)(t.signal,l),o=a;a=h((...t)=>{s[b](),o.apply(e,t)})}}return J}e.exports=k,e.exports.finished=function(e,t){var r;let i=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(g(t.cleanup,"cleanup"),i=t.cleanup),new y((r,s)=>{let o=k(e,t,e=>{i&&o(),e?s(e):r()})})}},23502:(e,t,r)=>{"use strict";let i=r(24148),{PromisePrototypeThen:s,SymbolAsyncIterator:o,SymbolIterator:a}=r(92755),{Buffer:l}=r(14300),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:c}=r(22331).codes;e.exports=function(e,t,r){let h,f;if("string"==typeof t||t instanceof l)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])f=!0,h=t[o]();else if(t&&t[a])f=!1,h=t[a]();else throw new u("iterable",["Iterable"],t);let d=new e({objectMode:!0,highWaterMark:1,...r}),p=!1;async function g(e){let t=null!=e,r="function"==typeof h.throw;if(t&&r){let{value:t,done:r}=await h.throw(e);if(await t,r)return}if("function"==typeof h.return){let{value:e}=await h.return();await e}}async function y(){for(;;){try{let{value:e,done:t}=f?await h.next():h.next();if(t)d.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw p=!1,new c;if(d.push(t))continue;p=!1}}catch(e){d.destroy(e)}break}}return d._read=function(){p||(p=!0,y())},d._destroy=function(e,t){s(g(e),()=>i.nextTick(t,e),r=>i.nextTick(t,r||e))},d}},69367:(e,t,r)=>{"use strict";let{ArrayIsArray:i,ObjectSetPrototypeOf:s}=r(92755),{EventEmitter:o}=r(82361);function a(e){o.call(this,e)}function l(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}s(a.prototype,o.prototype),s(a,o),a.prototype.pipe=function(e,t){let r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",u),r.on("close",c));let a=!1;function u(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){f(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function f(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",u),r.removeListener("close",c),r.removeListener("error",h),e.removeListener("error",h),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return l(r,"error",h),l(e,"error",h),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:l}},75385:(e,t,r)=>{"use strict";let i=globalThis.AbortController||r(85069).AbortController,{codes:{ERR_INVALID_ARG_VALUE:s,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:l},AbortError:u}=r(22331),{validateAbortSignal:c,validateInteger:h,validateObject:f}=r(83379),d=r(92755).Symbol("kWeak"),p=r(92755).Symbol("kResistStopPropagation"),{finished:g}=r(22013),y=r(33378),{addAbortSignalNoValidate:m}=r(45819),{isWritable:b,isNodeStream:v}=r(63968),{deprecate:w}=r(61054),{ArrayPrototypePush:_,Boolean:D,MathFloor:E,Number:S,NumberIsNaN:x,Promise:I,PromiseReject:O,PromiseResolve:C,PromisePrototypeThen:P,Symbol:A}=r(92755),R=A("kEmpty"),T=A("kEof");function N(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal");let i=1;(null==t?void 0:t.concurrency)!=null&&(i=E(t.concurrency));let s=i-1;return(null==t?void 0:t.highWaterMark)!=null&&(s=E(t.highWaterMark)),h(i,"options.concurrency",1),h(s,"options.highWaterMark",0),s+=i,(async function*(){let o,a;let l=r(61054).AbortSignalAny([null==t?void 0:t.signal].filter(D)),c=this,h=[],f={signal:l},d=!1,p=0;function g(){d=!0,y()}function y(){p-=1,m()}function m(){a&&!d&&p<i&&h.length<s&&(a(),a=null)}(async function(){try{for await(let t of c){if(d)return;if(l.aborted)throw new u;try{if((t=e(t,f))===R)continue;t=C(t)}catch(e){t=O(e)}p+=1,P(t,y,g),h.push(t),o&&(o(),o=null),!d&&(h.length>=s||p>=i)&&await new I(e=>{a=e})}h.push(T)}catch(t){let e=O(t);P(e,y,g),h.push(e)}finally{d=!0,o&&(o(),o=null)}})();try{for(;;){for(;h.length>0;){let e=await h[0];if(e===T)return;if(l.aborted)throw new u;e!==R&&(yield e),h.shift(),m()}await new I(e=>{o=e})}}finally{d=!0,a&&(a(),a=null)}}).call(this)}async function k(e,t){for await(let r of B.call(this,e,t))return!0;return!1}async function j(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await k.call(this,async(...t)=>!await e(...t),t)}async function L(e,t){for await(let r of B.call(this,e,t))return r}async function $(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),R}for await(let e of N.call(this,r,t));}function B(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:R}return N.call(this,r,t)}class M extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function q(e,t,r){var s,a;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&f(r,"options"),(null==r?void 0:r.signal)!=null&&c(r.signal,"options.signal");let l=arguments.length>1;if(null!=r&&null!==(s=r.signal)&&void 0!==s&&s.aborted){let e=new u(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(e)),e}let h=new i,y=h.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>h.abort(),{once:!0,[d]:this,[p]:!0});let m=!1;try{for await(let i of this){if(m=!0,null!=r&&null!==(a=r.signal)&&void 0!==a&&a.aborted)throw new u;l?t=await e(t,i,{signal:y}):(t=i,l=!0)}if(!m&&!l)throw new M}finally{h.abort()}return t}async function U(e){null!=e&&f(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal");let t=[];for await(let i of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u(void 0,{cause:e.signal.reason});_(t,i)}return t}function F(e){if(x(e=S(e)))return 0;if(e<0)throw new l("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:w(function(e){return null!=e&&f(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal"),(async function*(){let t=0;for await(let i of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new u({cause:e.signal.reason});yield[t++,i]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=F(e),(async function*(){var r,i;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new u;for await(let r of this){if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new u;e--<=0&&(yield r)}}).call(this)},filter:B,flatMap:function(e,t){let r=N.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:N,take:function(e,t){return null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=F(e),(async function*(){var r,i;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new u;for await(let r of this){if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new u;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&f(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),v(e)&&!b(e))throw new s("stream",e,"must be writable");let r=y(this,e);return null!=t&&t.signal&&m(t.signal,r),r}},e.exports.promiseReturningOperators={every:j,forEach:$,reduce:q,toArray:U,some:k,find:L}},31333:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:i}=r(92755);e.exports=o;let s=r(5466);function o(e){if(!(this instanceof o))return new o(e);s.call(this,e)}i(o.prototype,s.prototype),i(o,s),o.prototype._transform=function(e,t,r){r(null,e)}},83212:(e,t,r)=>{"use strict";let i,s,o;let a=r(24148),{ArrayIsArray:l,Promise:u,SymbolAsyncIterator:c,SymbolDispose:h}=r(92755),f=r(22013),{once:d}=r(61054),p=r(23975),g=r(3832),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:v,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:D}=r(22331),{validateFunction:E,validateAbortSignal:S}=r(83379),{isIterable:x,isReadable:I,isReadableNodeStream:O,isNodeStream:C,isTransformStream:P,isWebStream:A,isReadableStream:R,isReadableFinished:T}=r(63968),N=globalThis.AbortController||r(85069).AbortController;function k(e,t,r){let i=!1;return e.on("close",()=>{i=!0}),{destroy:t=>{i||(i=!0,p.destroyer(e,t||new w("pipe")))},cleanup:f(e,{readable:t,writable:r},e=>{i=!e})}}function j(e){if(x(e))return e;if(O(e))return L(e);throw new m("val",["Readable","Iterable","AsyncIterable"],e)}async function*L(e){s||(s=r(97210)),yield*s.prototype[c].call(e)}async function $(e,t,r,{end:i}){let s;let o=null,a=e=>{if(e&&(s=e),o){let e=o;o=null,e()}},l=()=>new u((e,t)=>{s?t(s):o=()=>{s?t(s):e()}});t.on("drain",a);let c=f(t,{readable:!1},a);try{for await(let r of(t.writableNeedDrain&&await l(),e))t.write(r)||await l();i&&(t.end(),await l()),r()}catch(e){r(s!==e?y(s,e):e)}finally{c(),t.off("drain",a)}}async function B(e,t,r,{end:i}){P(t)&&(t=t.writable);let s=t.getWriter();try{for await(let t of e)await s.ready,s.write(t).catch(()=>{});await s.ready,i&&await s.close(),r()}catch(e){try{await s.abort(e),r(e)}catch(e){r(e)}}}function M(e,t,s){let u,c,d,p;if(1===e.length&&l(e[0])&&(e=e[0]),e.length<2)throw new v("streams");let y=new N,w=y.signal,E=null==s?void 0:s.signal,L=[];function M(){z(new D)}S(E,"options.signal"),o=o||r(61054).addAbortListener,E&&(u=o(E,M));let q=[],U=0;function F(e){z(e,0==--U)}function z(e,r){var i;if(e&&(!c||"ERR_STREAM_PREMATURE_CLOSE"===c.code)&&(c=e),c||r){for(;q.length;)q.shift()(c);null===(i=u)||void 0===i||i[h](),y.abort(),r&&(c||L.forEach(e=>e()),a.nextTick(t,c,d))}}for(let t=0;t<e.length;t++){let o=e[t],l=t<e.length-1,u=t>0,c=l||(null==s?void 0:s.end)!==!1,h=t===e.length-1;if(C(o)){if(c){let{destroy:e,cleanup:t}=k(o,l,u);q.push(e),I(o)&&h&&L.push(t)}function W(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&F(e)}o.on("error",W),I(o)&&h&&L.push(()=>{o.removeListener("error",W)})}if(0===t){if("function"==typeof o){if(!x(p=o({signal:w})))throw new b("Iterable, AsyncIterable or Stream","source",p)}else p=x(o)||O(o)||P(o)?o:g.from(o)}else if("function"==typeof o){var H,V;if(p=o(p=P(p)?j(null===(H=p)||void 0===H?void 0:H.readable):j(p),{signal:w}),l){if(!x(p,!0))throw new b("AsyncIterable",`transform[${t-1}]`,p)}else{i||(i=r(31333));let e=new i({objectMode:!0}),t=null===(V=p)||void 0===V?void 0:V.then;if("function"==typeof t)U++,t.call(p,t=>{d=t,null!=t&&e.write(t),c&&e.end(),a.nextTick(F)},t=>{e.destroy(t),a.nextTick(F,t)});else if(x(p,!0))U++,$(p,e,F,{end:c});else if(R(p)||P(p)){let t=p.readable||p;U++,$(t,e,F,{end:c})}else throw new b("AsyncIterable or Promise","destination",p);let{destroy:s,cleanup:o}=k(p=e,!1,!0);q.push(s),h&&L.push(o)}}else if(C(o)){if(O(p)){U+=2;let e=function(e,t,r,{end:i}){let s=!1;if(t.on("close",()=>{s||r(new _)}),e.pipe(t,{end:!1}),i){function o(){s=!0,t.end()}T(e)?a.nextTick(o):e.once("end",o)}else r();return f(e,{readable:!0,writable:!1},t=>{let i=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&i&&i.ended&&!i.errored&&!i.errorEmitted?e.once("end",r).once("error",r):r(t)}),f(t,{readable:!1,writable:!0},r)}(p,o,F,{end:c});I(o)&&h&&L.push(e)}else if(P(p)||R(p)){let e=p.readable||p;U++,$(e,o,F,{end:c})}else if(x(p))U++,$(p,o,F,{end:c});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=o}else if(A(o)){if(O(p))U++,B(j(p),o,F,{end:c});else if(R(p)||x(p))U++,B(p,o,F,{end:c});else if(P(p))U++,B(p.readable,o,F,{end:c});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=o}else p=g.from(o)}return(null!=w&&w.aborted||null!=E&&E.aborted)&&a.nextTick(M),p}e.exports={pipelineImpl:M,pipeline:function(...e){return M(e,d((E(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},97210:(e,t,r)=>{"use strict";let i;let s=r(24148),{ArrayPrototypeIndexOf:o,NumberIsInteger:a,NumberIsNaN:l,NumberParseInt:u,ObjectDefineProperties:c,ObjectKeys:h,ObjectSetPrototypeOf:f,Promise:d,SafeSet:p,SymbolAsyncDispose:g,SymbolAsyncIterator:y,Symbol:m}=r(92755);e.exports=W,W.ReadableState=z;let{EventEmitter:b}=r(82361),{Stream:v,prependListener:w}=r(69367),{Buffer:_}=r(14300),{addAbortSignal:D}=r(45819),E=r(22013),S=r(61054).debuglog("stream",e=>{S=e}),x=r(30093),I=r(23975),{getHighWaterMark:O,getDefaultHighWaterMark:C}=r(73810),{aggregateTwoErrors:P,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:N,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:k},AbortError:j}=r(22331),{validateObject:L}=r(83379),$=m("kPaused"),{StringDecoder:B}=r(52447),M=r(23502);f(W.prototype,v.prototype),f(W,v);let q=()=>{},{errorOrDestroy:U}=I;function F(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function z(e,t,i){"boolean"!=typeof i&&(i=t instanceof r(3832)),this.state=6192,e&&e.objectMode&&(this.state|=1),i&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?O(this,e,"readableHighWaterMark",i):C(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[$]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new B(e.encoding),this.encoding=e.encoding)}function W(e){if(!(this instanceof W))return new W(e);let t=this instanceof r(3832);this._readableState=new z(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&D(e.signal,this)),v.call(this,e),I.construct(this,()=>{this._readableState.needReadable&&Z(this,this._readableState)})}function H(e,t,r,i){let s;S("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(i&&o.encoding?t=_.from(t,r).toString(o.encoding):(t=_.from(t,r),r=""))):t instanceof _?r="":v._isUint8Array(t)?(t=v._uint8ArrayToBuffer(t),r=""):null!=t&&(s=new A("chunk",["string","Buffer","Uint8Array"],t))),s)U(e,s);else if(null===t)o.state&=-9,function(e,t){if(S("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?K(e):(t.needReadable=!1,t.emittedReadable=!0,J(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(i){if((4&o.state)!=0)U(e,new k);else{if(o.destroyed||o.errored)return!1;V(e,o,t,!0)}}else if(o.ended)U(e,new N);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?V(e,o,t,!1):Z(e,o)):V(e,o,t,!1)}}else i||(o.state&=-9,Z(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function V(e,t,r,i){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&K(e)),Z(e,t)}function G(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:l(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function K(e){let t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,s.nextTick(J,e))}function J(e){let t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,et(e)}function Z(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,s.nextTick(Y,e,t))}function Y(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(S("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function Q(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[$]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function X(e){S("readable nexttick read 0"),e.read(0)}function ee(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),et(e),t.flowing&&!t.reading&&e.read(0)}function et(e){let t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function er(e,t){"function"!=typeof e.read&&(e=W.wrap(e,{objectMode:!0}));let r=ei(e,t);return r.stream=e,r}async function*ei(e,t){let r,i=q;function s(t){this===e?(i(),i=q):i=t}e.on("readable",s);let o=E(e,{writable:!1},e=>{r=e?P(r,e):null,i(),i=q});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new d(s)}}}catch(e){throw r=P(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?I.destroyer(e,null):(e.off("readable",s),o())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function es(e){let t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,s.nextTick(eo,t,e))}function eo(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)s.nextTick(ea,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function ea(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function el(){return void 0===i&&(i={}),i}c(z.prototype,{objectMode:F(1),ended:F(2),endEmitted:F(4),reading:F(8),constructed:F(16),sync:F(32),needReadable:F(64),emittedReadable:F(128),readableListening:F(256),resumeScheduled:F(512),errorEmitted:F(1024),emitClose:F(2048),autoDestroy:F(4096),destroyed:F(8192),closed:F(16384),closeEmitted:F(32768),multiAwaitDrain:F(65536),readingMore:F(131072),dataEmitted:F(262144)}),W.prototype.destroy=I.destroy,W.prototype._undestroy=I.undestroy,W.prototype._destroy=function(e,t){t(e)},W.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},W.prototype[g]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new j,this.destroy(e)),new d((t,r)=>E(this,i=>i&&i!==e?r(i):t(null)))},W.prototype.push=function(e,t){return H(this,e,t,!1)},W.prototype.unshift=function(e,t){return H(this,e,t,!0)},W.prototype.isPaused=function(){let e=this._readableState;return!0===e[$]||!1===e.flowing},W.prototype.setEncoding=function(e){let t=new B(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,i="";for(let e of r)i+=t.write(e);return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this},W.prototype.read=function(e){let t;S("read",e),void 0===e?e=NaN:a(e)||(e=u(e,10));let r=this._readableState,i=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new T("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return S("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?es(this):K(this),null;if(0===(e=G(e,r))&&r.ended)return 0===r.length&&es(this),null;let s=(64&r.state)!=0;if(S("need readable",s),(0===r.length||r.length-e<r.highWaterMark)&&S("length less than watermark",s=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)S("reading, ended or constructing",s=!1);else if(s){S("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){U(this,e)}r.state&=-33,r.reading||(e=G(i,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),i!==e&&r.ended&&es(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},W.prototype._read=function(e){throw new R("_read()")},W.prototype.pipe=function(e,t){let r;let i=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new p(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),S("pipe count=%d opts=%j",o.pipes.length,t);let a=t&&!1===t.end||e===s.stdout||e===s.stderr?y:l;function l(){S("onend"),e.end()}o.endEmitted?s.nextTick(a):i.once("end",a),e.on("unpipe",function t(s,a){S("onunpipe"),s===i&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,S("cleanup"),e.removeListener("close",d),e.removeListener("finish",g),r&&e.removeListener("drain",r),e.removeListener("error",f),e.removeListener("unpipe",t),i.removeListener("end",l),i.removeListener("end",y),i.removeListener("data",h),u=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let u=!1;function c(){u||(1===o.pipes.length&&o.pipes[0]===e?(S("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(S("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),i.pause()),r||(r=function(){let t=i._readableState;t.awaitDrainWriters===e?(S("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(S("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&i.listenerCount("data")&&i.resume()},e.on("drain",r))}function h(t){S("ondata");let r=e.write(t);S("dest.write",r),!1===r&&c()}function f(t){if(S("onerror",t),y(),e.removeListener("error",f),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",g),y()}function g(){S("onfinish"),e.removeListener("close",d),y()}function y(){S("unpipe"),i.unpipe(e)}return i.on("data",h),w(e,"error",f),e.once("close",d),e.once("finish",g),e.emit("pipe",i),!0===e.writableNeedDrain?c():o.flowing||(S("pipe resume"),i.resume()),e},W.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},W.prototype.on=function(e,t){let r=v.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,S("on readable",i.length,i.reading),i.length?K(this):i.reading||s.nextTick(X,this)),r},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(e,t){let r=v.prototype.removeListener.call(this,e,t);return"readable"===e&&s.nextTick(Q,this),r},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(e){let t=v.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&s.nextTick(Q,this),t},W.prototype.resume=function(){let e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,s.nextTick(ee,this,e))),e[$]=!1,this},W.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this},W.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=h(e);for(let t=1;t<r.length;t++){let i=r[t];void 0===this[i]&&"function"==typeof e[i]&&(this[i]=e[i].bind(e))}return this},W.prototype[y]=function(){return er(this)},W.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),er(this,e)},c(W.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(z.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[$]},set(e){this[$]=!!e}}}),W._fromList=en,W.from=function(e,t){return M(W,e,t)},W.fromWeb=function(e,t){return el().newStreamReadableFromReadableStream(e,t)},W.toWeb=function(e,t){return el().newReadableStreamFromStreamReadable(e,t)},W.wrap=function(e,t){var r,i;return new W({objectMode:null===(r=null!==(i=e.readableObjectMode)&&void 0!==i?i:e.objectMode)||void 0===r||r,...t,destroy(t,r){I.destroyer(e,t),r(t)}}).wrap(e)}},73810:(e,t,r)=>{"use strict";let{MathFloor:i,NumberIsInteger:s}=r(92755),{validateInteger:o}=r(83379),{ERR_INVALID_ARG_VALUE:a}=r(22331).codes,l=16384,u=16;function c(e){return e?u:l}e.exports={getHighWaterMark:function(e,t,r,o){let l=null!=t.highWaterMark?t.highWaterMark:o?t[r]:null;if(null!=l){if(!s(l)||l<0)throw new a(o?`options.${r}`:"options.highWaterMark",l);return i(l)}return c(e.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?u=t:l=t}}},5466:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:i,Symbol:s}=r(92755);e.exports=c;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(22331).codes,a=r(3832),{getHighWaterMark:l}=r(73810);i(c.prototype,a.prototype),i(c,a);let u=s("kCallback");function c(e){if(!(this instanceof c))return new c(e);let t=e?l(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[u]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function h(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function f(){this._final!==h&&h.call(this)}c.prototype._final=h,c.prototype._transform=function(e,t,r){throw new o("_transform()")},c.prototype._write=function(e,t,r){let i=this._readableState,s=this._writableState,o=i.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),s.ended||o===i.length||i.length<i.highWaterMark?r():this[u]=r})},c.prototype._read=function(){if(this[u]){let e=this[u];this[u]=null,e()}}},63968:(e,t,r)=>{"use strict";let{SymbolAsyncIterator:i,SymbolIterator:s,SymbolFor:o}=r(92755),a=o("nodejs.stream.destroyed"),l=o("nodejs.stream.errored"),u=o("nodejs.stream.readable"),c=o("nodejs.stream.writable"),h=o("nodejs.stream.disturbed"),f=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function p(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function g(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function y(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!!(e&&!y(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function b(e){return!!(e&&!y(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function v(e){return!!(e&&!y(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function w(e){if(!y(e))return null;let t=e._writableState,r=e._readableState,i=t||r;return!!(e.destroyed||e[a]||null!=i&&i.destroyed)}function _(e){if(!g(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function D(e,t){if(!p(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function E(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!w(e)&&p(e)&&e.readable&&!D(e)}function S(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!w(e)&&g(e)&&e.writable&&!_(e)}function x(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function I(e){return"boolean"==typeof e._sent100&&x(e)}e.exports={isDestroyed:w,kIsDestroyed:a,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[h])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:h,isErrored:function(e){var t,r,i,s,o,a,u,c,h,f;return!!(e&&(null!==(t=null!==(r=null!==(i=null!==(s=null!==(o=null!==(a=e[l])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==s?s:null===(u=e._readableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==i?i:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(h=e._readableState)||void 0===h?void 0:h.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:l,isReadable:E,kIsReadable:u,kIsClosedPromise:f,kControllerErrorFunction:d,kIsWritable:c,isClosed:function(e){if(!y(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&x(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return y(e)?!!w(e)||!((null==t?void 0:t.readable)!==!1&&E(e)||(null==t?void 0:t.writable)!==!1&&S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[i]:!1===t?"function"==typeof e[s]:"function"==typeof e[i]||"function"==typeof e[s])},isReadableNodeStream:p,isReadableStream:m,isReadableEnded:function(e){if(!p(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:D,isReadableErrored:function(e){var t,r;return y(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:y,isWebStream:function(e){return m(e)||b(e)||v(e)},isWritable:S,isWritableNodeStream:g,isWritableStream:b,isWritableEnded:_,isWritableFinished:function(e,t){if(!g(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return y(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:I,willEmitClose:function(e){if(!y(e))return null;let t=e._writableState,r=e._readableState,i=t||r;return!i&&I(e)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:v}},44652:(e,t,r)=>{"use strict";let i;let s=r(24148),{ArrayPrototypeSlice:o,Error:a,FunctionPrototypeSymbolHasInstance:l,ObjectDefineProperty:u,ObjectDefineProperties:c,ObjectSetPrototypeOf:h,StringPrototypeToLowerCase:f,Symbol:d,SymbolHasInstance:p}=r(92755);e.exports=L,L.WritableState=k;let{EventEmitter:g}=r(82361),y=r(69367).Stream,{Buffer:m}=r(14300),b=r(23975),{addAbortSignal:v}=r(45819),{getHighWaterMark:w,getDefaultHighWaterMark:_}=r(73810),{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:P,ERR_UNKNOWN_ENCODING:A}=r(22331).codes,{errorOrDestroy:R}=b;function T(){}h(L.prototype,y.prototype),h(L,y);let N=d("kOnFinished");function k(e,t,i){"boolean"!=typeof i&&(i=t instanceof r(3832)),this.objectMode=!!(e&&e.objectMode),i&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?w(this,e,"writableHighWaterMark",i):_(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let s=!!(e&&!1===e.decodeStrings);this.decodeStrings=!s,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=q.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,j(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function j(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){let t=this instanceof r(3832);if(!t&&!l(L,this))return new L(e);this._writableState=new k(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&v(e.signal,this)),y.call(this,e),b.construct(this,()=>{let e=this._writableState;e.writing||W(this,e),V(this,e)})}function $(e,t,r,i){let o;let a=e._writableState;if("function"==typeof r)i=r,r=a.defaultEncoding;else{if(r){if("buffer"!==r&&!m.isEncoding(r))throw new A(r)}else r=a.defaultEncoding;"function"!=typeof i&&(i=T)}if(null===t)throw new C;if(!a.objectMode){if("string"==typeof t)!1!==a.decodeStrings&&(t=m.from(t,r),r="buffer");else if(t instanceof m)r="buffer";else if(y._isUint8Array(t))t=y._uint8ArrayToBuffer(t),r="buffer";else throw new D("chunk",["string","Buffer","Uint8Array"],t)}return(a.ending?o=new P:a.destroyed&&(o=new I("write")),o)?(s.nextTick(i,o),R(e,o,!0),o):(a.pendingcb++,function(e,t,r,i,s){let o=t.objectMode?1:r.length;t.length+=o;let a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:i,callback:s}),t.allBuffers&&"buffer"!==i&&(t.allBuffers=!1),t.allNoop&&s!==T&&(t.allNoop=!1)):(t.writelen=o,t.writecb=s,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,a,t,r,i))}function B(e,t,r,i,s,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new I("write")):r?e._writev(s,t.onwrite):e._write(s,o,t.onwrite),t.sync=!1}function M(e,t,r,i){--t.pendingcb,i(r),z(t),R(e,r)}function q(e,t){let r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o){R(e,new S);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?s.nextTick(M,e,r,t,o):M(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&W(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},s.nextTick(U,r.afterWriteTickInfo)):F(e,r,1,o))}function U({stream:e,state:t,count:r,cb:i}){return t.afterWriteTickInfo=null,F(e,t,r,i)}function F(e,t,r,i){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,i();t.destroyed&&z(t),V(e,t)}function z(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:i,callback:s}=e.buffered[r],o=e.objectMode?1:i.length;e.length-=o,s(null!==(t=e.errored)&&void 0!==t?t:new I("write"))}let i=e[N].splice(0);for(let t=0;t<i.length;t++)i[t](null!==(r=e.errored)&&void 0!==r?r:new I("end"));j(e)}function W(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:i,objectMode:s}=t,a=r.length-i;if(!a)return;let l=i;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;let i=t.allNoop?T:e=>{for(let t=l;t<r.length;++t)r[t].callback(e)},s=t.allNoop&&0===l?r:o(r,l);s.allBuffers=t.allBuffers,B(e,t,!0,t.length,s,"",i),j(t)}else{do{let{chunk:i,encoding:o,callback:a}=r[l];r[l++]=null,B(e,t,!1,s?1:i.length,i,o,a)}while(l<r.length&&!t.writing);l===r.length?j(t):l>256?(r.splice(0,l),t.bufferedIndex=0):t.bufferedIndex=l}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function V(e,t,r){H(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r){R(e,null!=i?i:S());return}if(r=!0,t.pendingcb--,i){let r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e](i);R(e,i,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,s.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,s.nextTick((e,t)=>{H(t)?G(e,t):t.pendingcb--},e,t)):H(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;let r=t[N].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}k.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},u(k.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),u(L,p,{__proto__:null,value:function(e){return!!l(this,e)||this===L&&e&&e._writableState instanceof k}}),L.prototype.pipe=function(){R(this,new x)},L.prototype.write=function(e,t,r){return!0===$(this,e,t,r)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||W(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=f(e)),!m.isEncoding(e))throw new A(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new E("_write()")},L.prototype._writev=null,L.prototype.end=function(e,t,r){let i;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=$(this,e,t);r instanceof a&&(i=r)}return o.corked&&(o.corked=1,this.uncork()),i||(o.errored||o.ending?o.finished?i=new O("end"):o.destroyed&&(i=new I("end")):(o.ending=!0,V(this,o,!0),o.ended=!0)),"function"==typeof r&&(i||o.finished?s.nextTick(r,i):o[N].push(r)),this},c(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let K=b.destroy;function J(){return void 0===i&&(i={}),i}L.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[N].length)&&s.nextTick(z,r),K.call(this,e,t),this},L.prototype._undestroy=b.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return J().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return J().newWritableStreamFromStreamWritable(e)}},83379:(e,t,r)=>{"use strict";let{ArrayIsArray:i,ArrayPrototypeIncludes:s,ArrayPrototypeJoin:o,ArrayPrototypeMap:a,NumberIsInteger:l,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:h,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:g,StringPrototypeToUpperCase:y,StringPrototypeTrim:m}=r(92755),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:D,ERR_UNKNOWN_SIGNAL:E}}=r(22331),{normalizeEncoding:S}=r(61054),{isAsyncFunction:x,isArrayBufferView:I}=r(61054).types,O={},C=/^[0-7]+$/,P=b((e,t,r=h,i=c)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!l(e))throw new D(t,"an integer",e);if(e<r||e>i)throw new D(t,`>= ${r} && <= ${i}`,e)}),A=b((e,t,r=-2147483648,i=2147483647)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!l(e))throw new D(t,"an integer",e);if(e<r||e>i)throw new D(t,`>= ${r} && <= ${i}`,e)}),R=b((e,t,r=!1)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!l(e))throw new D(t,"an integer",e);let i=r?1:0;if(e<i||e>4294967295)throw new D(t,`>= ${i} && <= 4294967295`,e)});function T(e,t){if("string"!=typeof e)throw new w(t,"string",e)}let N=b((e,t,r)=>{if(!s(r,e))throw new _(t,e,"must be one of: "+o(a(r,e=>"string"==typeof e?`'${e}'`:g(e)),", "))});function k(e,t){if("boolean"!=typeof e)throw new w(t,"boolean",e)}function j(e,t,r){return null!=e&&d(e,t)?e[t]:r}let L=b((e,t,r=null)=>{let s=j(r,"allowArray",!1),o=j(r,"allowFunction",!1);if(!j(r,"nullable",!1)&&null===e||!s&&i(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new w(t,"Object",e)}),$=b((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new w(t,"a dictionary",e)}),B=b((e,t,r=0)=>{if(!i(e))throw new w(t,"Array",e);if(e.length<r)throw new _(t,e,`must be longer than ${r}`)}),M=b((e,t="buffer")=>{if(!I(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}),q=b((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)}),U=b((e,t)=>{if("function"!=typeof e)throw new w(t,"Function",e)}),F=b((e,t)=>{if("function"!=typeof e||x(e))throw new w(t,"Function",e)}),z=b((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}),W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(e,t){if(void 0===e||!p(W,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===p(C,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=f(e,8)}return R(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)T(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)k(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++){let i=e[r],s=`${t}[${r}]`;if(null==i)throw new w(s,"AbortSignal",i);q(i,s)}},validateBoolean:k,validateBuffer:M,validateDictionary:$,validateEncoding:function(e,t){let r=S(t),i=e.length;if("hex"===r&&i%2!=0)throw new _("encoding",t,`is invalid for data of length ${i}`)},validateFunction:U,validateInt32:A,validateInteger:P,validateNumber:function(e,t,r,i){if("number"!=typeof e)throw new w(t,"number",e);if(null!=r&&e<r||null!=i&&e>i||(null!=r||null!=i)&&u(e))throw new D(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,e)},validateObject:L,validateOneOf:N,validatePlainFunction:F,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new v(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(T(e,t),void 0===O[e]){if(void 0!==O[y(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:T,validateUint32:R,validateUndefined:z,validateUnion:function(e,t,r){if(!s(r,e))throw new w(t,`('${o(r,"|")}')`,e)},validateAbortSignal:q,validateLinkHeaderValue:function(e){if("string"==typeof e)return H(e,"hints"),e;if(i(e)){let t=e.length,r="";if(0===t)return r;for(let i=0;i<t;i++){let s=e[i];H(s,"hints"),r+=s,i!==t-1&&(r+=", ")}return r}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},22331:(e,t,r)=>{"use strict";let{format:i,inspect:s}=r(46583),{AggregateError:o}=r(92755),a=globalThis.AggregateError||o,l=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,h={};function f(e,t){if(!e)throw new h.ERR_INTERNAL_ASSERTION(t)}function d(e){let t="",r=e.length,i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function p(e,t,r){r||(r=Error);class s extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return f(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let s=(t.match(/%[dfijoOs]/g)||[]).length;return(f(s===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${s}).`),0===r.length)?t:i(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(s.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),s.prototype.code=e,s.prototype[l]=!0,h[e]=s}function g(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class y extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new h.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(e,t,r)=>{f("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";let o=[],a=[],l=[];for(let e of t)f("string"==typeof e,"All expected entries have to be of type string"),u.includes(e)?o.push(e.toLowerCase()):c.test(e)?a.push(e):(f("object"!==e,'The value "object" should be written as "Object"'),l.push(e));if(a.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),a.push("Object"))}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();i+=`one of type ${o.join(", ")}, or ${e}`}}(a.length>0||l.length>0)&&(i+=" or ")}if(a.length>0){switch(a.length){case 1:i+=`an instance of ${a[0]}`;break;case 2:i+=`an instance of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();i+=`an instance of ${a.join(", ")}, or ${e}`}}l.length>0&&(i+=" or ")}switch(l.length){case 0:break;case 1:l[0].toLowerCase()!==l[0]&&(i+="an "),i+=`${l[0]}`;break;case 2:i+=`one of ${l[0]} or ${l[1]}`;break;default:{let e=l.pop();i+=`one of ${l.join(", ")}, or ${e}`}}if(null==r)i+=`. Received ${r}`;else if("function"==typeof r&&r.name)i+=`. Received function ${r.name}`;else if("object"==typeof r){var h;if(null!==(h=r.constructor)&&void 0!==h&&h.name)i+=`. Received an instance of ${r.constructor.name}`;else{let e=s(r,{depth:-1});i+=`. Received ${e}`}}else{let e=s(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof r} (${e})`}return i},TypeError),p("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let i=s(t);i.length>128&&(i=i.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${i}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var i;let s=null!=r&&null!==(i=r.constructor)&&void 0!==i&&i.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${s}.`},TypeError),p("ERR_MISSING_ARGS",(...e)=>{let t;f(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(e,t,r)=>{let i;if(f(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>4294967296)i=d(String(r));else if("bigint"==typeof r){i=String(r);let e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(i=d(i)),i+="n"}else i=s(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${i}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:y,aggregateTwoErrors:g(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:g,codes:h}},62071:(e,t,r)=>{"use strict";let i=r(12781);if(i&&"disable"===process.env.READABLE_STREAM){let t=i.promises;e.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,e.exports._isUint8Array=i._isUint8Array,e.exports.isDisturbed=i.isDisturbed,e.exports.isErrored=i.isErrored,e.exports.isReadable=i.isReadable,e.exports.Readable=i.Readable,e.exports.Writable=i.Writable,e.exports.Duplex=i.Duplex,e.exports.Transform=i.Transform,e.exports.PassThrough=i.PassThrough,e.exports.addAbortSignal=i.addAbortSignal,e.exports.finished=i.finished,e.exports.destroy=i.destroy,e.exports.pipeline=i.pipeline,e.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=i.Stream}else{let t=r(94527),i=r(15628),s=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=s,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=t.Stream}e.exports.default=e.exports},92755:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},61054:(e,t,r)=>{"use strict";let i=r(14300),{format:s,inspect:o}=r(46583),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(22331),{kResistStopPropagation:l,AggregateError:u,SymbolDispose:c}=r(92755),h=globalThis.AbortSignal||r(85069).AbortSignal,f=globalThis.AbortController||r(85069).AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||i.Blob,g=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)},y=(e,t)=>{if("function"!=typeof e)throw new a(t,"Function",e)};e.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...i)=>e?r(e):t(...i))}),debuglog:()=>function(){},format:s,inspect:o,types:{isAsyncFunction:e=>e instanceof d,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==p?function(e){return e instanceof p}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(82361).addAbortListener||function(e,t){let r;if(void 0===e)throw new a("signal","AbortSignal",e);return g(e,"signal"),y(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[l]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[c](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:h.any||function(e){if(1===e.length)return e[0];let t=new f,r=()=>t.abort();return e.forEach(e=>{g(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},46583:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let i=t.shift();if("f"===r)return i.toFixed(6);if("j"===r)return JSON.stringify(i);if("s"!==r||"object"!=typeof i)return i.toString();{let e=i.constructor!==Object?i.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},94527:(e,t,r)=>{"use strict";let{Buffer:i}=r(14300),{ObjectDefineProperty:s,ObjectKeys:o,ReflectApply:a}=r(92755),{promisify:{custom:l}}=r(61054),{streamReturningOperators:u,promiseReturningOperators:c}=r(75385),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=r(22331),f=r(33378),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=r(73810),{pipeline:g}=r(83212),{destroyer:y}=r(23975),m=r(22013),b=r(15628),v=r(63968),w=e.exports=r(69367).Stream;for(let e of(w.isDestroyed=v.isDestroyed,w.isDisturbed=v.isDisturbed,w.isErrored=v.isErrored,w.isReadable=v.isReadable,w.isWritable=v.isWritable,w.Readable=r(97210),o(u))){let t=u[e];function _(...e){if(new.target)throw h();return w.Readable.from(a(t,this,e))}s(_,"name",{__proto__:null,value:t.name}),s(_,"length",{__proto__:null,value:t.length}),s(w.Readable.prototype,e,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(c)){let t=c[e];function D(...e){if(new.target)throw h();return a(t,this,e)}s(D,"name",{__proto__:null,value:t.name}),s(D,"length",{__proto__:null,value:t.length}),s(w.Readable.prototype,e,{__proto__:null,value:D,enumerable:!1,configurable:!0,writable:!0})}w.Writable=r(44652),w.Duplex=r(3832),w.Transform=r(5466),w.PassThrough=r(31333),w.pipeline=g;let{addAbortSignal:E}=r(45819);w.addAbortSignal=E,w.finished=m,w.destroy=y,w.compose=f,w.setDefaultHighWaterMark=d,w.getDefaultHighWaterMark=p,s(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>b}),s(g,l,{__proto__:null,enumerable:!0,get:()=>b.pipeline}),s(m,l,{__proto__:null,enumerable:!0,get:()=>b.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return i.from(e.buffer,e.byteOffset,e.byteLength)}},15628:(e,t,r)=>{"use strict";let{ArrayPrototypePop:i,Promise:s}=r(92755),{isIterable:o,isNodeStream:a,isWebStream:l}=r(63968),{pipelineImpl:u}=r(83212),{finished:c}=r(22013);r(94527),e.exports={finished:c,pipeline:function(...e){return new s((t,r)=>{let s,c;let h=e[e.length-1];if(h&&"object"==typeof h&&!a(h)&&!o(h)&&!l(h)){let t=i(e);s=t.signal,c=t.end}u(e,(e,i)=>{e?r(e):t(i)},{signal:s,end:c})})}}},5299:(e,t,r)=>{"use strict";/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=r(14300),s=i.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return s(e,t,r)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=a),a.prototype=Object.create(s.prototype),o(s,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return s(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var i=s(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return s(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i.SlowBuffer(e)}},47769:(e,t)=>{"use strict";let{hasOwnProperty:r}=Object.prototype,i=d();i.configure=d,i.stringify=i,i.default=i,t.stringify=i,t.configure=d,e.exports=i;let s=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function o(e){return e.length<5e3&&!s.test(e)?`"${e}"`:JSON.stringify(e)}function a(e,t){if(e.length>200||t)return e.sort(t);for(let t=1;t<e.length;t++){let r=e[t],i=t;for(;0!==i&&e[i-1]>r;)e[i]=e[i-1],i--;e[i]=r}return e}let l=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function u(e){return void 0!==l.call(e)&&0!==e.length}function c(e,t,r){e.length<r&&(r=e.length);let i=","===t?"":" ",s=`"0":${i}${e[0]}`;for(let o=1;o<r;o++)s+=`${t}"${o}":${i}${e[o]}`;return s}function h(e,t){let i;if(r.call(e,t)){if("number"!=typeof(i=e[t]))throw TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(i))throw TypeError(`The "${t}" argument must be an integer`);if(i<1)throw RangeError(`The "${t}" argument must be >= 1`)}return void 0===i?1/0:i}function f(e){return 1===e?"1 item":`${e} items`}function d(e){let t=function(e){if(r.call(e,"strict")){let t=e.strict;if("boolean"!=typeof t)throw TypeError('The "strict" argument must be of type boolean');if(t)return e=>{let t=`Object can not safely be stringified. Received type ${typeof e}`;throw"function"!=typeof e&&(t+=` (${e.toString()})`),Error(t)}}}(e={...e});!t||(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let i=function(e){if(r.call(e,"circularValue")){let t=e.circularValue;if("string"==typeof t)return`"${t}"`;if(null==t)return t;if(t===Error||t===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}(e),s=function(e,t){let i;if(r.call(e,t)&&"boolean"!=typeof(i=e[t]))throw TypeError(`The "${t}" argument must be of type boolean`);return void 0===i||i}(e,"bigint"),l=function(e){let t;if(r.call(e,"deterministic")&&"boolean"!=typeof(t=e.deterministic)&&"function"!=typeof t)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===t||t}(e),d="function"==typeof l?l:void 0,p=h(e,"maximumDepth"),g=h(e,"maximumBreadth");return function(e,r,h){if(arguments.length>1){let y="";if("number"==typeof h?y=" ".repeat(Math.min(h,10)):"string"==typeof h&&(y=h.slice(0,10)),null!=r){if("function"==typeof r)return function e(r,c,h,y,m,b){let v=c[r];switch("object"==typeof v&&null!==v&&"function"==typeof v.toJSON&&(v=v.toJSON(r)),typeof(v=y.call(c,r,v))){case"string":return o(v);case"object":{if(null===v)return"null";if(-1!==h.indexOf(v))return i;let t="",r=",",s=b;if(Array.isArray(v)){if(0===v.length)return"[]";if(p<h.length+1)return'"[Array]"';h.push(v),""!==m&&(b+=m,t+=`
${b}`,r=`,
${b}`);let i=Math.min(v.length,g),o=0;for(;o<i-1;o++){let i=e(String(o),v,h,y,m,b);t+=(void 0!==i?i:"null")+r}let a=e(String(o),v,h,y,m,b);if(t+=void 0!==a?a:"null",v.length-1>g){let e=v.length-g-1;t+=`${r}"... ${f(e)} not stringified"`}return""!==m&&(t+=`
${s}`),h.pop(),`[${t}]`}let c=Object.keys(v),w=c.length;if(0===w)return"{}";if(p<h.length+1)return'"[Object]"';let _="",D="";""!==m&&(b+=m,r=`,
${b}`,_=" ");let E=Math.min(w,g);l&&!u(v)&&(c=a(c,d)),h.push(v);for(let i=0;i<E;i++){let s=c[i],a=e(s,v,h,y,m,b);void 0!==a&&(t+=`${D}${o(s)}:${_}${a}`,D=r)}return w>g&&(t+=`${D}"...":${_}"${f(w-g)} not stringified"`,D=r),""!==m&&D.length>1&&(t=`
${b}${t}
${s}`),h.pop(),`{${t}}`}case"number":return isFinite(v)?String(v):t?t(v):"null";case"boolean":return!0===v?"true":"false";case"undefined":return;case"bigint":if(s)return String(v);default:return t?t(v):void 0}}("",{"":e},[],r,y,"");if(Array.isArray(r))return function e(r,a,l,u,c,h){switch("object"==typeof a&&null!==a&&"function"==typeof a.toJSON&&(a=a.toJSON(r)),typeof a){case"string":return o(a);case"object":{if(null===a)return"null";if(-1!==l.indexOf(a))return i;let t=h,r="",s=",";if(Array.isArray(a)){if(0===a.length)return"[]";if(p<l.length+1)return'"[Array]"';l.push(a),""!==c&&(h+=c,r+=`
${h}`,s=`,
${h}`);let i=Math.min(a.length,g),o=0;for(;o<i-1;o++){let t=e(String(o),a[o],l,u,c,h);r+=(void 0!==t?t:"null")+s}let d=e(String(o),a[o],l,u,c,h);if(r+=void 0!==d?d:"null",a.length-1>g){let e=a.length-g-1;r+=`${s}"... ${f(e)} not stringified"`}return""!==c&&(r+=`
${t}`),l.pop(),`[${r}]`}l.push(a);let d="";""!==c&&(h+=c,s=`,
${h}`,d=" ");let y="";for(let t of u){let i=e(t,a[t],l,u,c,h);void 0!==i&&(r+=`${y}${o(t)}:${d}${i}`,y=s)}return""!==c&&y.length>1&&(r=`
${h}${r}
${t}`),l.pop(),`{${r}}`}case"number":return isFinite(a)?String(a):t?t(a):"null";case"boolean":return!0===a?"true":"false";case"undefined":return;case"bigint":if(s)return String(a);default:return t?t(a):void 0}}("",e,[],function(e){let t=new Set;for(let r of e)("string"==typeof r||"number"==typeof r)&&t.add(String(r));return t}(r),y,"")}if(0!==y.length)return function e(r,h,y,m,b){switch(typeof h){case"string":return o(h);case"object":{if(null===h)return"null";if("function"==typeof h.toJSON){if("object"!=typeof(h=h.toJSON(r)))return e(r,h,y,m,b);if(null===h)return"null"}if(-1!==y.indexOf(h))return i;let t=b;if(Array.isArray(h)){if(0===h.length)return"[]";if(p<y.length+1)return'"[Array]"';y.push(h),b+=m;let r=`
${b}`,i=`,
${b}`,s=Math.min(h.length,g),o=0;for(;o<s-1;o++){let t=e(String(o),h[o],y,m,b);r+=(void 0!==t?t:"null")+i}let a=e(String(o),h[o],y,m,b);if(r+=void 0!==a?a:"null",h.length-1>g){let e=h.length-g-1;r+=`${i}"... ${f(e)} not stringified"`}return r+=`
${t}`,y.pop(),`[${r}]`}let s=Object.keys(h),v=s.length;if(0===v)return"{}";if(p<y.length+1)return'"[Object]"';b+=m;let w=`,
${b}`,_="",D="",E=Math.min(v,g);u(h)&&(_+=c(h,w,g),s=s.slice(h.length),E-=h.length,D=w),l&&(s=a(s,d)),y.push(h);for(let t=0;t<E;t++){let r=s[t],i=e(r,h[r],y,m,b);void 0!==i&&(_+=`${D}${o(r)}: ${i}`,D=w)}return v>g&&(_+=`${D}"...": "${f(v-g)} not stringified"`,D=w),""!==D&&(_=`
${b}${_}
${t}`),y.pop(),`{${_}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return!0===h?"true":"false";case"undefined":return;case"bigint":if(s)return String(h);default:return t?t(h):void 0}}("",e,[],y,"")}return function e(r,h,y){switch(typeof h){case"string":return o(h);case"object":{if(null===h)return"null";if("function"==typeof h.toJSON){if("object"!=typeof(h=h.toJSON(r)))return e(r,h,y);if(null===h)return"null"}if(-1!==y.indexOf(h))return i;let t="",s=void 0!==h.length;if(s&&Array.isArray(h)){if(0===h.length)return"[]";if(p<y.length+1)return'"[Array]"';y.push(h);let r=Math.min(h.length,g),i=0;for(;i<r-1;i++){let r=e(String(i),h[i],y);t+=(void 0!==r?r:"null")+","}let s=e(String(i),h[i],y);if(t+=void 0!==s?s:"null",h.length-1>g){let e=h.length-g-1;t+=`,"... ${f(e)} not stringified"`}return y.pop(),`[${t}]`}let m=Object.keys(h),b=m.length;if(0===b)return"{}";if(p<y.length+1)return'"[Object]"';let v="",w=Math.min(b,g);s&&u(h)&&(t+=c(h,",",g),m=m.slice(h.length),w-=h.length,v=","),l&&(m=a(m,d)),y.push(h);for(let r=0;r<w;r++){let i=m[r],s=e(i,h[i],y);void 0!==s&&(t+=`${v}${o(i)}:${s}`,v=",")}return b>g&&(t+=`${v}"...":"${f(b-g)} not stringified"`),y.pop(),`{${t}}`}case"number":return isFinite(h)?String(h):t?t(h):"null";case"boolean":return!0===h?"true":"false";case"undefined":return;case"bigint":if(s)return String(h);default:return t?t(h):void 0}}("",e,[])}}},16437:e=>{"use strict";let t="undefined"!=typeof Buffer,r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function s(e,s,a){null==a&&null!==s&&"object"==typeof s&&(a=s,s=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let l=JSON.parse(e,s);if(null===l||"object"!=typeof l)return l;let u=a&&a.protoAction||"error",c=a&&a.constructorAction||"error";if("ignore"===u&&"ignore"===c)return l;if("ignore"!==u&&"ignore"!==c){if(!1===r.test(e)&&!1===i.test(e))return l}else if("ignore"!==u&&"ignore"===c){if(!1===r.test(e))return l}else if(!1===i.test(e))return l;return o(l,{protoAction:u,constructorAction:c,safe:a&&a.safe})}function o(e,{protoAction:t="error",constructorAction:r="error",safe:i}={}){let s=[e];for(;s.length;){let e=s;for(let o of(s=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(!0===i)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(!0===i)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let e in o){let t=o[e];t&&"object"==typeof t&&s.push(t)}}}return e}function a(e,t,r){let i=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,r)}finally{Error.stackTraceLimit=i}}e.exports=a,e.exports.default=a,e.exports.parse=a,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return s(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=o},39654:(e,t,r)=>{"use strict";let{Transform:i}=r(12781),{StringDecoder:s}=r(71576),o=Symbol("last"),a=Symbol("decoder");function l(e,t,r){let i;if(this.overflow){if(1===(i=this[a].write(e).split(this.matcher)).length)return r();i.shift(),this.overflow=!1}else this[o]+=this[a].write(e),i=this[o].split(this.matcher);this[o]=i.pop();for(let e=0;e<i.length;e++)try{c(this,this.mapper(i[e]))}catch(e){return r(e)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){r(Error("maximum buffer reached"));return}r()}function u(e){if(this[o]+=this[a].end(),this[o])try{c(this,this.mapper(this[o]))}catch(t){return e(t)}e()}function c(e,t){void 0!==t&&e.push(t)}function h(e){return e}e.exports=function(e,t,r){switch(e=e||/\r?\n/,t=t||h,r=r||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(r=e,e=/\r?\n/);break;case 2:"function"==typeof e?(r=t,t=e,e=/\r?\n/):"object"==typeof t&&(r=t,t=h)}(r=Object.assign({},r)).autoDestroy=!0,r.transform=l,r.flush=u,r.readableObjectMode=!0;let c=new i(r);return c[o]="",c[a]=new s("utf8"),c.matcher=e,c.mapper=t,c.maxLength=r.maxLength,c.skipOverflow=r.skipOverflow||!1,c.overflow=!1,c._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},c}},52447:(e,t,r)=>{"use strict";var i=r(5299).Buffer,s=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===s||!s(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=h,this.end=f,t=3;break;default:this.write=d,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function h(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var s=a(t[i]);return s>=0?(s>0&&(e.lastNeed=s-1),s):--i<r||-2===s?0:(s=a(t[i]))>=0?(s>0&&(e.lastNeed=s-2),s):--i<r||-2===s?0:(s=a(t[i]))>=0?(s>0&&(2===s?s=0:e.lastNeed=s-3),s):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4995:(e,t,r)=>{"use strict";function i(e,t){return t=t||{},new Promise(function(r,i){var s=new XMLHttpRequest,o=[],a=[],l={},u=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return l[e.toLowerCase()]},has:function(e){return e.toLowerCase() in l}}}};for(var c in s.open(t.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,r){o.push(t=t.toLowerCase()),a.push([t,r]),l[t]=l[t]?l[t]+","+r:r}),r(u())},s.onerror=i,s.withCredentials="include"==t.credentials,t.headers)s.setRequestHeader(c,t.headers[c]);s.send(t.body||null)})}r.r(t),r.d(t,{default:()=>i})},79850:e=>{"use strict";e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){i[e]=t[e]}),i;function i(){for(var e=Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),s=e[e.length-1];return"function"==typeof i&&i!==s&&Object.keys(s).forEach(function(e){i[e]=s[e]}),i}}},55584:(e,t,r)=>{"use strict";let i=r(34639),s=r(99894),o=r(6446);e.exports={err:i,mapHttpRequest:s.mapHttpRequest,mapHttpResponse:o.mapHttpResponse,req:s.reqSerializer,res:o.resSerializer,wrapErrorSerializer:function(e){return e===i?e:function(t){return e(i(t))}},wrapRequestSerializer:function(e){return e===s.reqSerializer?e:function(t){return e(s.reqSerializer(t))}},wrapResponseSerializer:function(e){return e===o.resSerializer?e:function(t){return e(o.resSerializer(t))}}}},34639:e=>{"use strict";e.exports=function e(i){if(!(i instanceof Error))return i;i[r]=void 0;let o=Object.create(s);for(let s in o.type="[object Function]"===t.call(i.constructor)?i.constructor.name:i.name,o.message=i.message,o.stack=i.stack,i)if(void 0===o[s]){let t=i[s];t instanceof Error?t.hasOwnProperty(r)||(o[s]=e(t)):o[s]=t}return delete i[r],o.raw=i,o};let{toString:t}=Object.prototype,r=Symbol("circular-ref-tag"),i=Symbol("pino-raw-err-ref"),s=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[i]},set:function(e){this[i]=e}}});Object.defineProperty(s,i,{writable:!0,value:{}})},99894:e=>{"use strict";e.exports={mapHttpRequest:function(e){return{req:i(e)}},reqSerializer:i};let t=Symbol("pino-raw-req-ref"),r=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[t]},set:function(e){this[t]=e}}});function i(e){let t=e.info||e.socket,i=Object.create(r);return i.id="function"==typeof e.id?e.id():e.id||(e.info?e.info.id:void 0),i.method=e.method,e.originalUrl?(i.url=e.originalUrl,i.query=e.query,i.params=e.params):i.url=e.path||(e.url?e.url.path||e.url:void 0),i.headers=e.headers,i.remoteAddress=t&&t.remoteAddress,i.remotePort=t&&t.remotePort,i.raw=e.raw||e,i}Object.defineProperty(r,t,{writable:!0,value:{}})},6446:e=>{"use strict";e.exports={mapHttpResponse:function(e){return{res:i(e)}},resSerializer:i};let t=Symbol("pino-raw-res-ref"),r=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[t]},set:function(e){this[t]=e}}});function i(e){let t=Object.create(r);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}Object.defineProperty(r,t,{writable:!0,value:{}})},13157:e=>{"use strict";function t(e,t){return t}e.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=t;let r=Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(r))return;let i=r.slice(2),s=[];for(let e of i)e&&s.push(e.getFileName());return s}},52148:(e,t,r)=>{"use strict";let i=r(28179)();e.exports=i;let s="PinoWarning";i.create(s,"PINODEP008","prettyPrint is deprecated, look at https://github.com/pinojs/pino-pretty for alternatives."),i.create(s,"PINODEP009","The use of pino.final is discouraged in Node.js v14+ and not required. It will be removed in the next major version")},44261:(e,t,r)=>{"use strict";let{lsCacheSym:i,levelValSym:s,useOnlyCustomLevelsSym:o,streamSym:a,formattersSym:l,hooksSym:u}=r(75488),{noop:c,genLog:h}=r(11629),f={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},d={fatal:e=>{let t=h(f.fatal,e);return function(...e){let r=this[a];if(t.call(this,...e),"function"==typeof r.flushSync)try{r.flushSync()}catch(e){}}},error:e=>h(f.error,e),warn:e=>h(f.warn,e),info:e=>h(f.info,e),debug:e=>h(f.debug,e),trace:e=>h(f.trace,e)},p=Object.keys(f).reduce((e,t)=>(e[f[t]]=t,e),{}),g=Object.keys(p).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});e.exports={initialLsCache:g,genLsCache:function(e){let t=e[l].level,{labels:r}=e.levels,s={};for(let e in r){let i=t(r[e],Number(e));s[e]=JSON.stringify(i).slice(0,-1)}return e[i]=s,e},levelMethods:d,getLevel:function(e){let{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""},setLevel:function(e){let{labels:t,values:r}=this.levels;if("number"==typeof e){if(void 0===t[e])throw Error("unknown level value"+e);e=t[e]}if(void 0===r[e])throw Error("unknown level "+e);let i=this[s],a=this[s]=r[e],l=this[o],f=this[u].logMethod;for(let e in r){if(a>r[e]){this[e]=c;continue}this[e]=!function(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}(e,l)?h(r[e],f):d[e](f)}this.emit("level-change",e,a,t[i],i)},isLevelEnabled:function(e){let{values:t}=this.levels,r=t[e];return void 0!==r&&r>=this[s]},mappings:function(e=null,t=!1){let r=e?Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:p,r),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:f,e)}},levels:f,assertNoLevelCollisions:function(e,t){let{labels:r,values:i}=e;for(let e in t){if(e in i)throw Error("levels cannot be overridden");if(t[e]in r)throw Error("pre-existing level values cannot be used for new levels")}},assertDefaultLevelFound:function(e,t,r){if("number"==typeof e){if(![].concat(Object.keys(t||{}).map(e=>t[e]),r?[]:Object.keys(p).map(e=>+e),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}if(!(e in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:f,t)))throw Error(`default level:${e} must be included in custom levels`)}}},47667:(e,t,r)=>{"use strict";let{version:i}=r(40930);e.exports={version:i}},58559:(e,t,r)=>{"use strict";let i=Symbol.for("pino.metadata"),{levels:s}=r(44261),o=Object.create(s);o.silent=1/0;let a=s.info;function l(e,t){return e.level-t.level}e.exports=function(e,t){let r=0;e=e||[];let s=o;(t=t||{dedupe:!1}).levels&&"object"==typeof t.levels&&(s=t.levels);let u={write:c,add:f,flushSync:h,end:function(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync(),e.end()},minLevel:0,streams:[],clone:function e(t){let r=Array(this.streams.length);for(let e=0;e<r.length;e++)r[e]={level:t,stream:this.streams[e].stream};return{write:c,add:f,minLevel:t,streams:r,clone:e,flushSync:h,[i]:!0}},[i]:!0};return Array.isArray(e)?e.forEach(f,u):f.call(u,e),e=null,u;function c(e){let r,s;let o=this.lastLevel,{streams:a}=this;for(let l=0;l<a.length;l++)if((r=a[l]).level<=o){if((s=r.stream)[i]){let{lastTime:e,lastMsg:t,lastObj:r,lastLogger:i}=this;s.lastLevel=o,s.lastTime=e,s.lastMsg=t,s.lastObj=r,s.lastLogger=i}t.dedupe&&r.level!==o||s.write(e)}else break}function h(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync()}function f(e){if(!e)return u;let t="function"==typeof e.write||e.stream,i=e.write?e:e.stream;if(!t)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:o}=this,c={stream:i,level:"number"==typeof e.levelVal?e.levelVal:"string"==typeof e.level?s[e.level]:"number"==typeof e.level?e.level:a,levelVal:void 0,id:r++};return o.unshift(c),o.sort(l),this.minLevel=o[0].level,u}}},13759:(e,t,r)=>{"use strict";let{EventEmitter:i}=r(82361),{lsCacheSym:s,levelValSym:o,setLevelSym:a,getLevelSym:l,chindingsSym:u,parsedChindingsSym:c,mixinSym:h,asJsonSym:f,writeSym:d,mixinMergeStrategySym:p,timeSym:g,timeSliceIndexSym:y,streamSym:m,serializersSym:b,formattersSym:v,useOnlyCustomLevelsSym:w,needsMetadataGsym:_,redactFmtSym:D,stringifySym:E,formatOptsSym:S,stringifiersSym:x}=r(75488),{getLevel:I,setLevel:O,isLevelEnabled:C,mappings:P,initialLsCache:A,genLsCache:R,assertNoLevelCollisions:T}=r(44261),{asChindings:N,asJson:k,buildFormatters:j,stringify:L}=r(11629),{version:$}=r(47667),B=r(5408),M={constructor:class{},child:function(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let r=this[b],i=this[v],s=Object.create(this);if(!0===t.hasOwnProperty("serializers")){for(let e in s[b]=Object.create(null),r)s[b][e]=r[e];let e=Object.getOwnPropertySymbols(r);for(var o=0;o<e.length;o++){let t=e[o];s[b][t]=r[t]}for(let e in t.serializers)s[b][e]=t.serializers[e];let i=Object.getOwnPropertySymbols(t.serializers);for(var l=0;l<i.length;l++){let e=i[l];s[b][e]=t.serializers[e]}}else s[b]=r;if(t.hasOwnProperty("formatters")){let{level:e,bindings:r,log:o}=t.formatters;s[v]=j(e||i.level,r||q,o||i.log)}else s[v]=j(i.level,q,i.log);if(!0===t.hasOwnProperty("customLevels")&&(T(this.levels,t.customLevels),s.levels=P(t.customLevels,s[w]),R(s)),"object"==typeof t.redact&&null!==t.redact||Array.isArray(t.redact)){s.redact=t.redact;let e=B(s.redact,L),r={stringify:e[D]};s[E]=L,s[x]=e,s[S]=r}s[u]=N(s,e);let c=t.level||this.level;return s[a](c),s},bindings:function(){let e=this[u],t=JSON.parse(`{${e.substr(1)}}`);return delete t.pid,delete t.hostname,t},setBindings:function(e){let t=N(this,e);this[u]=t,delete this[c]},flush:function(){let e=this[m];"flush"in e&&e.flush(F)},isLevelEnabled:C,version:$,get level(){return this[l]()},set level(lvl){this[a](lvl)},get levelVal(){return this[o]},set levelVal(n){throw Error("levelVal is read-only")},[s]:A,[d]:function(e,t,r){let i;let s=this[g](),o=this[h],a=this[p]||U;null==e?i={}:e instanceof Error?(i={err:e},void 0===t&&(t=e.message)):(i=e,void 0===t&&e.err&&(t=e.err.message)),o&&(i=a(i,o(i,r)));let l=this[f](i,t,r,s),u=this[m];!0===u[_]&&(u.lastLevel=r,u.lastObj=i,u.lastMsg=t,u.lastTime=s.slice(this[y]),u.lastLogger=this),u.write(l)},[f]:k,[l]:I,[a]:O};Object.setPrototypeOf(M,i.prototype),e.exports=function(){return Object.create(M)};let q=e=>e;function U(e,t){return Object.assign(t,e)}function F(){}},5408:(e,t,r)=>{"use strict";let i=r(13223),{redactFmtSym:s,wildcardFirstSym:o}=r(75488),{rx:a,validator:l}=i,u=l({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:e=>`pino – redact paths array contains an invalid path (${e})`}),c="[Redacted]";e.exports=function(e,t){let{paths:r,censor:l}=function(e){if(Array.isArray(e))return u(e={paths:e,censor:c}),e;let{paths:t,censor:r=c,remove:i}=e;if(!1===Array.isArray(t))throw Error("pino – redact must contain an array of strings");return!0===i&&(r=void 0),u({paths:t,censor:r}),{paths:t,censor:r}}(e),h=r.reduce((e,t)=>{a.lastIndex=0;let r=a.exec(t),i=a.exec(t),s=void 0!==r[1]?r[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):r[0];if("*"===s&&(s=o),null===i)return e[s]=null,e;if(null===e[s])return e;let{index:l}=i,u=`${t.substr(l,t.length-1)}`;return e[s]=e[s]||[],s!==o&&0===e[s].length&&e[s].push(...e[o]||[]),s===o&&Object.keys(e).forEach(function(t){e[t]&&e[t].push(u)}),e[s].push(u),e},{}),f={[s]:i({paths:r,censor:l,serialize:t,strict:!1})},d=(...e)=>"function"==typeof l?t(l(...e)):t(l);return[...Object.keys(h),...Object.getOwnPropertySymbols(h)].reduce((e,r)=>{if(null===h[r])e[r]=e=>d(e,[r]);else{let s="function"==typeof l?(e,t)=>l(e,[r,...t]):l;e[r]=i({paths:h[r],censor:s,serialize:t,strict:!1})}return e},f)}},75488:e=>{"use strict";let t=Symbol("pino.setLevel"),r=Symbol("pino.getLevel"),i=Symbol("pino.levelVal"),s=Symbol("pino.useLevelLabels"),o=Symbol("pino.useOnlyCustomLevels"),a=Symbol("pino.mixin"),l=Symbol("pino.lsCache"),u=Symbol("pino.chindings"),c=Symbol("pino.parsedChindings"),h=Symbol("pino.asJson"),f=Symbol("pino.write"),d=Symbol("pino.redactFmt"),p=Symbol("pino.time"),g=Symbol("pino.timeSliceIndex"),y=Symbol("pino.stream"),m=Symbol("pino.stringify"),b=Symbol("pino.stringifySafe"),v=Symbol("pino.stringifiers"),w=Symbol("pino.end"),_=Symbol("pino.formatOpts"),D=Symbol("pino.messageKey"),E=Symbol("pino.nestedKey"),S=Symbol("pino.nestedKeyStr"),x=Symbol("pino.mixinMergeStrategy"),I=Symbol("pino.wildcardFirst"),O=Symbol.for("pino.serializers"),C=Symbol.for("pino.formatters"),P=Symbol.for("pino.hooks"),A=Symbol.for("pino.metadata");e.exports={setLevelSym:t,getLevelSym:r,levelValSym:i,useLevelLabelsSym:s,mixinSym:a,lsCacheSym:l,chindingsSym:u,parsedChindingsSym:c,asJsonSym:h,writeSym:f,serializersSym:O,redactFmtSym:d,timeSym:p,timeSliceIndexSym:g,streamSym:y,stringifySym:m,stringifySafeSym:b,stringifiersSym:v,endSym:w,formatOptsSym:_,messageKeySym:D,nestedKeySym:E,wildcardFirstSym:I,needsMetadataGsym:A,useOnlyCustomLevelsSym:o,formattersSym:C,hooksSym:P,nestedKeyStrSym:S,mixinMergeStrategySym:x}},92938:e=>{"use strict";e.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},11629:(e,t,r)=>{"use strict";let i=r(59630),{mapHttpRequest:s,mapHttpResponse:o}=r(55584),a=r(72240),l=r(52148),{lsCacheSym:u,chindingsSym:c,parsedChindingsSym:h,writeSym:f,serializersSym:d,formatOptsSym:p,endSym:g,stringifiersSym:y,stringifySym:m,stringifySafeSym:b,wildcardFirstSym:v,needsMetadataGsym:w,redactFmtSym:_,streamSym:D,nestedKeySym:E,formattersSym:S,messageKeySym:x,nestedKeyStrSym:I}=r(75488),{isMainThread:O}=r(71267),C=r(13593);function P(){}function A(e){let t="",r=0,i=!1,s=255,o=e.length;if(o>100)return JSON.stringify(e);for(var a=0;a<o&&s>=32;a++)(34===(s=e.charCodeAt(a))||92===s)&&(t+=e.slice(r,a)+"\\",r=a,i=!0);return i?t+=e.slice(r):t=e,s<32?JSON.stringify(e):'"'+t+'"'}function R(e,t,i,s){if(t&&"function"==typeof t)return T((t=t.bind(s))(e),i,e);try{let t=r(32703).prettyFactory;return t.asMetaWrapper=T,T(t(e),i,e)}catch(e){if(e.message.startsWith("Cannot find module 'pino-pretty'"))throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately");throw e}}function T(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);let i=!1;return{[w]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||i||(i=!0,j(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){let e=this.lastLogger,t=null;return e?(e.hasOwnProperty(h)?t=e[h]:(t=JSON.parse("{"+e[c].substr(1)+"}"),e[h]=t),t):null},write(r){let i=this.lastLogger,s=this.chindings(),o=this.lastTime;"number"==typeof o||(o=o.match(/^\d+/)?parseInt(o):o.slice(1,-1));let a=this.lastObj,l=this.lastMsg,u=i[S],c=u.log?u.log(a):a,h=i[x];l&&c&&!Object.prototype.hasOwnProperty.call(c,h)&&(c[h]=l);let f=Object.assign({level:this.lastLevel,time:o},c,null),p=i[d],g=Object.keys(p);for(var m=0;m<g.length;m++){let e=g[m];void 0!==f[e]&&(f[e]=p[e](f[e]))}for(let e in s)f.hasOwnProperty(e)||(f[e]=s[e]);let b=i[y][_],v=e("function"==typeof b?b(f):f);void 0!==v&&(j(t,this),t.write(v))}}}function N(e){let t=new a(e);return t.on("error",function e(r){if("EPIPE"===r.code){t.write=P,t.end=P,t.flushSync=P,t.destroy=P;return}t.removeListener("error",e),t.emit("error",r)}),!e.sync&&O&&function(e){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let t=r(91429);t.register(e,k),e.on("close",function(){t.unregister(e)})}}(t),t}function k(e,t){e.destroyed||("beforeExit"===t?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function j(e,t){!0===e[w]&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}e.exports={noop:P,buildSafeSonicBoom:N,getPrettyStream:R,asChindings:function(e,t){let r;let i=e[c],s=e[m],o=e[b],a=e[y],l=a[v],u=e[d];for(let c in t=(0,e[S].bindings)(t))if(r=t[c],!0===("level"!==c&&"serializers"!==c&&"formatters"!==c&&"customLevels"!==c&&t.hasOwnProperty(c)&&void 0!==r)){if(r=u[c]?u[c](r):r,void 0===(r=(a[c]||l||s)(r,o)))continue;i+=',"'+c+'":'+r}return i},asJson:function(e,t,r,i){let s;let o=this[m],a=this[b],l=this[y],h=this[g],f=this[c],p=this[d],w=this[S],_=this[x],D=this[u][r]+i;D+=f,w.log&&(e=w.log(e));let O=l[v],C="";for(let t in e)if(s=e[t],Object.prototype.hasOwnProperty.call(e,t)&&void 0!==s){s=p[t]?p[t](s):s;let e=l[t]||O;switch(typeof s){case"undefined":case"function":continue;case"number":!1===Number.isFinite(s)&&(s=null);case"boolean":e&&(s=e(s));break;case"string":s=(e||A)(s);break;default:s=(e||o)(s,a)}if(void 0===s)continue;C+=',"'+t+'":'+s}let P="";if(void 0!==t){s=p[_]?p[_](t):t;let e=l[_]||O;switch(typeof s){case"function":break;case"number":!1===Number.isFinite(s)&&(s=null);case"boolean":e&&(s=e(s)),P=',"'+_+'":'+s;break;case"string":P=',"'+_+'":'+(s=(e||A)(s));break;default:P=',"'+_+'":'+(s=(e||o)(s,a))}}return this[E]&&C?D+this[I]+C.slice(1)+"}"+P+h:D+C+P+h},genLog:function(e,t){if(!t)return r;return function(...i){t.call(this,i,r,e)};function r(t,...a){if("object"==typeof t){let r,l=t;null!==t&&(t.method&&t.headers&&t.socket?t=s(t):"function"==typeof t.setHeader&&(t=o(t))),null===l&&0===a.length?r=[null]:(l=a.shift(),r=a),this[f](t,i(l,r,this[p]),e)}else this[f](null,i(t,a,this[p]),e)}},createArgsNormalizer:function(e){return function(t,r,i={},s){var o;if("string"==typeof i)s=N({dest:i,sync:!0}),i={};else if("string"==typeof s){if(i&&i.transport)throw Error("only one of option.transport or stream can be specified");s=N({dest:s,sync:!0})}else if(i instanceof a||i.writable||i._writableState)s=i,i={};else if(i.transport){let e;if(i.transport instanceof a||i.transport.writable||i.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(i.transport.targets&&i.transport.targets.length&&i.formatters&&"function"==typeof i.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");i.customLevels&&(e=i.useOnlyCustomLevels?i.customLevels:Object.assign({},i.levels,i.customLevels)),s=C({caller:r,...i.transport,levels:e})}if((i=Object.assign({},e,i)).serializers=Object.assign({},e.serializers,i.serializers),i.formatters=Object.assign({},e.formatters,i.formatters),"onTerminated"in i)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in i&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),i.levelKey=i.changeLevelName,delete i.changeLevelName);let{enabled:u,prettyPrint:c,prettifier:h,messageKey:f}=i;return!1===u&&(i.level="silent"),(s=s||process.stdout)===process.stdout&&s.fd>=0&&!((o=s).write!==o.constructor.prototype.write)&&(s=N({fd:s.fd,sync:!0})),c&&(l.emit("PINODEP008"),s=R(Object.assign({messageKey:f},c),h,s,t)),{opts:i,stream:s}}},final:function(e,t){if(Number(process.versions.node.split(".")[0])>=14&&l.emit("PINODEP009"),void 0===e||"function"!=typeof e.child)throw Error("expected a pino logger instance");let r=void 0!==t;if(r&&"function"!=typeof t)throw Error("if supplied, the handler parameter should be a function");let i=e[D];if("function"!=typeof i.flushSync)throw Error("final requires a stream that has a flushSync method, such as pino.destination");let s=new Proxy(e,{get:(e,t)=>t in e.levels.values?(...r)=>{e[t](...r),i.flushSync()}:e[t]});if(!r){try{i.flushSync()}catch{}return s}return(e=null,...r)=>{try{i.flushSync()}catch(e){}return t(e,s,...r)}},stringify:function(e,t){try{return JSON.stringify(e)}catch(r){try{return(t||this[b])(e)}catch(e){return'"[unable to serialize, circular reference is too complex to analyze]"'}}},buildFormatters:function(e,t,r){return{level:e,bindings:t,log:r}},normalizeDestFileDescriptor:function(e){let t=Number(e);return"string"==typeof e&&Number.isFinite(t)?t:e}}},13593:(e,t,r)=>{"use strict";let i;let{createRequire:s}=r(98188),o=r(13157),{join:a,isAbsolute:l}=r(71017),u=r(58895);global.WeakRef&&global.WeakMap&&global.FinalizationRegistry&&(i=r(91429));let c=r(98930);function h(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}e.exports=function(e){let{pipeline:t,targets:r,levels:f,options:d={},worker:p={},caller:g=o()}=e,y="string"==typeof g?[g]:g,m="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},b=e.target;if(b&&r)throw Error("only one of target or targets can be specified");return r?(b=m["pino-worker"]||a(__dirname,"worker.js"),d.targets=r.map(e=>({...e,target:v(e.target)}))):t&&(b=m["pino-pipeline-worker"]||a(__dirname,"worker-pipeline.js"),d.targets=t.map(e=>({...e,target:v(e.target)}))),f&&(d.levels=f),function(e,t,r){let s=new c({filename:e,workerData:t,workerOpts:r});function o(){s.closed||(s.flushSync(),u(100),s.end())}return s.on("ready",function(){process.removeListener("exit",o),s.unref(),!1!==r.autoEnd&&function(e){if(i)i.register(e,h),e.on("close",function(){i.unregister(e)});else{let t=h.bind(null,e);process.once("beforeExit",t),process.once("exit",t),e.on("close",function(){process.removeListener("beforeExit",t),process.removeListener("exit",t)})}}(s)}),s.on("close",function(){process.removeListener("exit",o)}),process.on("exit",o),s}(v(b),d,p);function v(e){let t;if(l(e=m[e]||e)||0===e.indexOf("file://"))return e;if("pino/file"===e)return a(__dirname,"..","file.js");for(let r of y)try{t=s(r).resolve(e);break}catch(e){continue}if(!t)throw Error(`unable to determine transport target for "${e}"`);return t}}},86959:(e,t,r)=>{"use strict";let i=r(22037),s=r(55584),o=r(13157),a=r(5408),l=r(92938),u=r(13759),c=r(75488),{configure:h}=r(47769),{assertDefaultLevelFound:f,mappings:d,genLsCache:p,levels:g}=r(44261),{createArgsNormalizer:y,asChindings:m,final:b,buildSafeSonicBoom:v,buildFormatters:w,stringify:_,normalizeDestFileDescriptor:D,noop:E}=r(11629),{version:S}=r(47667),{chindingsSym:x,redactFmtSym:I,serializersSym:O,timeSym:C,timeSliceIndexSym:P,streamSym:A,stringifySym:R,stringifySafeSym:T,stringifiersSym:N,setLevelSym:k,endSym:j,formatOptsSym:L,messageKeySym:$,nestedKeySym:B,mixinSym:M,useOnlyCustomLevelsSym:q,formattersSym:U,hooksSym:F,nestedKeyStrSym:z,mixinMergeStrategySym:W}=c,{epochTime:H,nullTime:V}=l,{pid:G}=process,K=i.hostname(),J=s.err,Z=y({level:"info",levels:g,messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:G,hostname:K},serializers:Object.assign(Object.create(null),{err:J}),formatters:Object.assign(Object.create(null),{bindings:e=>e,level:(e,t)=>({level:t})}),hooks:{logMethod:void 0},timestamp:H,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),Y=Object.assign(Object.create(null),s);function Q(...e){let t={},{opts:r,stream:i}=Z(t,o(),...e),{redact:s,crlf:l,serializers:c,timestamp:g,messageKey:y,nestedKey:b,base:v,name:D,level:S,customLevels:G,mixin:K,mixinMergeStrategy:J,useOnlyCustomLevels:Y,formatters:X,hooks:ee,depthLimit:et,edgeLimit:er}=r,ei=h({maximumDepth:et,maximumBreadth:er}),en=w(X.level,X.bindings,X.log),es=s?a(s,_):{},eo=_.bind({[T]:ei}),ea=s?{stringify:es[I]}:{stringify:eo},el=m.bind(null,{[x]:"",[O]:c,[N]:es,[R]:_,[T]:ei,[U]:en}),eu="";null!==v&&(eu=el(void 0===D?v:Object.assign({},v,{name:D})));let ec=g instanceof Function?g:g?H:V,eh=ec().indexOf(":")+1;if(Y&&!G)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(K&&"function"!=typeof K)throw Error(`Unknown mixin type "${typeof K}" - expected "function"`);return f(S,G,Y),Object.assign(t,{levels:d(G,Y),[q]:Y,[A]:i,[C]:ec,[P]:eh,[R]:_,[T]:ei,[N]:es,[j]:"}"+(l?"\r\n":"\n"),[L]:ea,[$]:y,[B]:b,[z]:b?`,${JSON.stringify(b)}:{`:"",[O]:c,[M]:K,[W]:J,[x]:eu,[U]:en,[F]:ee,silent:E}),Object.setPrototypeOf(t,u()),p(t),t[k](S),t}e.exports=Q,e.exports.destination=(e=process.stdout.fd)=>"object"==typeof e?(e.dest=D(e.dest||process.stdout.fd),v(e)):v({dest:D(e),minLength:0,sync:!0}),e.exports.transport=r(13593),e.exports.multistream=r(58559),e.exports.final=b,e.exports.levels=d(),e.exports.stdSerializers=Y,e.exports.stdTimeFunctions=Object.assign({},l),e.exports.symbols=c,e.exports.version=S,e.exports.default=Q,e.exports.pino=Q},72240:(e,t,r)=>{"use strict";let i=r(57147),s=r(82361),o=r(73837).inherits,a=r(71017),l=r(58895);function u(e,t){function r(r,i){if(r){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",r)}):t.emit("error",r);return}t.fd=i,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t._reopening&&(t._writing||!(t._len>t.minLength)||t.destroyed||f(t))}t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;let s=t.append?"a":"w",o=t.mode;if(t.sync)try{t.mkdir&&i.mkdirSync(a.dirname(e),{recursive:!0});let l=i.openSync(e,s,o);r(null,l)}catch(e){throw r(e),e}else t.mkdir?i.mkdir(a.dirname(e),{recursive:!0},t=>{if(t)return r(t);i.open(e,s,o,r)}):i.open(e,s,o,r)}function c(e){if(!(this instanceof c))return new c(e);let{fd:t,dest:r,minLength:s,maxLength:o,maxWrite:a,sync:p,append:g=!0,mode:y,mkdir:m,retryEAGAIN:b}=e||{};if(t=t||r,this._bufs=[],this._len=0,this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._hwm=Math.max(s||0,16387),this.file=null,this.destroyed=!1,this.minLength=s||0,this.maxLength=o||0,this.maxWrite=a||16384,this.sync=p||!1,this.append=g||!1,this.mode=y,this.retryEAGAIN=b||(()=>!0),this.mkdir=m||!1,"number"==typeof t)this.fd=t,process.nextTick(()=>this.emit("ready"));else if("string"==typeof t)u(t,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(e,t)=>{if(e){if("EAGAIN"===e.code&&this.retryEAGAIN(e,this._writingBuf.length,this._len-this._writingBuf.length)){if(this.sync)try{l(100),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(()=>{i.write(this.fd,this._writingBuf,"utf8",this.release)},100)}else this._writing=!1,this.emit("error",e);return}if(this.emit("write",t),this._len-=t,this._writingBuf=this._writingBuf.slice(t),this._writingBuf.length){if(!this.sync){i.write(this.fd,this._writingBuf,"utf8",this.release);return}try{do{let e=i.writeSync(this.fd,this._writingBuf,"utf8");this._len-=e,this._writingBuf=this._writingBuf.slice(e)}while(this._writingBuf)}catch(e){this.release(e);return}}let r=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):r>this.minLength?f(this):this._ending?r>0?f(this):(this._writing=!1,d(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(h,this)):this.emit("drain"))},this.on("newListener",function(e){"drain"===e&&(this._asyncDrainScheduled=!1)})}function h(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}function f(e){let t=e.release;if(e._writing=!0,e._writingBuf=e._writingBuf||e._bufs.shift()||"",e.sync)try{let r=i.writeSync(e.fd,e._writingBuf,"utf8");t(null,r)}catch(e){t(e)}else i.write(e.fd,e._writingBuf,"utf8",t)}function d(e){if(-1===e.fd){e.once("ready",d.bind(null,e));return}function t(t){if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}e.destroyed=!0,e._bufs=[],1!==e.fd&&2!==e.fd?i.close(e.fd,t):setImmediate(t)}o(c,s),c.prototype.write=function(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===r.length||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&f(this)),this._len<this._hwm},c.prototype.flush=function(){if(this.destroyed)throw Error("SonicBoom destroyed");this._writing||this.minLength<=0||(0===this._bufs.length&&this._bufs.push(""),f(this))},c.prototype.reopen=function(e){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&i.close(t,e=>{if(e)return this.emit("error",e)})}),u(e||this.file,this)},c.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?f(this):d(this)))},c.prototype.flushSync=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");for(!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");this._bufs.length;){let e=this._bufs[0];try{this._len-=i.writeSync(this.fd,e,"utf8"),this._bufs.shift()}catch(t){if("EAGAIN"!==t.code||!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;l(100)}}},c.prototype.destroy=function(){this.destroyed||d(this)},c.SonicBoom=c,c.default=c,e.exports=c},77410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}(r(76224));let{env:s={},argv:o=[],platform:a=""}="undefined"==typeof process?{}:process,l="NO_COLOR"in s||o.includes("--no-color"),u="FORCE_COLOR"in s||o.includes("--color"),c="dumb"===s.TERM,h=i&&i.isatty&&i.isatty(1)&&s.TERM&&!c,f=!l&&(u||"win32"===a&&!c||h||"CI"in s&&("GITHUB_ACTIONS"in s||"GITLAB_CI"in s||"CIRCLECI"in s)),d=(e,t,r,i,s=t.substring(0,e)+i,o=t.substring(e+r.length),a=o.indexOf(r))=>s+(a<0?o:d(a,o,r,i)),p=(e,t,r,i,s)=>e<0?r+t+i:r+d(e,t,i,s)+i,g=(e,t,r=e,i=e.length+1)=>s=>s||!(""===s||void 0===s)?p((""+s).indexOf(t,i),s,e,t,r):"",y=(e,t,r)=>g(`\x1b[${e}m`,`\x1b[${t}m`,r),m={reset:y(0,0),bold:y(1,22,"\x1b[22m\x1b[1m"),dim:y(2,22,"\x1b[22m\x1b[2m"),italic:y(3,23),underline:y(4,24),inverse:y(7,27),hidden:y(8,28),strikethrough:y(9,29),black:y(30,39),red:y(31,39),green:y(32,39),yellow:y(33,39),blue:y(34,39),magenta:y(35,39),cyan:y(36,39),white:y(37,39),gray:y(90,39),bgBlack:y(40,49),bgRed:y(41,49),bgGreen:y(42,49),bgYellow:y(43,49),bgBlue:y(44,49),bgMagenta:y(45,49),bgCyan:y(46,49),bgWhite:y(47,49),blackBright:y(90,39),redBright:y(91,39),greenBright:y(92,39),yellowBright:y(93,39),blueBright:y(94,39),magentaBright:y(95,39),cyanBright:y(96,39),whiteBright:y(97,39),bgBlackBright:y(100,49),bgRedBright:y(101,49),bgGreenBright:y(102,49),bgYellowBright:y(103,49),bgBlueBright:y(104,49),bgMagentaBright:y(105,49),bgCyanBright:y(106,49),bgWhiteBright:y(107,49)},b=({useColor:e=f}={})=>e?m:Object.keys(m).reduce((e,t)=>({...e,[t]:String}),{}),{reset:v,bold:w,dim:_,italic:D,underline:E,inverse:S,hidden:x,strikethrough:I,black:O,red:C,green:P,yellow:A,blue:R,magenta:T,cyan:N,white:k,gray:j,bgBlack:L,bgRed:$,bgGreen:B,bgYellow:M,bgBlue:q,bgMagenta:U,bgCyan:F,bgWhite:z,blackBright:W,redBright:H,greenBright:V,yellowBright:G,blueBright:K,magentaBright:J,cyanBright:Z,whiteBright:Y,bgBlackBright:Q,bgRedBright:X,bgGreenBright:ee,bgYellowBright:et,bgBlueBright:er,bgMagentaBright:ei,bgCyanBright:en,bgWhiteBright:es}=b();t.bgBlack=L,t.bgBlackBright=Q,t.bgBlue=q,t.bgBlueBright=er,t.bgCyan=F,t.bgCyanBright=en,t.bgGreen=B,t.bgGreenBright=ee,t.bgMagenta=U,t.bgMagentaBright=ei,t.bgRed=$,t.bgRedBright=X,t.bgWhite=z,t.bgWhiteBright=es,t.bgYellow=M,t.bgYellowBright=et,t.black=O,t.blackBright=W,t.blue=R,t.blueBright=K,t.bold=w,t.createColors=b,t.cyan=N,t.cyanBright=Z,t.dim=_,t.gray=j,t.green=P,t.greenBright=V,t.hidden=x,t.inverse=S,t.isColorSupported=f,t.italic=D,t.magenta=T,t.magentaBright=J,t.red=C,t.redBright=H,t.reset=v,t.strikethrough=I,t.underline=E,t.white=k,t.whiteBright=Y,t.yellow=A,t.yellowBright=G},56563:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Function.prototype.toString,i=Object.create,s=Object.prototype.toString,o=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},e}(),a="undefined"!=typeof WeakMap?function(){return new WeakMap}:function(){return new o};function l(e){if(!e)return i(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:i(e);if(t&&~r.call(t).indexOf("[native code]"))try{return new t}catch(e){}return i(e)}var u="g"===/test/g.flags?function(e){return e.flags}:function(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function c(e){var t=s.call(e);return t.substring(8,t.length-1)}var h="undefined"!=typeof Symbol?function(e){return e[Symbol.toStringTag]||c(e)}:c,f=Object.defineProperty,d=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.prototype,m=y.hasOwnProperty,b=y.propertyIsEnumerable,v="function"==typeof g,w=v?function(e){return p(e).concat(g(e))}:p;function _(e,t,r){for(var i=w(e),s=0,o=i.length,a=void 0,l=void 0;s<o;++s)if("callee"!==(a=i[s])&&"caller"!==a){if(!(l=d(e,a))){t[a]=r.copier(e[a],r);continue}l.get||l.set||(l.value=r.copier(l.value,r));try{f(t,a,l)}catch(e){t[a]=l.value}}return t}function D(e,t){return e.slice(0)}function E(e,t){var r=new t.Constructor;return t.cache.set(e,r),e.forEach(function(e,i){r.set(i,t.copier(e,t))}),r}function S(e,t){return new t.Constructor(e.valueOf())}function x(e,t){return e}function I(e,t){var r=new t.Constructor;return t.cache.set(e,r),e.forEach(function(e){r.add(t.copier(e,t))}),r}var O=Array.isArray,C=Object.assign,P=Object.getPrototypeOf||function(e){return e.__proto__},A={array:function(e,t){var r=new t.Constructor;t.cache.set(e,r);for(var i=0,s=e.length;i<s;++i)r[i]=t.copier(e[i],t);return r},arrayBuffer:D,blob:function(e,t){return e.slice(0,e.size,e.type)},dataView:function(e,t){return new t.Constructor(D(e.buffer))},date:function(e,t){return new t.Constructor(e.getTime())},error:x,map:E,object:v?function(e,t){var r=l(t.prototype);for(var i in t.cache.set(e,r),e)m.call(e,i)&&(r[i]=t.copier(e[i],t));for(var s=g(e),o=0,a=s.length,u=void 0;o<a;++o)u=s[o],b.call(e,u)&&(r[u]=t.copier(e[u],t));return r}:function(e,t){var r=l(t.prototype);for(var i in t.cache.set(e,r),e)m.call(e,i)&&(r[i]=t.copier(e[i],t));return r},regExp:function(e,t){var r=new t.Constructor(e.source,u(e));return r.lastIndex=e.lastIndex,r},set:I},R=C({},A,{array:function(e,t){var r=new t.Constructor;return t.cache.set(e,r),_(e,r,t)},map:function(e,t){return _(e,E(e,t),t)},object:function(e,t){var r=l(t.prototype);return t.cache.set(e,r),_(e,r,t)},set:function(e,t){return _(e,I(e,t),t)}});function T(e){var t,r={Arguments:(t=C({},A,e)).object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:S,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:S,Object:t.object,Promise:x,RegExp:t.regExp,Set:t.set,String:S,WeakMap:x,WeakSet:x,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer},i=r.Array,s=r.Object;function o(e,t){if(t.prototype=t.Constructor=void 0,!e||"object"!=typeof e)return e;if(t.cache.has(e))return t.cache.get(e);if(t.prototype=P(e),t.Constructor=t.prototype&&t.prototype.constructor,!t.Constructor||t.Constructor===Object)return s(e,t);if(O(e))return i(e,t);var o=r[h(e)];return o?o(e,t):"function"==typeof e.then?e:s(e,t)}return function(e){return o(e,{Constructor:void 0,cache:a(),copier:o,prototype:void 0})}}function N(e){return T(C({},R,e))}var k=N({}),j=T({});t.copyStrict=k,t.createCopier=T,t.createStrictCopier=N,t.default=j},32703:(e,t,r)=>{"use strict";let{isColorSupported:i}=r(77410),s=r(37007),{Transform:o}=r(62071),a=r(78578),l=r(96156),{ERROR_LIKE_KEYS:u,LEVEL_KEY:c,LEVEL_LABEL:h,MESSAGE_KEY:f,TIMESTAMP_KEY:d}=r(18910),{buildSafeSonicBoom:p,parseFactoryOptions:g}=r(22422),y=r(56730),m={colorize:i,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:u,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:c,levelLabel:h,messageFormat:null,messageKey:f,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:d,translateTime:!0,useOnlyCustomProps:!0};function b(e){let t=g(Object.assign({},m,e));return y.bind({...t,context:t})}function v(e={}){let t=b(e);return a(function(r){let i;let a=new o({objectMode:!0,autoDestroy:!0,transform(e,r,i){i(null,t(e))}});return i="object"==typeof e.destination&&"function"==typeof e.destination.write?e.destination:p({dest:e.destination||1,append:e.append,mkdir:e.mkdir,sync:e.sync}),r.on("unknown",function(e){i.write(e+"\n")}),s(r,a,i),a},{parse:"lines"})}e.exports=v,e.exports.build=v,e.exports.prettyFactory=b,e.exports.colorizerFactory=l,e.exports.default=v},96156:(e,t,r)=>{"use strict";let{LEVELS:i,LEVEL_NAMES:s}=r(18910),o=e=>e,a={default:o,60:o,50:o,40:o,30:o,20:o,10:o,message:o,greyMessage:o},{createColors:l}=r(77410),u=l({useColor:!0}),{white:c,bgRed:h,red:f,yellow:d,green:p,blue:g,gray:y,cyan:m}=u,b={default:c,60:h,50:f,40:d,30:p,20:g,10:y,message:m,greyMessage:y};function v(e){return function(t,r,{customLevels:o,customLevelNames:a}={}){let l=e?o||i:Object.assign({},i,o),u=e?a||s:Object.assign({},s,a),c="default";c=Number.isInteger(+t)?Object.prototype.hasOwnProperty.call(l,t)?t:c:Object.prototype.hasOwnProperty.call(u,t.toLowerCase())?u[t.toLowerCase()]:c;let h=l[c];return Object.prototype.hasOwnProperty.call(r,c)?r[c](h):r.default(h)}}e.exports=function(e=!1,t,r){return e&&void 0!==t?function(e,t){let r=e.reduce(function(e,[t,r]){return e[t]="function"==typeof u[r]?u[r]:c,e},{default:c,message:m,greyMessage:y}),i=t?r:Object.assign({},b,r),s=v(t),o=function(e,t){return s(e,i,t)};return o.message=o.message||i.message,o.greyMessage=o.greyMessage||i.greyMessage,o}(t,r):e?function(e){let t=v(e),r=function(e,r){return t(e,b,r)};return r.message=b.message,r.greyMessage=b.greyMessage,r}(r):function(e){let t=v(e),r=function(e,r){return t(e,a,r)};return r.message=a.message,r.greyMessage=a.greyMessage,r}(r)}},18910:e=>{"use strict";e.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}},56730:(e,t,r)=>{"use strict";e.exports=function(e){let t;if(s(e))t=e;else{let r=y(e);if(r.err||!s(r.value))return e+this.EOL;t=r.value}if(this.minimumLevel){let e;if((e=(this.useOnlyCustomProps?this.customLevels:void 0!==this.customLevelNames[this.minimumLevel])?this.customLevelNames[this.minimumLevel]:g[this.minimumLevel])||(e="string"==typeof this.minimumLevel?g[this.minimumLevel]:g[d[this.minimumLevel].toLowerCase()]),t[void 0===this.levelKey?p:this.levelKey]<e)return}let r=l({log:t,context:this.context});(this.ignoreKeys||this.includeKeys)&&(t=f({log:t,context:this.context}));let i=a({log:t,context:{...this.context,...this.context.customProperties}}),m=u({log:t,context:this.context}),b=h({log:t,context:this.context}),v="";if(this.levelFirst&&i&&(v=`${i}`),b&&""===v?v=`${b}`:b&&(v=`${v} ${b}`),!this.levelFirst&&i&&(v=v.length>0?`${v} ${i}`:i),m&&(v=v.length>0?`${v} ${m}:`:m),!1===v.endsWith(":")&&""!==v&&(v+=":"),void 0!==r&&(v=v.length>0?`${v} ${r}`:r),v.length>0&&!this.singleLine&&(v+=this.EOL),"Error"===t.type&&t.stack){let e=o({log:t,context:this.context});this.singleLine&&(v+=this.EOL),v+=e}else if(!1===this.hideObject){let e=[this.messageKey,this.levelKey,this.timestampKey].filter(e=>"string"==typeof t[e]||"number"==typeof t[e]||"boolean"==typeof t[e]),r=c({log:t,skipKeys:e,context:this.context});this.singleLine&&!/^\s$/.test(r)&&(v+=" "),v+=r}return v};let i=r(16437),s=r(23714),o=r(60338),a=r(11733),l=r(96977),u=r(27108),c=r(83192),h=r(20748),f=r(27634),{LEVELS:d,LEVEL_KEY:p,LEVEL_NAMES:g}=r(18910),y=e=>{try{return{value:i.parse(e,{protoAction:"remove"})}}catch(e){return{err:e}}}},59516:(e,t,r)=>{"use strict";e.exports=function(e){let t=new s(e);return t.on("error",function e(r){if("EPIPE"===r.code){t.write=o,t.end=o,t.flushSync=o,t.destroy=o;return}t.removeListener("error",e)}),process.env.NODE_V8_COVERAGE||e.sync||!i||function(e){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let t=r(63577);t.register(e,a),e.on("close",function(){t.unregister(e)})}}(t),t};let{isMainThread:i}=r(71267),s=r(46357),o=r(83403);function a(e,t){e.destroyed||("beforeExit"===t?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}},57833:(e,t,r)=>{"use strict";e.exports=function(e){let t=new Date(e);return i(t)?t:t=new Date(+e)};let i=r(35105)},60015:(e,t,r)=>{"use strict";e.exports=function(e,t){let r=s(t),o=r.pop();null!==(e=i(e,r))&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,o)&&delete e[o]};let i=r(75384),s=r(83386)},27634:(e,t,r)=>{"use strict";e.exports=function({log:e,context:t}){let{ignoreKeys:r,includeKeys:i}=t,a=s(e);if(i){let e={};return i.forEach(t=>{e[t]=a[t]}),e}return r.forEach(e=>{o(a,e)}),a};let{createCopier:i}=r(56563),s=i({}),o=r(60015)},25777:(e,t,r)=>{"use strict";e.exports=function(e,t=!1){if(!1===t)return e;let r=a(e);if(!l(r))return e;if(!0===t)return o(r,s);let u=t.toUpperCase();if("SYS:STANDARD"===u)return o(r,i);let c=u.substr(0,4);return"SYS:"===c||"UTC:"===c?"UTC:"===c?o(r,t):o(r,t.slice(4)):o(r,`UTC:${t}`)};let{DATE_FORMAT:i,DATE_FORMAT_SIMPLE:s}=r(18910),o=r(83265),a=r(57833),l=r(35105)},75384:(e,t,r)=>{"use strict";e.exports=function(e,t){for(let r of Array.isArray(t)?t:i(t)){if(!Object.prototype.hasOwnProperty.call(e,r))return;e=e[r]}return e};let i=r(83386)},49513:e=>{"use strict";e.exports=function(e){return e?"string"==typeof e?e.split(",").reduce((e,t,r)=>{let[i,s=r]=t.split(":");return e[i.toLowerCase()]=s,e},{}):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{}):{}:{}}},22091:e=>{"use strict";e.exports=function(e){return e?"string"==typeof e?e.split(",").reduce((e,t,r)=>{let[i,s=r]=t.split(":");return e[s]=i.toUpperCase(),e},{default:"USERLVL"}):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((t,r)=>(t[e[r]]=r.toUpperCase(),t),{default:"USERLVL"}):{}:{}}},22422:(e,t,r)=>{"use strict";e.exports={buildSafeSonicBoom:r(59516),createDate:r(57833),deleteLogProperty:r(60015),filterLog:r(27634),formatTime:r(25777),getPropertyValue:r(75384),handleCustomLevelsNamesOpts:r(49513),handleCustomLevelsOpts:r(22091),interpretConditionals:r(14742),isObject:r(23714),isValidDate:r(35105),joinLinesWithIndentation:r(5722),noop:r(83403),parseFactoryOptions:r(87900),prettifyErrorLog:r(60338),prettifyError:r(76738),prettifyLevel:r(11733),prettifyMessage:r(96977),prettifyMetadata:r(27108),prettifyObject:r(83192),prettifyTime:r(20748),splitPropertyKey:r(83386)}},14742:(e,t,r)=>{"use strict";e.exports=function(e,t){return(e=(e=(e=e.replace(/{if (.*?)}(.*?){end}/g,function(e,r,s){let o=i(t,r);return o&&s.includes(r)?s.replace(RegExp("{"+r+"}","g"),o):""})).replace(/{if (.*?)}/g,"")).replace(/{end}/g,"")).replace(/\s+/g," ").trim()};let i=r(75384)},23714:e=>{"use strict";e.exports=function(e){return"[object Object]"===Object.prototype.toString.apply(e)}},35105:e=>{"use strict";e.exports=function(e){return e instanceof Date&&!Number.isNaN(e.getTime())}},5722:e=>{"use strict";e.exports=function({input:e,ident:t="    ",eol:r="\n"}){let i=e.split(/\r?\n/);for(let e=1;e<i.length;e+=1)i[e]=t+i[e];return i.join(r)}},83403:e=>{"use strict";e.exports=function(){}},87900:(e,t,r)=>{"use strict";e.exports=function(e){let t;let r=e.crlf?"\r\n":"\n",{customPrettifiers:l,errorLikeObjectKeys:u,hideObject:c,levelFirst:h,levelKey:f,levelLabel:d,messageFormat:p,messageKey:g,minimumLevel:y,singleLine:m,timestampKey:b,translateTime:v}=e,w=e.errorProps.split(","),_="boolean"==typeof e.useOnlyCustomProps?e.useOnlyCustomProps:"true"===e.useOnlyCustomProps,D=o(e.customLevels),E=a(e.customLevels);e.customColors&&(t=e.customColors.split(",").reduce((t,r)=>{let[s,o]=r.split(":"),a=(_?e.customLevels:void 0!==E[s])?E[s]:i[s];return t.push([void 0!==a?a:s,o]),t},[]));let S={customLevels:D,customLevelNames:E};!0!==_||e.customLevels||(S.customLevels=void 0,S.customLevelNames=void 0);let x=void 0!==e.include?new Set(e.include.split(",")):void 0,I=!x&&e.ignore?new Set(e.ignore.split(",")):void 0,O=s(e.colorize,t,_),C=e.colorizeObjects?O:s(!1,[],!1);return{EOL:r,IDENT:"    ",colorizer:O,customColors:t,customLevelNames:E,customLevels:D,customPrettifiers:l,customProperties:S,errorLikeObjectKeys:u,errorProps:w,hideObject:c,ignoreKeys:I,includeKeys:x,levelFirst:h,levelKey:f,levelLabel:d,messageFormat:p,messageKey:g,minimumLevel:y,objectColorizer:C,singleLine:m,timestampKey:b,translateTime:v,useOnlyCustomProps:_}};let{LEVEL_NAMES:i}=r(18910),s=r(96156),o=r(22091),a=r(49513)},60338:(e,t,r)=>{"use strict";e.exports=function({log:e,context:t}){let{EOL:r,IDENT:l,errorProps:u,messageKey:c}=t,h=o({input:e.stack,ident:l,eol:r}),f=`${l}${h}${r}`;if(u.length>0){let o;let h=i.concat(c,"type","stack");o="*"===u[0]?Object.keys(e).filter(e=>!1===h.includes(e)):u.filter(e=>!1===h.includes(e));for(let i=0;i<o.length;i+=1){let u=o[i];if(u in e!=!1){if(s(e[u])){let i=a({log:e[u],excludeLoggerKeys:!1,context:{...t,IDENT:l+l}});f=`${f}${l}${u}: {${r}${i}${l}}${r}`;continue}f=`${f}${l}${u}: ${e[u]}${r}`}}}return f};let{LOGGER_KEYS:i}=r(18910),s=r(23714),o=r(5722),a=r(83192)},76738:(e,t,r)=>{"use strict";e.exports=function({keyName:e,lines:t,eol:r,ident:s}){let o="",a=i({input:t,ident:s,eol:r}),l=`${s}${e}: ${a}${r}`.split(r);for(let e=0;e<l.length;e+=1){0!==e&&(o+=r);let t=l[e];if(/^\s*"stack"/.test(t)){let e=/^(\s*"stack":)\s*(".*"),?$/.exec(t);if(e&&3===e.length){let i=/^\s*/.exec(t)[0].length+4,s=" ".repeat(i),a=e[2];o+=e[1]+r+s+JSON.parse(a).replace(/\n/g,r+s)}else o+=t}else o+=t}return o};let i=r(5722)},11733:(e,t,r)=>{"use strict";e.exports=function({log:e,context:t}){let{colorizer:r,customLevels:s,customLevelNames:o,levelKey:a}=t,l=t.customPrettifiers?.level,u=i(e,a);if(void 0!==u)return l?l(u):r(u,{customLevels:s,customLevelNames:o})};let i=r(75384)},96977:(e,t,r)=>{"use strict";e.exports=function({log:e,context:t}){let{colorizer:r,customLevels:a,levelKey:l,levelLabel:u,messageFormat:c,messageKey:h,useOnlyCustomProps:f}=t;if(c&&"string"==typeof c){let t=String(o(c,e)).replace(/{([^{}]+)}/g,function(t,r){let o;return r===u&&void 0!==(o=s(e,l))?(f?void 0===a:void 0===a[o])?i[o]:a[o]:s(e,r)||""});return r.message(t)}if(c&&"function"==typeof c){let t=c(e,h,u);return r.message(t)}if(h in e!=!1&&("string"==typeof e[h]||"number"==typeof e[h]||"boolean"==typeof e[h]))return r.message(e[h])};let{LEVELS:i}=r(18910),s=r(75384),o=r(14742)},27108:e=>{"use strict";e.exports=function({log:e,context:t}){let r=t.customPrettifiers,i="";if(e.name||e.pid||e.hostname){if(i+="(",e.name&&(i+=r.name?r.name(e.name):e.name),e.pid){let t=r.pid?r.pid(e.pid):e.pid;e.name&&e.pid?i+="/"+t:i+=t}e.hostname&&(i+=`${"("===i?"on":" on"} ${r.hostname?r.hostname(e.hostname):e.hostname}`),i+=")"}if(e.caller&&(i+=`${""===i?"":" "}<${r.caller?r.caller(e.caller):e.caller}>`),""!==i)return i}},83192:(e,t,r)=>{"use strict";e.exports=function({log:e,excludeLoggerKeys:t=!0,skipKeys:r=[],context:l}){let{EOL:u,IDENT:c,customPrettifiers:h,errorLikeObjectKeys:f,objectColorizer:d,singleLine:p}=l,g=[].concat(r);!0===t&&Array.prototype.push.apply(g,i);let y="",{plain:m,errors:b}=Object.entries(e).reduce(({plain:t,errors:r},[i,s])=>{if(!1===g.includes(i)){let o="function"==typeof h[i]?h[i](s,i,e):s;f.includes(i)?r[i]=o:t[i]=o}return{plain:t,errors:r}},{plain:{},errors:{}});return p?(Object.keys(m).length>0&&(y+=d.greyMessage(s(m))),y+=u,y=y.replace(/\\\\/gi,"\\")):Object.entries(m).forEach(([e,t])=>{let r="function"==typeof h[e]?t:s(t,null,2);if(void 0===r)return;let i=o({input:r=r.replace(/\\\\/gi,"\\"),ident:c,eol:u});y+=`${c}${e}:${i.startsWith(u)?"":" "}${i}${u}`}),Object.entries(b).forEach(([e,t])=>{let r="function"==typeof h[e]?t:s(t,null,2);void 0!==r&&(y+=a({keyName:e,lines:r,eol:u,ident:c}))}),y};let{LOGGER_KEYS:i}=r(18910),s=r(91078),o=r(5722),a=r(76738)},20748:(e,t,r)=>{"use strict";e.exports=function({log:e,context:t}){let{timestampKey:r,translateTime:s}=t,o=t.customPrettifiers?.time,a=null;if(r in e?a=e[r]:"timestamp"in e&&(a=e.timestamp),null===a)return;let l=s?i(a,s):a;return o?o(l):`[${l}]`};let i=r(25777)},83386:e=>{"use strict";e.exports=function(e){let t=[],r=!1,i="";for(let s=0;s<e.length;s++){let o=e.charAt(s);if("\\"===o){r=!0;continue}if(r){r=!1,i+=o;continue}if("."===o){t.push(i),i="";continue}i+=o}return i.length&&t.push(i),t}},46357:(e,t,r)=>{"use strict";let i=r(57147),s=r(82361),o=r(73837).inherits,a=r(71017),l=r(58895),u=Buffer.allocUnsafe(0),c="buffer",h="utf8";function f(e,t){function r(r,i){if(r){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",r)}):t.emit("error",r);return}let s=t._reopening;t.fd=i,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():s&&process.nextTick(()=>t.emit("drain")))}t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;let s=t.append?"a":"w",o=t.mode;if(t.sync)try{t.mkdir&&i.mkdirSync(a.dirname(e),{recursive:!0});let l=i.openSync(e,s,o);r(null,l)}catch(e){throw r(e),e}else t.mkdir?i.mkdir(a.dirname(e),{recursive:!0},t=>{if(t)return r(t);i.open(e,s,o,r)}):i.open(e,s,o,r)}function d(e){let t,r;if(!(this instanceof d))return new d(e);let{fd:s,dest:o,minLength:a,maxLength:y,maxWrite:v,sync:O,append:C=!0,mkdir:P,retryEAGAIN:A,fsync:R,contentMode:T,mode:N}=e||{};if(s=s||o,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(a||0,16387),this.file=null,this.destroyed=!1,this.minLength=a||0,this.maxLength=y||0,this.maxWrite=v||16384,this.sync=O||!1,this.writable=!0,this._fsync=R||!1,this.append=C||!1,this.mode=N,this.retryEAGAIN=A||(()=>!0),this.mkdir=P||!1,T===c)this._writingBuf=u,this.write=b,this.flush=_,this.flushSync=E,this._actualWrite=x,t=()=>i.writeSync(this.fd,this._writingBuf),r=()=>i.write(this.fd,this._writingBuf,this.release);else if(void 0===T||T===h)this._writingBuf="",this.write=m,this.flush=w,this.flushSync=D,this._actualWrite=S,t=()=>i.writeSync(this.fd,this._writingBuf,"utf8"),r=()=>i.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${h}" and "${c}", but passed ${T}`);if("number"==typeof s)this.fd=s,process.nextTick(()=>this.emit("ready"));else if("string"==typeof s)f(s,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(e,s)=>{if(e){if(("EAGAIN"===e.code||"EBUSY"===e.code)&&this.retryEAGAIN(e,this._writingBuf.length,this._len-this._writingBuf.length)){if(this.sync)try{l(100),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(r,100)}else this._writing=!1,this.emit("error",e);return}this.emit("write",s);let o=p(this._writingBuf,this._len,s);if(this._len=o.len,this._writingBuf=o.writingBuf,this._writingBuf.length){if(!this.sync){r();return}try{do{let e=t(),r=p(this._writingBuf,this._len,e);this._len=r.len,this._writingBuf=r.writingBuf}while(this._writingBuf.length)}catch(e){this.release(e);return}}this._fsync&&i.fsyncSync(this.fd);let a=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):a>this.minLength?this._actualWrite():this._ending?a>0?this._actualWrite():(this._writing=!1,I(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(g,this)):this.emit("drain"))},this.on("newListener",function(e){"drain"===e&&(this._asyncDrainScheduled=!1)})}function p(e,t,r){return"string"==typeof e&&Buffer.byteLength(e)!==r&&(r=Buffer.from(e).subarray(0,r).toString().length),t=Math.max(t-r,0),{writingBuf:e=e.slice(r),len:t}}function g(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}function y(e,t){return 0===e.length?u:1===e.length?e[0]:Buffer.concat(e,t)}function m(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===r.length||r[r.length-1].length+e.length>this.maxWrite?r.push(""+e):r[r.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function b(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,r=this._bufs,i=this._lens;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===r.length||i[i.length-1]+e.length>this.maxWrite?(r.push([e]),i.push(e.length)):(r[r.length-1].push(e),i[i.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function v(e){this._flushPending=!0;let t=()=>{this._fsync?(this._flushPending=!1,e()):i.fsync(this.fd,t=>{this._flushPending=!1,e(t)}),this.off("error",r)},r=r=>{this._flushPending=!1,e(r),this.off("drain",t)};this.once("drain",t),this.once("error",r)}function w(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let t=Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&v.call(this,e),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite())}function _(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let t=Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&v.call(this,e),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}function D(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=i.writeSync(this.fd,e,"utf8"),r=p(e,this._len,t);e=r.writingBuf,this._len=r.len,e.length<=0&&this._bufs.shift()}catch(t){if(("EAGAIN"===t.code||"EBUSY"===t.code)&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;l(100)}}try{i.fsyncSync(this.fd)}catch{}}function E(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=u);let e=u;for(;this._bufs.length||e.length;){e.length<=0&&(e=y(this._bufs[0],this._lens[0]));try{let t=i.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if(("EAGAIN"===t.code||"EBUSY"===t.code)&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;l(100)}}}function S(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=i.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else i.write(this.fd,this._writingBuf,"utf8",e)}function x(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:y(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=i.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else i.write(this.fd,this._writingBuf,e)}function I(e){if(-1===e.fd){e.once("ready",I.bind(null,e));return}function t(t){if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}e.destroyed=!0,e._bufs=[],e._lens=[],i.fsync(e.fd,function(){1!==e.fd&&2!==e.fd?i.close(e.fd,t):t()})}o(d,s),d.prototype.reopen=function(e){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&i.close(t,e=>{if(e)return this.emit("error",e)})}),f(this.file,this)},d.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():I(this)))},d.prototype.destroy=function(){this.destroyed||I(this)},d.SonicBoom=d,d.default=d,e.exports=d},40930:e=>{"use strict";e.exports=JSON.parse('{"name":"pino","version":"7.11.0","description":"super fast, all natural json logger","main":"pino.js","type":"commonjs","types":"pino.d.ts","browser":"./browser.js","files":["pino.js","file.js","pino.d.ts","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","lint":"eslint .","test":"npm run lint && npm run transpile && tap --ts && jest test/jest && npm run test-types","test-ci":"npm run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly && npm run test-types","test-ci-pnpm":"pnpm run lint && npm run transpile && tap --ts --no-coverage --no-check-coverage && pnpm run test-types","test-ci-yarn-pnp":"yarn run lint && npm run transpile && tap --ts --no-check-coverage --coverage-report=lcovonly","test-types":"tsc && tsd && ts-node test/types/pino.ts","transpile":"node ./test/fixtures/ts/transpile.cjs","cov-ui":"tap --ts --coverage-report=html","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"@types/flush-write-stream":"^1.0.0","@types/node":"^17.0.0","@types/tap":"^15.0.6","airtap":"4.0.4","benchmark":"^2.1.4","bole":"^4.0.0","bunyan":"^1.8.14","docsify-cli":"^4.4.1","eslint":"^7.17.0","eslint-config-standard":"^16.0.3","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^5.1.0","execa":"^5.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","jest":"^27.3.1","log":"^6.0.0","loglevel":"^1.6.7","pino-pretty":"^v7.6.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","rimraf":"^3.0.2","semver":"^7.0.0","split2":"^4.0.0","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^16.0.0","tape":"^5.0.0","through2":"^4.0.0","ts-node":"^10.7.0","tsd":"^0.20.0","typescript":"^4.4.4","winston":"^3.3.3"},"dependencies":{"atomic-sleep":"^1.0.0","fast-redact":"^3.0.0","on-exit-leak-free":"^0.2.0","pino-abstract-transport":"v0.5.0","pino-std-serializers":"^4.0.0","process-warning":"^1.0.0","quick-format-unescaped":"^4.0.3","real-require":"^0.1.0","safe-stable-stringify":"^2.1.0","sonic-boom":"^2.2.1","thread-stream":"^0.15.1"},"tsd":{"directory":"test/types"}}')}};