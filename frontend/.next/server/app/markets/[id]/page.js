(()=>{var e={};e.id=2619,e.ids=[2619],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},6005:e=>{"use strict";e.exports=require("node:crypto")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},52735:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(50482),i=s(69108),n=s(62563),a=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["markets",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,82442)),"/Users/macbookpro/CascadeProjects/betua/frontend/src/app/markets/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,21342)),"/Users/macbookpro/CascadeProjects/betua/frontend/src/app/layout.tsx"],template:[()=>Promise.resolve().then(s.bind(s,38140)),"/Users/macbookpro/CascadeProjects/betua/frontend/src/app/template.tsx"],error:[()=>Promise.resolve().then(s.bind(s,24117)),"/Users/macbookpro/CascadeProjects/betua/frontend/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,92793)),"/Users/macbookpro/CascadeProjects/betua/frontend/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,48206)),"/Users/macbookpro/CascadeProjects/betua/frontend/src/app/not-found.tsx"]}],c=["/Users/macbookpro/CascadeProjects/betua/frontend/src/app/markets/[id]/page.tsx"],u="/markets/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/markets/[id]/page",pathname:"/markets/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},54930:(e,t,s)=>{Promise.resolve().then(s.bind(s,53348))},53348:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r,i=s(95344),n=s(3729),a=s(89926),o=s(9977),l=s(35078),d=s(68146),c=s(86287);function u({marketId:e}){let t=(0,d.p)(),[s,r]=(0,n.useState)(""),[u,p]=(0,n.useState)(0),[m,x]=(0,n.useState)("0"),{data:g}=(0,a.do)({address:"0x0000000000000000000000000000000000000000",abi:c,functionName:"getMarketInfo",args:[e]}),{data:b}=(0,a.do)({address:"0x0000000000000000000000000000000000000000",abi:c,functionName:"getUserPosition",args:[e]}),{data:h}=(0,a.do)({address:"0x0000000000000000000000000000000000000000",abi:c,functionName:"calculateEntryPrice",args:[e,u,s?(0,o.v)(s,6):0n]}),{config:f}=(0,a.PJ)({address:"0x0000000000000000000000000000000000000000",abi:c,functionName:"takePosition",args:[e,u,s?(0,o.v)(s,6):0n]}),{write:y,isLoading:j,isSuccess:N}=(0,a.GG)(f);(0,n.useEffect)(()=>{if(h&&s){let e=v((0,o.v)(s,6),h);x((0,l.b)(e,6))}},[h,s]);let v=(e,t)=>2n*e,P=async()=>{if(!y){t({title:"Error",description:"Please check your inputs and try again",status:"error",duration:5e3,isClosable:!0});return}y()};return g?(0,i.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:g.question}),i.jsx("div",{className:"mb-6",children:i.jsx("p",{className:"text-gray-600",children:g.description})}),(0,i.jsxs)("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Market Info"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Total Liquidity:"}),(0,i.jsxs)("span",{className:"ml-2 font-medium",children:[(0,l.b)(g.totalLiquidity,6)," USDC"]})]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsx("span",{className:`ml-2 font-medium ${g.settled?"text-red-600":"text-green-600"}`,children:g.settled?"Settled":"Active"})]})]})]}),b&&b.amount>0n&&(0,i.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Position"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Amount:"}),(0,i.jsxs)("span",{className:"ml-2 font-medium",children:[(0,l.b)(b.amount,6)," USDC"]})]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Option:"}),i.jsx("span",{className:"ml-2 font-medium",children:b.option})]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Entry Price:"}),i.jsx("span",{className:"ml-2 font-medium",children:(0,l.b)(b.entryPrice,18)})]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsx("span",{className:`ml-2 font-medium ${b.settled?"text-green-600":"text-blue-600"}`,children:b.settled?"Settled":"Active"})]})]})]}),!g.settled&&(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Option"}),0===g.marketType?(0,i.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[i.jsx("button",{onClick:()=>p(0),className:`py-2 px-4 rounded-md ${0===u?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:"Yes"}),i.jsx("button",{onClick:()=>p(1),className:`py-2 px-4 rounded-md ${1===u?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:"No"})]}):i.jsx("select",{value:u,onChange:e=>p(Number(e.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:g.options.map((e,t)=>(0,i.jsxs)("option",{value:t,children:["Option ",e]},t))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Amount (USDC)"}),i.jsx("input",{type:"number",value:s,onChange:e=>r(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",step:"1"})]}),h&&i.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Entry Price:"}),i.jsx("span",{className:"font-medium",children:(0,l.b)(h,18)})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Estimated Payout:"}),(0,i.jsxs)("span",{className:"font-medium",children:[m," USDC"]})]})]})}),i.jsx("button",{onClick:P,disabled:!y||j,className:`w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${(!y||j)&&"opacity-50 cursor-not-allowed"}`,children:j?"Processing...":"Take Position"})]}),N&&i.jsx("div",{className:"mt-4 p-4 bg-green-50 text-green-800 rounded-md",children:"Position taken successfully!"})]}):i.jsx("div",{children:"Loading..."})}function p({params:e}){return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:i.jsx(u,{marketId:parseInt(e.id)})})}!function(e){e[e.BINARY=0]="BINARY",e[e.MULTIPLE_CHOICE=1]="MULTIPLE_CHOICE",e[e.NUMERIC_RANGE=2]="NUMERIC_RANGE",e[e.ORACLE_FEED=3]="ORACLE_FEED"}(r||(r={}))},82442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>a});let r=(0,s(86843).createProxy)(String.raw`/Users/macbookpro/CascadeProjects/betua/frontend/src/app/markets/[id]/page.tsx`),{__esModule:i,$$typeof:n}=r,a=r.default},68146:(e,t,s)=>{"use strict";s.d(t,{p:()=>d});var r=s(3729),i=s(90),n=s(81331),a=s(86923),o=s(18613),l=s(66357);function d(e){let{theme:t}=(0,l.uP)(),s=(0,o.OX)();return(0,r.useMemo)(()=>(function(e,t){let s=s=>({...t,...s,position:function(e,t){let s=e??"bottom";return({"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}})[s]?.[t]??s}(s?.position??t?.position,e)}),r=e=>{let t=s(e),r=(0,n.C)(t);return a.f.notify(r,t)};return r.update=(e,t)=>{a.f.update(e,s(t))},r.promise=(e,t)=>{let s=r({...t.loading,status:"loading",duration:null});e.then(e=>r.update(s,{status:"success",duration:5e3,...(0,i.P)(t.success,e)})).catch(e=>r.update(s,{status:"error",duration:5e3,...(0,i.P)(t.error,e)}))},r.closeAll=a.f.closeAll,r.close=a.f.close,r.isActive=a.f.isActive,r})(t.direction,{...s,...e}),[e,t.direction,s])}},9977:(e,t,s)=>{"use strict";function r(e,t){let[s,r="0"]=e.split("."),i=s.startsWith("-");if(i&&(s=s.slice(1)),r=r.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${r}`))&&(s=`${BigInt(s)+1n}`),r="";else if(r.length>t){let[e,i,n]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],a=Math.round(Number(`${i}.${n}`));(r=a>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${a}`).length>t&&(r=r.slice(1),s=`${BigInt(s)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${i?"-":""}${s}${r}`)}s.d(t,{v:()=>r})},86287:e=>{"use strict";e.exports=JSON.parse('{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"string","name":"question","type":"string"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"createMarket","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"}],"name":"getMarket","outputs":[{"components":[{"internalType":"address","name":"creator","type":"address"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"bool","name":"resolved","type":"bool"}],"internalType":"struct P2PMarketV2.Market","name":"","type":"tuple"}],"stateMutability":"view","type":"function"}]}')}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[9393,785],()=>s(52735));module.exports=r})();