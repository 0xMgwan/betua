(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2619],{3991:function(e,t,n){Promise.resolve().then(n.bind(n,99184))},99184:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var s,i,a=n(3827),r=n(64090),l=n(81092),o=n(20073),c=n(72647),d=n(9848);(s=i||(i={})).BINARY="BINARY",s.MULTIPLE_CHOICE="MULTIPLE_CHOICE",s.NUMERIC_RANGE="NUMERIC_RANGE",s.ORACLE_FEED="ORACLE_FEED";let u=d.M;function m(e){let{marketId:t}=e,n=(0,c.p)(),[s,i]=(0,r.useState)(""),[d,m]=(0,r.useState)(0),[p,x]=(0,r.useState)("0"),{data:g}=(0,l.do)({address:"0x0000000000000000000000000000000000000000",abi:u,functionName:"getMarketInfo",args:[t]}),{data:h}=(0,l.do)({address:"0x0000000000000000000000000000000000000000",abi:u,functionName:"getUserPosition",args:[t]}),{data:f}=(0,l.do)({address:"0x0000000000000000000000000000000000000000",abi:u,functionName:"calculateEntryPrice",args:[t,d,s?(0,o.v)(s,6):0n]}),{config:b}=(0,l.PJ)({address:"0x0000000000000000000000000000000000000000",abi:u,functionName:"takePosition",args:[t,d,s?(0,o.v)(s,6):0n]}),{write:y,isLoading:N,isSuccess:j}=(0,l.GG)(b);(0,r.useEffect)(()=>{if(f&&s){let e=v((0,o.v)(s,6),f);x(formatUnits(e,6))}},[f,s]);let v=(e,t)=>2n*e,k=async()=>{if(!y){n({title:"Error",description:"Please check your inputs and try again",status:"error",duration:5e3,isClosable:!0});return}y()};return g?(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:g.question}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("p",{className:"text-gray-600",children:g.description})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Market Info"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total Liquidity:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[formatUnits(g.totalLiquidity,6)," USDC"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,a.jsx)("span",{className:"ml-2 font-medium ".concat(g.settled?"text-red-600":"text-green-600"),children:g.settled?"Settled":"Active"})]})]})]}),h&&h.amount>0n&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Your Position"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Amount:"}),(0,a.jsxs)("span",{className:"ml-2 font-medium",children:[formatUnits(h.amount,6)," USDC"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Option:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:h.option})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Entry Price:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:formatUnits(h.entryPrice,18)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Status:"}),(0,a.jsx)("span",{className:"ml-2 font-medium ".concat(h.settled?"text-green-600":"text-blue-600"),children:h.settled?"Settled":"Active"})]})]})]}),!g.settled&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Select Option"}),"BINARY"===g.marketType?(0,a.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[(0,a.jsx)("button",{onClick:()=>m(0),className:"py-2 px-4 rounded-md ".concat(0===d?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"),children:"Yes"}),(0,a.jsx)("button",{onClick:()=>m(1),className:"py-2 px-4 rounded-md ".concat(1===d?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"),children:"No"})]}):(0,a.jsx)("select",{value:d,onChange:e=>m(Number(e.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:g.options.map((e,t)=>(0,a.jsxs)("option",{value:t,children:["Option ",e]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount (USDC)"}),(0,a.jsx)("input",{type:"number",value:s,onChange:e=>i(e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",min:"1",step:"1"})]}),f&&(0,a.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Entry Price:"}),(0,a.jsx)("span",{className:"font-medium",children:formatUnits(f,18)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Estimated Payout:"}),(0,a.jsxs)("span",{className:"font-medium",children:[p," USDC"]})]})]})}),(0,a.jsx)("button",{onClick:k,disabled:!y||N,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat((!y||N)&&"opacity-50 cursor-not-allowed"),children:N?"Processing...":"Take Position"})]}),j&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-green-50 text-green-800 rounded-md",children:"Position taken successfully!"})]}):(0,a.jsx)("div",{children:"Loading..."})}function p(e){let{params:t}=e;return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsx)(m,{marketId:parseInt(t.id)})})}},72647:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var s=n(64090),i=n(4839),a=n(65905),r=n(24810),l=n(12098),o=n(50903);function c(e){let{theme:t}=(0,o.uP)(),n=(0,l.OX)();return(0,s.useMemo)(()=>(function(e,t){let n=n=>{var s;return{...t,...n,position:function(e,t){var n;let s=null!=e?e:"bottom",i={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[s];return null!==(n=null==i?void 0:i[t])&&void 0!==n?n:s}(null!==(s=null==n?void 0:n.position)&&void 0!==s?s:null==t?void 0:t.position,e)}},s=e=>{let t=n(e),s=(0,a.C)(t);return r.f.notify(s,t)};return s.update=(e,t)=>{r.f.update(e,n(t))},s.promise=(e,t)=>{let n=s({...t.loading,status:"loading",duration:null});e.then(e=>s.update(n,{status:"success",duration:5e3,...(0,i.P)(t.success,e)})).catch(e=>s.update(n,{status:"error",duration:5e3,...(0,i.P)(t.error,e)}))},s.closeAll=r.f.closeAll,s.close=r.f.close,s.isActive=r.f.isActive,s})(t.direction,{...n,...e}),[e,t.direction,n])}},20073:function(e,t,n){"use strict";function s(e,t){let[n,s="0"]=e.split("."),i=n.startsWith("-");if(i&&(n=n.slice(1)),s=s.replace(/(0+)$/,""),0===t)1===Math.round(Number(".".concat(s)))&&(n="".concat(BigInt(n)+1n)),s="";else if(s.length>t){let[e,i,a]=[s.slice(0,t-1),s.slice(t-1,t),s.slice(t)],r=Math.round(Number("".concat(i,".").concat(a)));(s=r>9?"".concat(BigInt(e)+BigInt(1),"0").padStart(e.length+1,"0"):"".concat(e).concat(r)).length>t&&(s=s.slice(1),n="".concat(BigInt(n)+1n)),s=s.slice(0,t)}else s=s.padEnd(t,"0");return BigInt("".concat(i?"-":"").concat(n).concat(s))}n.d(t,{v:function(){return s}})},9848:function(e){"use strict";e.exports=JSON.parse('{"M":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"string","name":"question","type":"string"},{"internalType":"uint256","name":"endTime","type":"uint256"}],"name":"createMarket","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"marketId","type":"uint256"}],"name":"getMarket","outputs":[{"components":[{"internalType":"address","name":"creator","type":"address"},{"internalType":"string","name":"description","type":"string"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"bool","name":"resolved","type":"bool"}],"internalType":"struct P2PMarketV2.Market","name":"","type":"tuple"}],"stateMutability":"view","type":"function"}]}')}},function(e){e.O(0,[1092,6789,2098,2971,8069,1744],function(){return e(e.s=3991)}),_N_E=e.O()}]);